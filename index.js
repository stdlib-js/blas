// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("path"),require("buffer")):"function"==typeof define&&define.amd?define(["path","buffer"],n):(r="undefined"!=typeof globalThis?globalThis:r||self).blas=n(r.require$$0,r.require$$0$1)}(this,(function(r,n){"use strict";var e="function"==typeof Object.defineProperty?Object.defineProperty:null;var t=Object.defineProperty;function i(r){return"number"==typeof r}function o(r){var n,e="";for(n=0;n<r;n++)e+="0";return e}function a(r,n,e){var t=!1,i=n-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=e?r+o(i):o(i)+r,t&&(r="-"+r)),r}var u=String.prototype.toLowerCase,f=String.prototype.toUpperCase;function s(r){var n,e,t;switch(r.specifier){case"b":n=2;break;case"o":n=8;break;case"x":case"X":n=16;break;default:n=10}if(e=r.arg,t=parseInt(e,10),!isFinite(t)){if(!i(e))throw new Error("invalid integer. Value: "+e);t=0}return t<0&&("u"===r.specifier||10!==n)&&(t=4294967295+t+1),t<0?(e=(-t).toString(n),r.precision&&(e=a(e,r.precision,r.padRight)),e="-"+e):(e=t.toString(n),t||r.precision?r.precision&&(e=a(e,r.precision,r.padRight)):e="",r.sign&&(e=r.sign+e)),16===n&&(r.alternate&&(e="0x"+e),e=r.specifier===f.call(r.specifier)?f.call(e):u.call(e)),8===n&&r.alternate&&"0"!==e.charAt(0)&&(e="0"+e),e}var l=Math.abs,c=String.prototype.toLowerCase,h=String.prototype.toUpperCase,m=String.prototype.replace,d=/e\+(\d)$/,g=/e-(\d)$/,p=/^(\d+)$/,v=/^(\d+)e/,y=/\.0$/,w=/\.0*e/,b=/(\..*[^0])0*e/;function _(r){var n,e,t=parseFloat(r.arg);if(!isFinite(t)){if(!i(r.arg))throw new Error("invalid floating-point number. Value: "+e);t=r.arg}switch(r.specifier){case"e":case"E":e=t.toExponential(r.precision);break;case"f":case"F":e=t.toFixed(r.precision);break;case"g":case"G":l(t)<1e-4?((n=r.precision)>0&&(n-=1),e=t.toExponential(n)):e=t.toPrecision(r.precision),r.alternate||(e=m.call(e,b,"$1e"),e=m.call(e,w,"e"),e=m.call(e,y,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return e=m.call(e,d,"e+0$1"),e=m.call(e,g,"e-0$1"),r.alternate&&(e=m.call(e,p,"$1."),e=m.call(e,v,"$1.e")),t>=0&&r.sign&&(e=r.sign+e),e=r.specifier===h.call(r.specifier)?h.call(e):c.call(e)}function E(r){var n,e="";for(n=0;n<r;n++)e+=" ";return e}var T=String.fromCharCode,j=Array.isArray;function V(r){return r!=r}function x(r){var n={};return n.specifier=r.specifier,n.precision=void 0===r.precision?1:r.precision,n.width=r.width,n.flags=r.flags||"",n.mapping=r.mapping,n}function S(r){var n,e,t,i,o,u,f,l,c,h,m,d,g;if(!j(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(u="",f=1,l=0;l<r.length;l++)if(t=r[l],"string"==typeof t)u+=t;else{if(n=void 0!==t.precision,!(t=x(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+l+"`. Value: `"+t+"`.");for(t.mapping&&(f=t.mapping),e=t.flags,c=0;c<e.length;c++)switch(i=e.charAt(c)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=e.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===t.width){if(t.width=parseInt(arguments[f],10),f+=1,V(t.width))throw new TypeError("the argument for * width at position "+f+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(n&&"*"===t.precision){if(t.precision=parseInt(arguments[f],10),f+=1,V(t.precision))throw new TypeError("the argument for * precision at position "+f+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,n=!1)}switch(t.arg=arguments[f],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":n&&(t.padZeros=!1),t.arg=s(t);break;case"s":t.maxWidth=n?t.precision:-1,t.arg=String(t.arg);break;case"c":if(!V(t.arg)){if((o=parseInt(t.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=V(o)?String(t.arg):T(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":n||(t.precision=6),t.arg=_(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=a(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=(h=t.arg,m=t.width,d=t.padRight,g=void 0,(g=m-h.length)<0?h:h=d?h+E(g):E(g)+h)),u+=t.arg||"",f+=1}return u}var R=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function O(r){var n={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(n.precision="1"),n}function F(r){var n,e,t,i;for(e=[],i=0,t=R.exec(r);t;)(n=r.slice(i,R.lastIndex-t[0].length)).length&&e.push(n),e.push(O(t)),i=R.lastIndex,t=R.exec(r);return(n=r.slice(i)).length&&e.push(n),e}function A(r){var n,e;if("string"!=typeof r)throw new TypeError(A("invalid argument. First argument must be a string. Value: `%s`.",r));for(n=[F(r)],e=1;e<arguments.length;e++)n.push(arguments[e]);return S.apply(null,n)}var I,k=Object.prototype,L=k.toString,B=k.__defineGetter__,M=k.__defineSetter__,N=k.__lookupGetter__,U=k.__lookupSetter__;I=function(){try{return e({},"x",{}),!0}catch(r){return!1}}()?t:function(r,n,e){var t,i,o,a;if("object"!=typeof r||null===r||"[object Array]"===L.call(r))throw new TypeError(A("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof e||null===e||"[object Array]"===L.call(e))throw new TypeError(A("invalid argument. Property descriptor must be an object. Value: `%s`.",e));if((i="value"in e)&&(N.call(r,n)||U.call(r,n)?(t=r.__proto__,r.__proto__=k,delete r[n],r[n]=e.value,r.__proto__=t):r[n]=e.value),o="get"in e,a="set"in e,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&B&&B.call(r,n,e.get),a&&M&&M.call(r,n,e.set),r};var P=I;function C(r,n,e){P(r,n,{configurable:!1,enumerable:!0,writable:!1,value:e})}function z(r,n,e){P(r,n,{configurable:!1,enumerable:!1,writable:!1,value:e})}var D="function";function Y(r){return typeof r.get===D&&typeof r.set===D}var W={complex128:function(r,n){return r.get(n)},complex64:function(r,n){return r.get(n)},default:function(r,n){return r.get(n)}};function q(r){var n=W[r];return"function"==typeof n?n:W.default}var G={float64:function(r,n){return r[n]},float32:function(r,n){return r[n]},int32:function(r,n){return r[n]},int16:function(r,n){return r[n]},int8:function(r,n){return r[n]},uint32:function(r,n){return r[n]},uint16:function(r,n){return r[n]},uint8:function(r,n){return r[n]},uint8c:function(r,n){return r[n]},generic:function(r,n){return r[n]},default:function(r,n){return r[n]}};function $(r){var n=G[r];return"function"==typeof n?n:G.default}var J="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function H(){return J&&"symbol"==typeof Symbol.toStringTag}var X=Object.prototype.toString;var Z=Object.prototype.hasOwnProperty;function K(r,n){return null!=r&&Z.call(r,n)}var Q,rr="function"==typeof Symbol?Symbol:void 0,nr="function"==typeof rr?rr.toStringTag:"";Q=H()?function(r){var n,e,t;if(null==r)return X.call(r);e=r[nr],n=K(r,nr);try{r[nr]=void 0}catch(n){return X.call(r)}return t=X.call(r),n?r[nr]=e:delete r[nr],t}:function(r){return X.call(r)};var er=Q;var tr=Array.isArray?Array.isArray:function(r){return"[object Array]"===er(r)};function ir(r){if("function"!=typeof r)throw new TypeError(A("invalid argument. Must provide a function. Value: `%s`.",r));return function(n){var e,t;if(!tr(n))return!1;if(e=n.length,0===e)return!1;for(t=0;t<e;t++)if(!1===r(n[t]))return!1;return!0}}function or(r){return null!==r&&"object"==typeof r}function ar(r){return or(r)&&(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))}function ur(){return/^\s*function\s*([^(]*)/i}z(or,"isObjectLikeArray",ir(or));var fr=/^\s*function\s*([^(]*)/i;function sr(r){var n,e,t;if(("Object"===(e=er(r).slice(8,-1))||"Error"===e)&&r.constructor){if("string"==typeof(t=r.constructor).name)return t.name;if(n=fr.exec(t.toString()))return n[1]}return ar(r)?"Buffer":e}z(ur,"REGEXP",fr);var lr={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128",BooleanArray:"bool"},cr="function"==typeof Float64Array;function hr(r){return cr&&r instanceof Float64Array||"[object Float64Array]"===er(r)}var mr="function"==typeof Float64Array?Float64Array:null;var dr,gr="function"==typeof Float64Array?Float64Array:void 0;dr=function(){var r,n;if("function"!=typeof mr)return!1;try{r=hr(n=new mr([1,3.14,-3.14,NaN]))&&1===n[0]&&3.14===n[1]&&-3.14===n[2]&&n[3]!=n[3]}catch(n){r=!1}return r}()?gr:function(){throw new Error("not implemented")};var pr=dr,vr="function"==typeof Float32Array;function yr(r){return vr&&r instanceof Float32Array||"[object Float32Array]"===er(r)}var wr=Number.POSITIVE_INFINITY,br="function"==typeof Float32Array?Float32Array:null;var _r,Er="function"==typeof Float32Array?Float32Array:void 0;_r=function(){var r,n;if("function"!=typeof br)return!1;try{r=yr(n=new br([1,3.14,-3.14,5e40]))&&1===n[0]&&3.140000104904175===n[1]&&-3.140000104904175===n[2]&&n[3]===wr}catch(n){r=!1}return r}()?Er:function(){throw new Error("not implemented")};var Tr=_r,jr="function"==typeof Uint32Array;var Vr=4294967295,xr="function"==typeof Uint32Array?Uint32Array:null;var Sr,Rr="function"==typeof Uint32Array?Uint32Array:void 0;Sr=function(){var r,n,e;if("function"!=typeof xr)return!1;try{n=new xr(n=[1,3.14,-3.14,4294967296,4294967297]),e=n,r=(jr&&e instanceof Uint32Array||"[object Uint32Array]"===er(e))&&1===n[0]&&3===n[1]&&4294967293===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?Rr:function(){throw new Error("not implemented")};var Or=Sr,Fr="function"==typeof Int32Array;var Ar="function"==typeof Int32Array?Int32Array:null;var Ir,kr="function"==typeof Int32Array?Int32Array:void 0;Ir=function(){var r,n,e;if("function"!=typeof Ar)return!1;try{n=new Ar([1,3.14,-3.14,2147483648]),e=n,r=(Fr&&e instanceof Int32Array||"[object Int32Array]"===er(e))&&1===n[0]&&3===n[1]&&-3===n[2]&&-2147483648===n[3]}catch(n){r=!1}return r}()?kr:function(){throw new Error("not implemented")};var Lr=Ir,Br="function"==typeof Uint16Array;var Mr="function"==typeof Uint16Array?Uint16Array:null;var Nr,Ur="function"==typeof Uint16Array?Uint16Array:void 0;Nr=function(){var r,n,e;if("function"!=typeof Mr)return!1;try{n=new Mr(n=[1,3.14,-3.14,65536,65537]),e=n,r=(Br&&e instanceof Uint16Array||"[object Uint16Array]"===er(e))&&1===n[0]&&3===n[1]&&65533===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?Ur:function(){throw new Error("not implemented")};var Pr=Nr,Cr="function"==typeof Int16Array;var zr="function"==typeof Int16Array?Int16Array:null;var Dr,Yr="function"==typeof Int16Array?Int16Array:void 0;Dr=function(){var r,n,e;if("function"!=typeof zr)return!1;try{n=new zr([1,3.14,-3.14,32768]),e=n,r=(Cr&&e instanceof Int16Array||"[object Int16Array]"===er(e))&&1===n[0]&&3===n[1]&&-3===n[2]&&-32768===n[3]}catch(n){r=!1}return r}()?Yr:function(){throw new Error("not implemented")};var Wr=Dr,qr="function"==typeof Uint8Array;function Gr(r){return qr&&r instanceof Uint8Array||"[object Uint8Array]"===er(r)}var $r="function"==typeof Uint8Array?Uint8Array:null;var Jr,Hr="function"==typeof Uint8Array?Uint8Array:void 0;Jr=function(){var r,n;if("function"!=typeof $r)return!1;try{r=Gr(n=new $r(n=[1,3.14,-3.14,256,257]))&&1===n[0]&&3===n[1]&&253===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?Hr:function(){throw new Error("not implemented")};var Xr=Jr,Zr="function"==typeof Uint8ClampedArray;var Kr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Qr,rn="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Qr=function(){var r,n,e;if("function"!=typeof Kr)return!1;try{n=new Kr([-1,0,1,3.14,4.99,255,256]),e=n,r=(Zr&&e instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===er(e))&&0===n[0]&&0===n[1]&&1===n[2]&&3===n[3]&&5===n[4]&&255===n[5]&&255===n[6]}catch(n){r=!1}return r}()?rn:function(){throw new Error("not implemented")};var nn=Qr,en="function"==typeof Int8Array;var tn="function"==typeof Int8Array?Int8Array:null;var on,an="function"==typeof Int8Array?Int8Array:void 0;on=function(){var r,n,e;if("function"!=typeof tn)return!1;try{n=new tn([1,3.14,-3.14,128]),e=n,r=(en&&e instanceof Int8Array||"[object Int8Array]"===er(e))&&1===n[0]&&3===n[1]&&-3===n[2]&&-128===n[3]}catch(n){r=!1}return r}()?an:function(){throw new Error("not implemented")};var un=on;function fn(r){return"number"==typeof r}var sn=Number,ln=sn.prototype.toString;var cn=H();function hn(r){return"object"==typeof r&&(r instanceof sn||(cn?function(r){try{return ln.call(r),!0}catch(r){return!1}}(r):"[object Number]"===er(r)))}function mn(r){return fn(r)||hn(r)}z(mn,"isPrimitive",fn),z(mn,"isObject",hn);var dn=sn.NEGATIVE_INFINITY,gn=Math.floor;function pn(r){return gn(r)===r}function vn(r){return r<wr&&r>dn&&pn(r)}function yn(r){return fn(r)&&vn(r)}function wn(r){return hn(r)&&vn(r.valueOf())}function bn(r){return yn(r)||wn(r)}function _n(r){return yn(r)&&r>=0}function En(r){return wn(r)&&r.valueOf()>=0}function Tn(r){return _n(r)||En(r)}z(bn,"isPrimitive",yn),z(bn,"isObject",wn),z(Tn,"isPrimitive",_n),z(Tn,"isObject",En);var jn=4294967295;function Vn(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&pn(r.length)&&r.length>=0&&r.length<=jn}var xn=9007199254740991;function Sn(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&pn(r.length)&&r.length>=0&&r.length<=xn}var Rn="function"==typeof ArrayBuffer;function On(r){return Rn&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===er(r)}function Fn(r){return"object"==typeof r&&null!==r&&!tr(r)}function An(r){return"string"==typeof r}var In=String.prototype.valueOf;var kn=H();function Ln(r){return"object"==typeof r&&(r instanceof String||(kn?function(r){try{return In.call(r),!0}catch(r){return!1}}(r):"[object String]"===er(r)))}function Bn(r){return An(r)||Ln(r)}z(Bn,"isPrimitive",An),z(Bn,"isObject",Ln);var Mn=ir(Bn.isPrimitive),Nn=ir(Bn.isObject),Un=ir(Bn);z(Un,"primitives",Mn),z(Un,"objects",Nn);var Pn=/./;function Cn(r){return"boolean"==typeof r}var zn=Boolean,Dn=Boolean.prototype.toString;var Yn=H();function Wn(r){return"object"==typeof r&&(r instanceof zn||(Yn?function(r){try{return Dn.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===er(r)))}function qn(r){return Cn(r)||Wn(r)}z(qn,"isPrimitive",Cn),z(qn,"isObject",Wn);var Gn="object"==typeof self?self:null,$n="object"==typeof window?window:null,Jn="object"==typeof global?global:null,Hn="object"==typeof globalThis?globalThis:null;function Xn(r){if(arguments.length){if(!Cn(r))throw new TypeError(A("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return new Function("return this;")()}if(Hn)return Hn;if(Gn)return Gn;if($n)return $n;if(Jn)return Jn;throw new Error("unexpected error. Unable to resolve global object.")}var Zn=Xn(),Kn=Zn.document&&Zn.document.childNodes,Qn=Int8Array;var re="function"==typeof Pn||"object"==typeof Qn||"function"==typeof Kn?function(r){return sr(r).toLowerCase()}:function(r){var n;return null===r?"null":"object"===(n=typeof r)?sr(r).toLowerCase():n};function ne(r){return"function"===re(r)}function ee(r,n){if(!(this instanceof ee))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!fn(r))throw new TypeError(A("invalid argument. Real component must be a number. Value: `%s`.",r));if(!fn(n))throw new TypeError(A("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:r}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:n}),this}z(ee,"BYTES_PER_ELEMENT",8),z(ee.prototype,"BYTES_PER_ELEMENT",8),z(ee.prototype,"byteLength",16),z(ee.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),z(ee.prototype,"toJSON",(function(){var r={type:"Complex128"};return r.re=this.re,r.im=this.im,r}));var te="function"==typeof Math.fround?Math.fround:null,ie=new Tr(1);var oe="function"==typeof te?te:function(r){return ie[0]=r,ie[0]};function ae(r,n){if(!(this instanceof ae))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!fn(r))throw new TypeError(A("invalid argument. Real component must be a number. Value: `%s`.",r));if(!fn(n))throw new TypeError(A("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:oe(r)}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:oe(n)}),this}function ue(r){return r instanceof ee||r instanceof ae||"object"==typeof r&&null!==r&&"number"==typeof r.re&&"number"==typeof r.im}function fe(r){return pn(r/2)}z(ae,"BYTES_PER_ELEMENT",4),z(ae.prototype,"BYTES_PER_ELEMENT",4),z(ae.prototype,"byteLength",8),z(ae.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),z(ae.prototype,"toJSON",(function(){var r={type:"Complex64"};return r.re=this.re,r.im=this.im,r}));var se=8;function le(r){return"object"==typeof r&&null!==r&&"Complex64Array"===r.constructor.name&&r.BYTES_PER_ELEMENT===se}var ce=16;function he(r){return"object"==typeof r&&null!==r&&"Complex128Array"===r.constructor.name&&r.BYTES_PER_ELEMENT===ce}function me(){return"function"==typeof rr&&"symbol"==typeof rr("foo")&&K(rr,"iterator")&&"symbol"==typeof rr.iterator}var de=me()?Symbol.iterator:null;function ge(r,n,e){P(r,n,{configurable:!1,enumerable:!1,get:e})}function pe(r){return r.re}function ve(r){return r.im}function ye(r,n){return new Tr(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function we(r,n){return new pr(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function be(r){var n,e,t;for(n=[];!(e=r.next()).done;)if(Vn(t=e.value)&&t.length>=2)n.push(t[0],t[1]);else{if(!ue(t))return new TypeError(A("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",t));n.push(pe(t),ve(t))}return n}var _e=2*Tr.BYTES_PER_ELEMENT,Ee=me();function Te(r){return r instanceof xe||"object"==typeof r&&null!==r&&("Complex64Array"===r.constructor.name||"Complex128Array"===r.constructor.name)&&"number"==typeof r._length&&"object"==typeof r._buffer}function je(r){return r===xe||"Complex128Array"===r.name}function Ve(r,n){return new ae(r[n*=2],r[n+1])}function xe(){var r,n,e,t;if(n=arguments.length,!(this instanceof xe))return 0===n?new xe:1===n?new xe(arguments[0]):2===n?new xe(arguments[0],arguments[1]):new xe(arguments[0],arguments[1],arguments[2]);if(0===n)e=new Tr(0);else if(1===n)if(_n(arguments[0]))e=new Tr(2*arguments[0]);else if(Sn(arguments[0]))if((t=(e=arguments[0]).length)&&tr(e)&&ue(e[0])){if(e=function(r,n){var e,t,i,o;for(e=n.length,o=0,i=0;i<e;i++){if(!ue(t=n[i]))return null;r[o]=pe(t),r[o+1]=ve(t),o+=2}return r}(new Tr(2*t),e),null===e){if(!fe(t))throw new RangeError(A("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",t));e=new Tr(arguments[0])}}else{if(le(e))e=ye(e,0);else if(he(e))e=we(e,0);else if(!fe(t))throw new RangeError(A("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",t));e=new Tr(e)}else if(On(arguments[0])){if(!pn((e=arguments[0]).byteLength/_e))throw new RangeError(A("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",_e,e.byteLength));e=new Tr(e)}else{if(!Fn(arguments[0]))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(e=arguments[0],!1===Ee)throw new TypeError(A("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",e));if(!ne(e[de]))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if(!ne((e=e[de]()).next))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if((e=be(e))instanceof Error)throw e;e=new Tr(e)}else{if(!On(e=arguments[0]))throw new TypeError(A("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(!_n(r=arguments[1]))throw new TypeError(A("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",r));if(!pn(r/_e))throw new RangeError(A("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",_e,r));if(2===n){if(!pn((t=e.byteLength-r)/_e))throw new RangeError(A("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",_e,t));e=new Tr(e,r)}else{if(!_n(t=arguments[2]))throw new TypeError(A("invalid argument. Length must be a nonnegative integer. Value: `%s`.",t));if(t*_e>e.byteLength-r)throw new RangeError(A("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",t*_e));e=new Tr(e,r,2*t)}}return z(this,"_buffer",e),z(this,"_length",e.length/2),this}function Se(r){return r.re}function Re(r){return r.im}function Oe(r){var n,e,t;for(n=[];!(e=r.next()).done;)if(Vn(t=e.value)&&t.length>=2)n.push(t[0],t[1]);else{if(!ue(t))return new TypeError(A("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",t));n.push(Se(t),Re(t))}return n}z(xe,"BYTES_PER_ELEMENT",_e),z(xe,"name","Complex64Array"),z(xe,"from",(function(r){var n,e,t,i,o,a,u,f,s,l,c,h;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!je(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((e=arguments.length)>1){if(!ne(t=arguments[1]))throw new TypeError(A("invalid argument. Second argument must be a function. Value: `%s`.",t));e>2&&(n=arguments[2])}if(Te(r)){if(f=r.length,t){for(o=(i=new this(f))._buffer,h=0,c=0;c<f;c++){if(ue(l=t.call(n,r.get(c),c)))o[h]=pe(l),o[h+1]=ve(l);else{if(!(Vn(l)&&l.length>=2))throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(r)}if(Sn(r)){if(t){for(f=r.length,u=r.get&&r.set?q("default"):$("default"),c=0;c<f;c++)if(!ue(u(r,c))){s=!0;break}if(s){if(!fe(f))throw new RangeError(A("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,f));for(o=(i=new this(f/2))._buffer,c=0;c<f;c++)o[c]=t.call(n,u(r,c),c);return i}for(o=(i=new this(f))._buffer,h=0,c=0;c<f;c++){if(ue(l=t.call(n,u(r,c),c)))o[h]=pe(l),o[h+1]=ve(l);else{if(!(Vn(l)&&l.length>=2))throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(r)}if(Fn(r)&&Ee&&ne(r[de])){if(!ne((o=r[de]()).next))throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r));if(a=t?function(r,n,e){var t,i,o,a;for(t=[],a=-1;!(i=r.next()).done;)if(a+=1,Vn(o=n.call(e,i.value,a))&&o.length>=2)t.push(o[0],o[1]);else{if(!ue(o))return new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));t.push(pe(o),ve(o))}return t}(o,t,n):be(o),a instanceof Error)throw a;for(o=(i=new this(f=a.length/2))._buffer,c=0;c<f;c++)o[c]=a[c];return i}throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r))})),z(xe,"of",(function(){var r,n;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!je(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return new this(r)})),z(xe.prototype,"at",(function(r){if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pn(r))throw new TypeError(A("invalid argument. Must provide an integer. Value: `%s`.",r));if(r<0&&(r+=this._length),!(r<0||r>=this._length))return Ve(this._buffer,r)})),ge(xe.prototype,"buffer",(function(){return this._buffer.buffer})),ge(xe.prototype,"byteLength",(function(){return this._buffer.byteLength})),ge(xe.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),z(xe.prototype,"BYTES_PER_ELEMENT",xe.BYTES_PER_ELEMENT),z(xe.prototype,"copyWithin",(function(r,n){if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*r,2*n):this._buffer.copyWithin(2*r,2*n,2*arguments[2]),this})),z(xe.prototype,"entries",(function(){var r,n,e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,t=this._buffer,e=this._length,o=-1,z(n={},"next",(function(){if(o+=1,i||o>=e)return{done:!0};return{value:[o,Ve(t,o)],done:!1}})),z(n,"return",(function(r){if(i=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(n,de,(function(){return r.entries()})),n})),z(xe.prototype,"every",(function(r,n){var e,t;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(!r.call(n,Ve(e,t),t,this))return!1;return!0})),z(xe.prototype,"fill",(function(r,n,e){var t,i,o,a,u,f;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(t=this._buffer,i=this._length,arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=i)<0&&(n=0),arguments.length>2){if(!pn(e))throw new TypeError(A("invalid argument. Third argument must be an integer. Value: `%s`.",e));e<0&&(e+=i)<0&&(e=0),e>i&&(e=i)}else e=i}else n=0,e=i;for(a=pe(r),u=ve(r),f=n;f<e;f++)t[o=2*f]=a,t[o+1]=u;return this})),z(xe.prototype,"filter",(function(r,n){var e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=[],i=0;i<this._length;i++)o=Ve(e,i),r.call(n,o,i,this)&&t.push(o);return new this.constructor(t)})),z(xe.prototype,"find",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(i=Ve(e,t),r.call(n,i,t,this))return i})),z(xe.prototype,"findIndex",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(i=Ve(e,t),r.call(n,i,t,this))return t;return-1})),z(xe.prototype,"findLast",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length-1;t>=0;t--)if(i=Ve(e,t),r.call(n,i,t,this))return i})),z(xe.prototype,"findLastIndex",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length-1;t>=0;t--)if(i=Ve(e,t),r.call(n,i,t,this))return t;return-1})),z(xe.prototype,"forEach",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)i=Ve(e,t),r.call(n,i,t,this)})),z(xe.prototype,"get",(function(r){if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!_n(r))throw new TypeError(A("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));if(!(r>=this._length))return Ve(this._buffer,r)})),z(xe.prototype,"includes",(function(r,n){var e,t,i,o,a;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=pe(r),o=ve(r),e=this._buffer,a=n;a<this._length;a++)if(i===e[t=2*a]&&o===e[t+1])return!0;return!1})),z(xe.prototype,"indexOf",(function(r,n){var e,t,i,o,a;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=pe(r),o=ve(r),e=this._buffer,a=n;a<this._length;a++)if(i===e[t=2*a]&&o===e[t+1])return a;return-1})),z(xe.prototype,"join",(function(r){var n,e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)t=",";else{if(!An(r))throw new TypeError(A("invalid argument. First argument must be a string. Value: `%s`.",r));t=r}for(n=[],e=this._buffer,i=0;i<this._length;i++)n.push(Ve(e,i).toString());return n.join(t)})),z(xe.prototype,"keys",(function(){var r,n,e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._length,i=-1,z(n={},"next",(function(){if(i+=1,t||i>=e)return{done:!0};return{value:i,done:!1}})),z(n,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(n,de,(function(){return r.keys()})),n})),z(xe.prototype,"lastIndexOf",(function(r,n){var e,t,i,o,a;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(i=pe(r),o=ve(r),e=this._buffer,a=n;a>=0;a--)if(i===e[t=2*a]&&o===e[t+1])return a;return-1})),ge(xe.prototype,"length",(function(){return this._length})),z(xe.prototype,"map",(function(r,n){var e,t,i,o,a;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(ue(a=r.call(n,Ve(t,o),o,this)))e[2*o]=pe(a),e[2*o+1]=ve(a);else{if(!Vn(a)||2!==a.length)throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));e[2*o]=a[0],e[2*o+1]=a[1]}return i})),z(xe.prototype,"reduce",(function(r,n){var e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1)t=n,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");t=Ve(e,0),o=1}for(;o<i;o++)t=r(t,Ve(e,o),o,this);return t})),z(xe.prototype,"reduceRight",(function(r,n){var e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1)t=n,o=i-1;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");t=Ve(e,i-1),o=i-2}for(;o>=0;o--)t=r(t,Ve(e,o),o,this);return t})),z(xe.prototype,"reverse",(function(){var r,n,e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=this._length,r=this._buffer,t=gn(e/2),i=0;i<t;i++)o=e-i-1,n=r[2*i],r[2*i]=r[2*o],r[2*o]=n,n=r[2*i+1],r[2*i+1]=r[2*o+1],r[2*o+1]=n;return this})),z(xe.prototype,"set",(function(r){var n,e,t,i,o,a,u,f,s;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(t=this._buffer,arguments.length>1){if(!_n(e=arguments[1]))throw new TypeError(A("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",e))}else e=0;if(ue(r)){if(e>=this._length)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%u`.",e));return t[e*=2]=pe(r),void(t[e+1]=ve(r))}if(Te(r)){if(e+(a=r._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r._buffer,s=t.byteOffset+e*_e,n.buffer===t.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new Tr(n.length),f=0;f<n.length;f++)i[f]=n[f];n=i}for(e*=2,s=0,f=0;f<a;f++)t[e]=n[s],t[e+1]=n[s+1],e+=2,s+=2}else{if(!Sn(r))throw new TypeError(A("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",r));for(a=r.length,f=0;f<a;f++)if(!ue(r[f])){o=!0;break}if(o){if(!fe(a))throw new RangeError(A("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(e+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r,s=t.byteOffset+e*_e,n.buffer===t.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new Tr(a),f=0;f<a;f++)i[f]=n[f];n=i}for(e*=2,a/=2,s=0,f=0;f<a;f++)t[e]=n[s],t[e+1]=n[s+1],e+=2,s+=2;return}if(e+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(e*=2,f=0;f<a;f++)u=r[f],t[e]=pe(u),t[e+1]=ve(u),e+=2}})),z(xe.prototype,"slice",(function(r,n){var e,t,i,o,a,u,f;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)r=0,n=u;else{if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=u)<0&&(r=0),1===arguments.length)n=u;else{if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=u)<0&&(n=0):n>u&&(n=u)}}for(e=r<n?n-r:0,t=(i=new this.constructor(e))._buffer,f=0;f<e;f++)o=2*(f+r),t[2*f]=a[o],t[2*f+1]=a[o+1];return i})),z(xe.prototype,"some",(function(r,n){var e,t;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(r.call(n,Ve(e,t),t,this))return!0;return!1})),z(xe.prototype,"sort",(function(r){var n,e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length,n=[],i=0;i<t;i++)n.push(Ve(e,i));for(n.sort(r),i=0;i<t;i++)e[o=2*i]=pe(n[i]),e[o+1]=ve(n[i]);return this})),z(xe.prototype,"subarray",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(t=this._buffer,i=this._length,0===arguments.length)r=0,n=i;else{if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=i)<0&&(r=0),1===arguments.length)n=i;else{if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=i)<0&&(n=0):n>i&&(n=i)}}return r>=i?(i=0,e=t.byteLength):r>=n?(i=0,e=t.byteOffset+r*_e):(i=n-r,e=t.byteOffset+r*_e),new this.constructor(t.buffer,e,i<0?0:i)})),z(xe.prototype,"toLocaleString",(function(r,n){var e,t,i,o,a;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)t=[];else{if(!An(r)&&!Mn(r))throw new TypeError(A("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",r));t=r}if(arguments.length<2)e={};else{if(!Fn(n))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));e=n}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(Ve(o,a).toLocaleString(t,e));return i.join(",")})),z(xe.prototype,"toReversed",(function(){var r,n,e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=this._length,n=new this.constructor(e),t=this._buffer,r=n._buffer,i=0;i<e;i++)o=e-i-1,r[2*i]=t[2*o],r[2*i+1]=t[2*o+1];return n})),z(xe.prototype,"toSorted",(function(r){var n,e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length,n=[],i=0;i<t;i++)n.push(Ve(e,i));return n.sort(r),new xe(n)})),z(xe.prototype,"toString",(function(){var r,n,e;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=this._buffer,e=0;e<this._length;e++)r.push(Ve(n,e).toString());return r.join(",")})),z(xe.prototype,"values",(function(){var r,n,e,t,i,o;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,i=this._buffer,e=this._length,o=-1,z(r={},"next",(function(){if(o+=1,t||o>=e)return{done:!0};return{value:Ve(i,o),done:!1}})),z(r,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(r,de,(function(){return n.values()})),r})),z(xe.prototype,"with",(function(r,n){var e,t,i;if(!Te(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(i=this._length,r<0&&(r+=i),r<0||r>=i)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%s`.",r));if(!ue(n))throw new TypeError(A("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return(e=(t=new this.constructor(this._buffer))._buffer)[2*r]=pe(n),e[2*r+1]=ve(n),t}));var Fe=2*pr.BYTES_PER_ELEMENT,Ae=me();function Ie(r){return r instanceof Be||"object"==typeof r&&null!==r&&("Complex64Array"===r.constructor.name||"Complex128Array"===r.constructor.name)&&"number"==typeof r._length&&"object"==typeof r._buffer}function ke(r){return r===Be||"Complex64Array"===r.name}function Le(r,n){return new ee(r[n*=2],r[n+1])}function Be(){var r,n,e,t;if(n=arguments.length,!(this instanceof Be))return 0===n?new Be:1===n?new Be(arguments[0]):2===n?new Be(arguments[0],arguments[1]):new Be(arguments[0],arguments[1],arguments[2]);if(0===n)e=new pr(0);else if(1===n)if(_n(arguments[0]))e=new pr(2*arguments[0]);else if(Sn(arguments[0]))if((t=(e=arguments[0]).length)&&tr(e)&&ue(e[0])){if(e=function(r,n){var e,t,i,o;for(e=n.length,o=0,i=0;i<e;i++){if(!ue(t=n[i]))return null;r[o]=Se(t),r[o+1]=Re(t),o+=2}return r}(new pr(2*t),e),null===e){if(!fe(t))throw new RangeError(A("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",t));e=new pr(arguments[0])}}else{if(le(e))e=ye(e,0);else if(he(e))e=we(e,0);else if(!fe(t))throw new RangeError(A("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",t));e=new pr(e)}else if(On(arguments[0])){if(!pn((e=arguments[0]).byteLength/Fe))throw new RangeError(A("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",Fe,e.byteLength));e=new pr(e)}else{if(!Fn(arguments[0]))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(e=arguments[0],!1===Ae)throw new TypeError(A("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",e));if(!ne(e[de]))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if(!ne((e=e[de]()).next))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if((e=Oe(e))instanceof Error)throw e;e=new pr(e)}else{if(!On(e=arguments[0]))throw new TypeError(A("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(!_n(r=arguments[1]))throw new TypeError(A("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",r));if(!pn(r/Fe))throw new RangeError(A("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",Fe,r));if(2===n){if(!pn((t=e.byteLength-r)/Fe))throw new RangeError(A("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",Fe,t));e=new pr(e,r)}else{if(!_n(t=arguments[2]))throw new TypeError(A("invalid argument. Length must be a nonnegative integer. Value: `%s`.",t));if(t*Fe>e.byteLength-r)throw new RangeError(A("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",t*Fe));e=new pr(e,r,2*t)}}return z(this,"_buffer",e),z(this,"_length",e.length/2),this}function Me(r){var n,e;for(n=[];!(e=r.next()).done;)n.push(zn(e.value));return n}z(Be,"BYTES_PER_ELEMENT",Fe),z(Be,"name","Complex128Array"),z(Be,"from",(function(r){var n,e,t,i,o,a,u,f,s,l,c,h;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((e=arguments.length)>1){if(!ne(t=arguments[1]))throw new TypeError(A("invalid argument. Second argument must be a function. Value: `%s`.",t));e>2&&(n=arguments[2])}if(Ie(r)){if(f=r.length,t){for(o=(i=new this(f))._buffer,h=0,c=0;c<f;c++){if(ue(l=t.call(n,r.get(c),c)))o[h]=Se(l),o[h+1]=Re(l);else{if(!(Vn(l)&&l.length>=2))throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(r)}if(Sn(r)){if(t){for(f=r.length,u=r.get&&r.set?q("default"):$("default"),c=0;c<f;c++)if(!ue(u(r,c))){s=!0;break}if(s){if(!fe(f))throw new RangeError(A("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",f));for(o=(i=new this(f/2))._buffer,c=0;c<f;c++)o[c]=t.call(n,u(r,c),c);return i}for(o=(i=new this(f))._buffer,h=0,c=0;c<f;c++){if(ue(l=t.call(n,u(r,c),c)))o[h]=Se(l),o[h+1]=Re(l);else{if(!(Vn(l)&&l.length>=2))throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(r)}if(Fn(r)&&Ae&&ne(r[de])){if(!ne((o=r[de]()).next))throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r));if(a=t?function(r,n,e){var t,i,o,a;for(t=[],a=-1;!(i=r.next()).done;)if(a+=1,Vn(o=n.call(e,i.value,a))&&o.length>=2)t.push(o[0],o[1]);else{if(!ue(o))return new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));t.push(Se(o),Re(o))}return t}(o,t,n):Oe(o),a instanceof Error)throw a;for(o=(i=new this(f=a.length/2))._buffer,c=0;c<f;c++)o[c]=a[c];return i}throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r))})),z(Be,"of",(function(){var r,n;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return new this(r)})),z(Be.prototype,"at",(function(r){if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pn(r))throw new TypeError(A("invalid argument. Must provide an integer. Value: `%s`.",r));if(r<0&&(r+=this._length),!(r<0||r>=this._length))return Le(this._buffer,r)})),ge(Be.prototype,"buffer",(function(){return this._buffer.buffer})),ge(Be.prototype,"byteLength",(function(){return this._buffer.byteLength})),ge(Be.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),z(Be.prototype,"BYTES_PER_ELEMENT",Be.BYTES_PER_ELEMENT),z(Be.prototype,"copyWithin",(function(r,n){if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*r,2*n):this._buffer.copyWithin(2*r,2*n,2*arguments[2]),this})),z(Be.prototype,"entries",(function(){var r,n,e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,r=this._buffer,t=this._length,o=-1,a=-2,z(e={},"next",(function(){var n;if(o+=1,i||o>=t)return{done:!0};return n=new ee(r[a+=2],r[a+1]),{value:[o,n],done:!1}})),z(e,"return",(function(r){if(i=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(e,de,(function(){return n.entries()})),e})),z(Be.prototype,"every",(function(r,n){var e,t;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(!r.call(n,Le(e,t),t,this))return!1;return!0})),z(Be.prototype,"fill",(function(r,n,e){var t,i,o,a,u,f;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(t=this._buffer,i=this._length,arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=i)<0&&(n=0),arguments.length>2){if(!pn(e))throw new TypeError(A("invalid argument. Third argument must be an integer. Value: `%s`.",e));e<0&&(e+=i)<0&&(e=0),e>i&&(e=i)}else e=i}else n=0,e=i;for(a=Se(r),u=Re(r),f=n;f<e;f++)t[o=2*f]=a,t[o+1]=u;return this})),z(Be.prototype,"filter",(function(r,n){var e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=[],i=0;i<this._length;i++)o=Le(e,i),r.call(n,o,i,this)&&t.push(o);return new this.constructor(t)})),z(Be.prototype,"find",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(i=Le(e,t),r.call(n,i,t,this))return i})),z(Be.prototype,"findIndex",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(i=Le(e,t),r.call(n,i,t,this))return t;return-1})),z(Be.prototype,"findLast",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length-1;t>=0;t--)if(i=Le(e,t),r.call(n,i,t,this))return i})),z(Be.prototype,"findLastIndex",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length-1;t>=0;t--)if(i=Le(e,t),r.call(n,i,t,this))return t;return-1})),z(Be.prototype,"forEach",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)i=Le(e,t),r.call(n,i,t,this)})),z(Be.prototype,"get",(function(r){if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!_n(r))throw new TypeError(A("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));if(!(r>=this._length))return Le(this._buffer,r)})),ge(Be.prototype,"length",(function(){return this._length})),z(Be.prototype,"includes",(function(r,n){var e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=Se(r),o=Re(r),e=this._buffer,a=n;a<this._length;a++)if(i===e[t=2*a]&&o===e[t+1])return!0;return!1})),z(Be.prototype,"indexOf",(function(r,n){var e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=Se(r),o=Re(r),e=this._buffer,a=n;a<this._length;a++)if(i===e[t=2*a]&&o===e[t+1])return a;return-1})),z(Be.prototype,"join",(function(r){var n,e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)t=",";else{if(!Bn(r))throw new TypeError(A("invalid argument. First argument must be a string. Value: `%s`.",r));t=r}for(n=[],e=this._buffer,i=0;i<this._length;i++)n.push(Le(e,i).toString());return n.join(t)})),z(Be.prototype,"keys",(function(){var r,n,e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._length,i=-1,z(n={},"next",(function(){if(i+=1,t||i>=e)return{done:!0};return{value:i,done:!1}})),z(n,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(n,de,(function(){return r.keys()})),n})),z(Be.prototype,"lastIndexOf",(function(r,n){var e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ue(r))throw new TypeError(A("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(i=Se(r),o=Re(r),e=this._buffer,a=n;a>=0;a--)if(i===e[t=2*a]&&o===e[t+1])return a;return-1})),z(Be.prototype,"map",(function(r,n){var e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(ue(a=r.call(n,Le(t,o),o,this)))e[2*o]=Se(a),e[2*o+1]=Re(a);else{if(!Vn(a)||2!==a.length)throw new TypeError(A("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));e[2*o]=a[0],e[2*o+1]=a[1]}return i})),z(Be.prototype,"reduce",(function(r,n){var e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1)t=n,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");t=Le(e,0),o=1}for(;o<i;o++)t=r(t,Le(e,o),o,this);return t})),z(Be.prototype,"reduceRight",(function(r,n){var e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1)t=n,o=i-1;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");t=Le(e,i-1),o=i-2}for(;o>=0;o--)t=r(t,Le(e,o),o,this);return t})),z(Be.prototype,"reverse",(function(){var r,n,e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=this._length,r=this._buffer,t=gn(e/2),i=0;i<t;i++)o=e-i-1,n=r[2*i],r[2*i]=r[2*o],r[2*o]=n,n=r[2*i+1],r[2*i+1]=r[2*o+1],r[2*o+1]=n;return this})),z(Be.prototype,"set",(function(r){var n,e,t,i,o,a,u,f,s;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(t=this._buffer,arguments.length>1){if(!_n(e=arguments[1]))throw new TypeError(A("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",e))}else e=0;if(ue(r)){if(e>=this._length)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%u`.",e));return t[e*=2]=Se(r),void(t[e+1]=Re(r))}if(Ie(r)){if(e+(a=r._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r._buffer,s=t.byteOffset+e*Fe,n.buffer===t.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new pr(n.length),f=0;f<n.length;f++)i[f]=n[f];n=i}for(e*=2,s=0,f=0;f<a;f++)t[e]=n[s],t[e+1]=n[s+1],e+=2,s+=2}else{if(!Sn(r))throw new TypeError(A("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",r));for(a=r.length,f=0;f<a;f++)if(!ue(r[f])){o=!0;break}if(o){if(!fe(a))throw new RangeError(A("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(e+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r,s=t.byteOffset+e*Fe,n.buffer===t.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new pr(a),f=0;f<a;f++)i[f]=n[f];n=i}for(e*=2,a/=2,s=0,f=0;f<a;f++)t[e]=n[s],t[e+1]=n[s+1],e+=2,s+=2;return}if(e+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(e*=2,f=0;f<a;f++)u=r[f],t[e]=Se(u),t[e+1]=Re(u),e+=2}})),z(Be.prototype,"slice",(function(r,n){var e,t,i,o,a,u,f;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)r=0,n=u;else{if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=u)<0&&(r=0),1===arguments.length)n=u;else{if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=u)<0&&(n=0):n>u&&(n=u)}}for(e=r<n?n-r:0,t=(i=new this.constructor(e))._buffer,f=0;f<e;f++)o=2*(f+r),t[2*f]=a[o],t[2*f+1]=a[o+1];return i})),z(Be.prototype,"some",(function(r,n){var e,t;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(r.call(n,Le(e,t),t,this))return!0;return!1})),z(Be.prototype,"sort",(function(r){var n,e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length,n=[],i=0;i<t;i++)n.push(Le(e,i));for(n.sort(r),i=0;i<t;i++)e[o=2*i]=Se(n[i]),e[o+1]=Re(n[i]);return this})),z(Be.prototype,"subarray",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(t=this._buffer,i=this._length,0===arguments.length)r=0,n=i;else{if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=i)<0&&(r=0),1===arguments.length)n=i;else{if(!pn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=i)<0&&(n=0):n>i&&(n=i)}}return r>=i?(i=0,e=t.byteLength):r>=n?(i=0,e=t.byteOffset+r*Fe):(i=n-r,e=t.byteOffset+r*Fe),new this.constructor(t.buffer,e,i<0?0:i)})),z(Be.prototype,"toLocaleString",(function(r,n){var e,t,i,o,a;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)t=[];else{if(!Bn(r)&&!Mn(r))throw new TypeError(A("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",r));t=r}if(arguments.length<2)e={};else{if(!Fn(n))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));e=n}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(Le(o,a).toLocaleString(t,e));return i.join(",")})),z(Be.prototype,"toReversed",(function(){var r,n,e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=this._length,n=new this.constructor(e),t=this._buffer,r=n._buffer,i=0;i<e;i++)o=e-i-1,r[2*i]=t[2*o],r[2*i+1]=t[2*o+1];return n})),z(Be.prototype,"toSorted",(function(r){var n,e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=this._length,n=[],i=0;i<t;i++)n.push(Le(e,i));return n.sort(r),new Be(n)})),z(Be.prototype,"toString",(function(){var r,n,e;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=this._buffer,e=0;e<this._length;e++)r.push(Le(n,e).toString());return r.join(",")})),z(Be.prototype,"values",(function(){var r,n,e,t,i,o;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,i=this._buffer,e=this._length,o=-1,z(r={},"next",(function(){if(o+=1,t||o>=e)return{done:!0};return{value:Le(i,o),done:!1}})),z(r,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(r,de,(function(){return n.values()})),r})),z(Be.prototype,"with",(function(r,n){var e,t,i;if(!Ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(i=this._length,r<0&&(r+=i),r<0||r>=i)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%s`.",r));if(!ue(n))throw new TypeError(A("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return(e=(t=new this.constructor(this._buffer))._buffer)[2*r]=Se(n),e[2*r+1]=Re(n),t}));var Ne=Xr.BYTES_PER_ELEMENT,Ue=me();function Pe(r){return"object"==typeof r&&null!==r&&"BooleanArray"===r.constructor.name&&r.BYTES_PER_ELEMENT===Ne}function Ce(r){return r===ze}function ze(){var r,n,e,t,i;if(n=arguments.length,!(this instanceof ze))return 0===n?new ze:1===n?new ze(arguments[0]):2===n?new ze(arguments[0],arguments[1]):new ze(arguments[0],arguments[1],arguments[2]);if(0===n)e=new Xr(0);else if(1===n)if(_n(i=arguments[0]))e=new Xr(i);else if(Sn(i))e=function(r,n){var e,t;for(e=n.length,t=0;t<e;t++)r[t]=zn(n[t]);return r}(new Xr(i.length),i);else if(On(i))e=new Xr(i);else{if(!Fn(i))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!1===Ue)throw new TypeError(A("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",i));if(!ne(i[de]))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!ne((e=i[de]()).next))throw new TypeError(A("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));e=new Xr(Me(e))}else{if(!On(e=arguments[0]))throw new TypeError(A("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(!_n(r=arguments[1]))throw new TypeError(A("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",r));if(2===n)e=new Xr(e,r);else{if(!_n(t=arguments[2]))throw new TypeError(A("invalid argument. Length must be a nonnegative integer. Value: `%s`.",t));if(t*Ne>e.byteLength-r)throw new RangeError(A("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",t*Ne));e=new Xr(e,r,t)}}return z(this,"_buffer",e),z(this,"_length",e.length),this}z(ze,"BYTES_PER_ELEMENT",Ne),z(ze,"name","BooleanArray"),z(ze,"from",(function(r){var n,e,t,i,o,a,u,f,s;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ce(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if((e=arguments.length)>1){if(!ne(t=arguments[1]))throw new TypeError(A("invalid argument. Second argument must be a function. Value: `%s`.",t));e>2&&(n=arguments[2])}if(Sn(r)){if(t){for(f=r.length,u=r.get&&r.set?q("default"):$("default"),o=(i=new this(f))._buffer,s=0;s<f;s++)o[s]=zn(t.call(n,u(r,s),s));return i}return new this(r)}if(Fn(r)&&Ue&&ne(r[de])){if(!ne((o=r[de]()).next))throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r));for(a=t?function(r,n,e){var t,i,o;for(t=[],o=-1;!(i=r.next()).done;)o+=1,t.push(zn(n.call(e,i.value,o)));return t}(o,t,n):Me(o),o=(i=new this(f=a.length))._buffer,s=0;s<f;s++)o[s]=a[s];return i}throw new TypeError(A("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r))})),z(ze,"of",(function(){var r,n;if(!ne(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ce(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return new this(r)})),z(ze.prototype,"at",(function(r){var n,e;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!yn(r))throw new TypeError(A("invalid argument. Must provide an integer. Value: `%s`.",r));if(e=this._length,n=this._buffer,r<0&&(r+=e),!(r<0||r>=e))return zn(n[r])})),ge(ze.prototype,"buffer",(function(){return this._buffer.buffer})),ge(ze.prototype,"byteLength",(function(){return this._buffer.byteLength})),ge(ze.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),z(ze.prototype,"BYTES_PER_ELEMENT",ze.BYTES_PER_ELEMENT),z(ze.prototype,"copyWithin",(function(r,n){if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return 2===arguments.length?this._buffer.copyWithin(r,n):this._buffer.copyWithin(r,n,arguments[2]),this})),z(ze.prototype,"entries",(function(){var r,n,e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return r=this,t=this._buffer,e=this._length,o=-1,z(n={},"next",(function(){if(o+=1,i||o>=e)return{done:!0};return{value:[o,zn(t[o])],done:!1}})),z(n,"return",(function(r){if(i=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(n,de,(function(){return r.entries()})),n})),z(ze.prototype,"every",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(!r.call(n,zn(e[t]),t,this))return!1;return!0})),z(ze.prototype,"fill",(function(r,n,e){var t,i,o,a;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Cn(r))throw new TypeError(A("invalid argument. First argument must be a boolean. Value: `%s`.",r));if(t=this._buffer,i=this._length,arguments.length>1){if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=i)<0&&(n=0),arguments.length>2){if(!yn(e))throw new TypeError(A("invalid argument. Third argument must be an integer. Value: `%s`.",e));e<0&&(e+=i)<0&&(e=0),e>i&&(e=i)}else e=i}else n=0,e=i;for(o=r?1:0,a=n;a<e;a++)t[a]=o;return this})),z(ze.prototype,"filter",(function(r,n){var e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=[],i=0;i<this._length;i++)o=zn(e[i]),r.call(n,o,i,this)&&t.push(o);return new this.constructor(t)})),z(ze.prototype,"find",(function(r,n){var e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,i=0;i<this._length;i++)if(t=zn(e[i]),r.call(n,t,i,this))return t})),z(ze.prototype,"findIndex",(function(r,n){var e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,i=0;i<this._length;i++)if(t=zn(e[i]),r.call(n,t,i,this))return i;return-1})),z(ze.prototype,"findLast",(function(r,n){var e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,i=this._length-1;i>=0;i--)if(t=zn(e[i]),r.call(n,t,i,this))return t})),z(ze.prototype,"findLastIndex",(function(r,n){var e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,i=this._length-1;i>=0;i--)if(t=zn(e[i]),r.call(n,t,i,this))return i;return-1})),z(ze.prototype,"forEach",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)r.call(n,zn(e[t]),t,this)})),z(ze.prototype,"get",(function(r){if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!_n(r))throw new TypeError(A("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));if(!(r>=this._length))return zn(this._buffer[r])})),z(ze.prototype,"includes",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Cn(r))throw new TypeError(A("invalid argument. First argument must be a boolean. Value: `%s`.",r));if(arguments.length>1){if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(e=this._buffer,t=n;t<this._length;t++)if(r===zn(e[t]))return!0;return!1})),z(ze.prototype,"indexOf",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Cn(r))throw new TypeError(A("invalid argument. First argument must be a boolean. Value: `%s`.",r));if(arguments.length>1){if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(e=this._buffer,t=n;t<this._length;t++)if(r===zn(e[t]))return t;return-1})),z(ze.prototype,"join",(function(r){var n,e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(arguments.length>0){if(!An(r))throw new TypeError(A("invalid argument. First argument must be a string. Value: `%s`.",r))}else r=",";for(n=this._buffer,e=[],t=0;t<this._length;t++)n[t]?e.push("true"):e.push("false");return e.join(r)})),z(ze.prototype,"keys",(function(){var r,n,e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return r=this,e=this._length,i=-1,z(n={},"next",(function(){if(i+=1,t||i>=e)return{done:!0};return{value:i,done:!1}})),z(n,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(n,de,(function(){return r.keys()})),n})),z(ze.prototype,"lastIndexOf",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Cn(r))throw new TypeError(A("invalid argument. First argument must be a boolean. Value: `%s`.",r));if(arguments.length>1){if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(e=this._buffer,t=n;t>=0;t--)if(r===zn(e[t]))return t;return-1})),ge(ze.prototype,"length",(function(){return this._length})),z(ze.prototype,"map",(function(r,n){var e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError("invalid argument. First argument must be a function. Value: `%s`.",r);for(i=this._buffer,e=(t=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)e[o]=zn(r.call(n,zn(i[o]),o,this));return t})),z(ze.prototype,"reduce",(function(r,n){var e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,t=this._length,arguments.length>1)i=n,o=0;else{if(0===t)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=zn(e[0]),o=1}for(;o<t;o++)i=r(i,zn(e[o]),o,this);return i})),z(ze.prototype,"reduceRight",(function(r,n){var e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(e=this._buffer,t=this._length,arguments.length>1)i=n,o=t-1;else{if(0===t)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=zn(e[t-1]),o=t-2}for(;o>=0;o--)i=r(i,zn(e[o]),o,this);return i})),z(ze.prototype,"reverse",(function(){var r,n,e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(r=this._buffer,e=this._length,t=gn(e/2),i=0;i<t;i++)o=e-i-1,n=r[i],r[i]=r[o],r[o]=n;return this})),z(ze.prototype,"set",(function(r){var n,e,t,i,o,a,u;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(t=this._buffer,arguments.length>1){if(!_n(e=arguments[1]))throw new TypeError(A("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",e))}else e=0;if(Sn(r)){if(e+(o=r.length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=Pe(r)?r._buffer:r,u=t.byteOffset+e*Ne,n.buffer===t.buffer&&n.byteOffset<u&&n.byteOffset+n.byteLength>u){for(i=new Xr(n.length),a=0;a<n.length;a++)i[a]=n[a];n=i}for(a=0;a<o;e++,a++)t[e]=n[a]?1:0}else{if(e>=this._length)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%u`.",e));t[e]=r?1:0}})),z(ze.prototype,"slice",(function(r,n){var e,t,i,o,a,u;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(o=this._buffer,a=this._length,0===arguments.length)r=0,n=a;else{if(!yn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=a)<0&&(r=0),1===arguments.length)n=a;else{if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=a)<0&&(n=0):n>a&&(n=a)}}for(e=r<n?n-r:0,t=(i=new this.constructor(e))._buffer,u=0;u<e;u++)t[u]=o[u+r];return i})),z(ze.prototype,"some",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=0;t<this._length;t++)if(r.call(n,zn(e[t]),t,this))return!0;return!1})),z(ze.prototype,"sort",(function(r){var n;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(n=this._buffer,0===arguments.length)return n.sort(),this;if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));return n.sort((function(n,e){return r(zn(n),zn(e))})),this})),z(ze.prototype,"subarray",(function(r,n){var e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(t=this._buffer,i=this._length,0===arguments.length)r=0,n=i;else{if(!yn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=i)<0&&(r=0),1===arguments.length)n=i;else{if(!yn(n))throw new TypeError(A("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=i)<0&&(n=0):n>i&&(n=i)}}return r>=i?(i=0,e=t.byteLength):r>=n?(i=0,e=t.byteOffset+r*Ne):(i=n-r,e=t.byteOffset+r*Ne),new this.constructor(t.buffer,e,i<0?0:i)})),z(ze.prototype,"toLocaleString",(function(r,n){var e,t,i,o,a;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(0===arguments.length)t=[];else{if(!An(r)&&!Mn(r))throw new TypeError(A("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",r));t=r}if(arguments.length<2)e={};else{if(!Fn(n))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));e=n}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(zn(o[a]).toLocaleString(t,e));return i.join(",")})),z(ze.prototype,"toReversed",(function(){var r,n,e,t,i;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(e=this._length,n=new this.constructor(e),t=this._buffer,r=n._buffer,i=0;i<e;i++)r[i]=t[e-i-1];return n})),z(ze.prototype,"toSorted",(function(r){var n,e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=this._length,e=new this.constructor(t),i=this._buffer,n=e._buffer,o=0;o<t;o++)n[o]=i[o];if(0===arguments.length)return n.sort(),e;if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));return n.sort((function(n,e){return r(zn(n),zn(e))})),e})),z(ze.prototype,"toString",(function(){var r,n,e;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(r=[],n=this._buffer,e=0;e<this._length;e++)n[e]?r.push("true"):r.push("false");return r.join(",")})),z(ze.prototype,"values",(function(){var r,n,e,t,i,o;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return n=this,i=this._buffer,e=this._length,o=-1,z(r={},"next",(function(){if(o+=1,t||o>=e)return{done:!0};return{value:zn(i[o]),done:!1}})),z(r,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(r,de,(function(){return n.values()})),r})),z(ze.prototype,"with",(function(r,n){var e,t;if(!Pe(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!yn(r))throw new TypeError(A("invalid argument. First argument must be an integer. Value: `%s`.",r));if(t=this._length,r<0&&(r+=t),r<0||r>=t)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%s`.",r));if(!Cn(n))throw new TypeError(A("invalid argument. Second argument must be a boolean. Value: `%s`.",n));return(e=new this.constructor(this._buffer))._buffer[r]=n?1:0,e}));var De=[pr,Tr,Lr,Or,Wr,Pr,un,Xr,nn,xe,Be,ze],Ye=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128","bool"],We=Ye.length;function qe(r){var n;if(tr(r))return"generic";if(ar(r))return null;for(n=0;n<We;n++)if(r instanceof De[n])return Ye[n];return lr[sr(r)]||null}function Ge(r){var n,e,t;if(!Sn(r))throw new TypeError(A("invalid argument. Must provide an array-like object. Value: `%s`.",r));return t=qe(r),Y(r)&&(n=q(t)),e=r.length,void 0===n?function(n){var t;for(t=0;t<e;t++)if(r[t]===n)return!0;return!1}:function(t){var i;for(i=0;i<e;i++)if(n(r,i)===t)return!0;return!1}}z((function(r,n){var e,t,i,o;for(i=qe(r),t=Y(r)?q(i):$(i),e=r.length,o=0;o<e;o++)if(t(r,o)===n)return!0;return!1}),"factory",Ge);var $e=["non-unit","unit"];function Je(){return $e.slice()}function He(){return{"non-unit":131,unit:132}}z(Je,"enum",He);var Xe=Ge(Je()),Ze=["row-major","column-major"];function Ke(){return Ze.slice()}function Qe(){return{"row-major":101,"column-major":102}}z(Ke,"enum",Qe);var rt=Ge(Ke()),nt=["upper","lower"];function et(){return nt.slice()}function tt(){return{upper:121,lower:122}}z(et,"enum",tt);var it=Ge(et()),ot=["left","right"];function at(){return ot.slice()}function ut(){return{left:141,right:142}}z(at,"enum",ut);var ft=Ge(at()),st=["no-transpose","transpose","conjugate-transpose"];function lt(){return st.slice()}function ct(){return{"no-transpose":111,transpose:112,"conjugate-transpose":113}}z(lt,"enum",ct);var ht=Ge(lt()),mt={};C(mt,"isDiagonalType",Xe),C(mt,"isLayout",rt),C(mt,"isMatrixTriangle",it),C(mt,"isOperationSide",ft),C(mt,"isTransposeOperation",ht);var dt,gt=Object,pt=Object.getPrototypeOf;dt=ne(Object.getPrototypeOf)?pt:function(r){var n=function(r){return r.__proto__}(r);return n||null===n?n:"[object Function]"===er(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var vt=dt;function yt(r){return null==r?null:(r=gt(r),vt(r))}function wt(r){if("object"!=typeof r||null===r)return!1;if(r instanceof Error)return!0;for(;r;){if("[object Error]"===er(r))return!0;r=yt(r)}return!1}function bt(r){try{return function(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(r)}catch(r){return wt(r)?r:"object"==typeof r?new Error(JSON.stringify(r)):new Error(r.toString())}}function _t(r,n){return n>0?0:(1-r)*n}function Et(r){return Math.abs(r)}function Tt(r){return Et(pe(r))+Et(ve(r))}function jt(r,n){var e=pe(r),t=pe(n),i=ve(r),o=ve(n),a=oe(e*t)-oe(i*o),u=oe(e*o)+oe(i*t);return new ae(oe(a),oe(u))}function Vt(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(r<=0)return o;if(0===Tt(n))return o;for(f=i,s=u,l=0;l<r;l++)o.set((c=jt(n,e.get(f)),h=o.get(s),new ae(oe(pe(c)+pe(h)),oe(ve(c)+ve(h)))),s),f+=t,s+=a;return o}function xt(r,n,e,t,i,o){return Vt(r,n,e,t,_t(r,t),i,o,_t(r,o))}z(xt,"ndarray",Vt);var St=bt((0,r.join)(__dirname,"./native.js")),Rt=wt(St)?xt:St;function Ot(r,n,e,t,i){var o,a,u,f,s,l,c;if(r<=0)return t;if(o=ye(n,0),a=ye(t,0),1===e&&1===i){for(c=0;c<2*r;c+=2)a[c]=o[c],a[c+1]=o[c+1];return t}for(s=e<0?2*(1-r)*e:0,l=i<0?2*(1-r)*i:0,u=2*e,f=2*i,c=0;c<r;c++)a[l]=o[s],a[l+1]=o[s+1],s+=u,l+=f;return t}z(Ot,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m;if(r<=0)return i;for(u=ye(n,0),f=ye(i,0),s=2*e,l=2*o,c=2*t,h=2*a,m=0;m<r;m++)f[h]=u[c],f[h+1]=u[c+1],c+=s,h+=l;return i}));var Ft=bt((0,r.join)(__dirname,"./native.js")),At=wt(Ft)?Ot:Ft;function It(r,n,e,t){var i,o;if(r<=0||t<=0)return e;if(1===t){for(o=0;o<r;o++)e.set(jt(n,e.get(o)),o);return e}for(i=0,o=0;o<r;o++)e.set(jt(n,e.get(i)),i),i+=t;return e}z(It,"ndarray",(function(r,n,e,t,i){var o,a;if(r<=0||t<=0)return e;for(o=i,a=0;a<r;a++)e.set(jt(n,e.get(o)),o),o+=t;return e}));var kt=bt((0,r.join)(__dirname,"./native.js")),Lt=wt(kt)?It:kt;function Bt(r,n,e,t,i,o,a,u,f){var s,l,c,h,m,d,g,p;if(r<=0)return i;for(s=ye(n,0),l=ye(i,0),u=oe(u),f=oe(f),h=2*e,m=2*o,d=2*t,g=2*a,p=0;p<r;p++)c=oe(u*s[d])+oe(f*l[g]),l[g]=oe(u*l[g])-oe(f*s[d]),s[d]=c,c=oe(u*s[d+1])+oe(f*l[g+1]),l[g+1]=oe(u*l[g+1])-oe(f*s[d+1]),s[d+1]=c,d+=h,g+=m;return i}function Mt(r,n,e,t,i,o,a){return Bt(r,n,e,_t(r,e),t,i,_t(r,i),o,a)}z(Mt,"ndarray",Bt);var Nt=bt((0,r.join)(__dirname,"./native.js")),Ut=wt(Nt)?Mt:Nt;function Pt(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0)return t;if(o=ye(n,0),a=ye(t,0),1===e&&1===i){for(h=0;h<2*r;h+=2)u=o[h],o[h]=a[h],a[h]=u,u=o[m=h+1],o[m]=a[m],a[m]=u;return t}for(l=e<0?2*(1-r)*e:0,c=i<0?2*(1-r)*i:0,f=2*e,s=2*i,h=0;h<r;h++)u=o[l],o[l]=a[c],a[c]=u,u=o[l+1],o[l+1]=a[c+1],a[c+1]=u,l+=f,c+=s;return t}z(Pt,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d;if(r<=0)return i;for(u=ye(n,0),f=ye(i,0),l=2*e,c=2*o,h=2*t,m=2*a,d=0;d<r;d++)s=u[h],u[h]=f[m],f[m]=s,s=u[h+1],u[h+1]=f[m+1],f[m+1]=s,h+=l,m+=c;return i}));var Ct=bt((0,r.join)(__dirname,"./native.js")),zt=wt(Ct)?Pt:Ct;function Dt(r){return Math.abs(r)}function Yt(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;for(o=t,a=0;a<r;a++)i+=Dt(n[o]),o+=e;return i}function Wt(r,n,e){return Yt(r,n,e,_t(r,e))}z(Wt,"ndarray",Yt);var qt=bt((0,r.join)(__dirname,"./native.js")),Gt=wt(qt)?Wt:qt,$t=4;function Jt(r,n,e,t,i,o,a,u){var f,s,l,c;if(r<=0||0===n)return o;if(f=i,s=u,1===t&&1===a){if((l=r%$t)>0)for(c=0;c<l;c++)o[s]+=n*e[f],f+=t,s+=a;if(r<$t)return o;for(c=l;c<r;c+=$t)o[s]+=n*e[f],o[s+1]+=n*e[f+1],o[s+2]+=n*e[f+2],o[s+3]+=n*e[f+3],f+=$t,s+=$t;return o}for(c=0;c<r;c++)o[s]+=n*e[f],f+=t,s+=a;return o}function Ht(r,n,e,t,i,o){return r<=0||0===n?i:Jt(r,n,e,t,_t(r,t),i,o,_t(r,o))}z(Ht,"ndarray",Jt);var Xt=bt((0,r.join)(__dirname,"./native.js")),Zt=wt(Xt)?Ht:Xt;function Kt(r){return Dt(Se(r))+Dt(Re(r))}var Qt=8;function ri(r,n,e,t,i,o,a){var u,f,s,l;if(r<=0)return i;if(u=t,f=a,1===e&&1===o){if((s=r%Qt)>0)for(l=0;l<s;l++)i[f]=n[u],u+=e,f+=o;if(r<Qt)return i;for(l=s;l<r;l+=Qt)i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2],i[f+3]=n[u+3],i[f+4]=n[u+4],i[f+5]=n[u+5],i[f+6]=n[u+6],i[f+7]=n[u+7],u+=Qt,f+=Qt;return i}for(l=0;l<r;l++)i[f]=n[u],u+=e,f+=o;return i}function ni(r,n,e,t,i){return r<=0?t:ri(r,n,e,_t(r,e),t,i,_t(r,i))}z(ni,"ndarray",ri);var ei=bt((0,r.join)(__dirname,"./native.js")),ti=wt(ei)?ni:ei,ii=5;function oi(r,n,e,t,i,o,a){var u,f,s,l,c;if(u=0,r<=0)return u;if(f=t,s=a,1===e&&1===o){if((l=r%ii)>0)for(c=0;c<l;c++)u+=n[f]*i[s],f+=1,s+=1;if(r<ii)return u;for(c=l;c<r;c+=ii)u+=n[f]*i[s]+n[f+1]*i[s+1]+n[f+2]*i[s+2]+n[f+3]*i[s+3]+n[f+4]*i[s+4],f+=ii,s+=ii;return u}for(c=0;c<r;c++)u+=n[f]*i[s],f+=e,s+=o;return u}function ai(r,n,e,t,i){return r<=0?0:oi(r,n,e,_t(r,e),t,i,_t(r,i))}z(ai,"ndarray",oi);var ui,fi=bt((0,r.join)(__dirname,"./native.js")),si=ui=wt(fi)?ai:fi;const{ndarray:li}=ui;function ci(r){return Object.keys(Object(r))}var hi,mi=void 0!==Object.keys;function di(r){return"[object Arguments]"===er(r)}hi=function(){return di(arguments)}();var gi=hi;function pi(r){return r!=r}function vi(r){return fn(r)&&pi(r)}function yi(r){return hn(r)&&pi(r.valueOf())}function wi(r){return vi(r)||yi(r)}z(wi,"isPrimitive",vi),z(wi,"isObject",yi);var bi=Object.prototype.propertyIsEnumerable;var _i=!bi.call("beep","0");function Ei(r,n){var e;return null!=r&&(!(e=bi.call(r,n))&&_i&&Bn(r)?!vi(n=+n)&&yn(n)&&n>=0&&n<r.length:e)}var Ti=gi?di:function(r){return null!==r&&"object"==typeof r&&!tr(r)&&"number"==typeof r.length&&pn(r.length)&&r.length>=0&&r.length<=Vr&&K(r,"callee")&&!Ei(r,"callee")},ji=Array.prototype.slice;var Vi=Ei((function(){}),"prototype"),xi=!Ei({toString:null},"toString");function Si(r,n,e){var t,i;if(!Sn(r)&&!An(r))throw new TypeError(A("invalid argument. First argument must be an array-like object. Value: `%s`.",r));if(0===(t=r.length))return-1;if(3===arguments.length){if(!yn(e))throw new TypeError(A("invalid argument. Third argument must be an integer. Value: `%s`.",e));if(e>=0){if(e>=t)return-1;i=e}else(i=t+e)<0&&(i=0)}else i=0;if(wi(n)){for(;i<t;i++)if(wi(r[i]))return i}else for(;i<t;i++)if(r[i]===n)return i;return-1}function Ri(r){return r.constructor&&r.constructor.prototype===r}var Oi=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Fi="undefined"==typeof window?void 0:window;var Ai=function(){var r;if("undefined"===re(Fi))return!1;for(r in Fi)try{-1===Si(Oi,r)&&K(Fi,r)&&null!==Fi[r]&&"object"===re(Fi[r])&&Ri(Fi[r])}catch(r){return!0}return!1}(),Ii="undefined"!=typeof window;var ki,Li=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];ki=mi?function(){return 2!==(ci(arguments)||"").length}(1,2)?function(r){return Ti(r)?ci(ji.call(r)):ci(r)}:ci:function(r){var n,e,t,i,o,a,u;if(i=[],Ti(r)){for(u=0;u<r.length;u++)i.push(u.toString());return i}if("string"==typeof r){if(r.length>0&&!K(r,"0"))for(u=0;u<r.length;u++)i.push(u.toString())}else{if(!1==(t="function"==typeof r)&&!or(r))return i;e=Vi&&t}for(o in r)e&&"prototype"===o||!K(r,o)||i.push(String(o));if(xi)for(n=function(r){if(!1===Ii&&!Ai)return Ri(r);try{return Ri(r)}catch(r){return!1}}(r),u=0;u<Li.length;u++)a=Li[u],n&&"constructor"===a||!K(r,a)||i.push(String(a));return i};var Bi=ki,Mi=Object.prototype;function Ni(r){var n;return!!Fn(r)&&(!(n=yt(r))||!K(r,"constructor")&&K(n,"constructor")&&ne(n.constructor)&&"[object Function]"===er(n.constructor)&&K(n,"isPrototypeOf")&&ne(n.isPrototypeOf)&&(n===Mi||function(r){var n;for(n in r)if(!K(r,n))return!1;return!0}(r)))}function Ui(r,n){var e,t,i,o,a,u,f,s=!0;if(!or(r))throw new TypeError(A("invalid argument. First argument must be an object (except null). Value: `%s`.",r));if(arguments.length>1){if(!Ni(n))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));if(K(n,"duplicates")&&!Cn(s=n.duplicates))throw new TypeError(A("invalid option. `%s` option must be a boolean. Option: `%s`.","duplicates",s))}if(t=(e=Bi(r)).length,a={},s)for(f=0;f<t;f++)K(a,o=r[i=e[f]])?(u=a[o],tr(u)?a[o].push(i):a[o]=[u,i]):a[o]=i;else for(f=0;f<t;f++)a[r[i=e[f]]]=i;return a}var Pi=Ui({"non-unit":131,unit:132},{duplicates:!1});function Ci(r){var n=Pi[r];return"string"==typeof n?n:null}var zi={"non-unit":131,unit:132};function Di(r){var n=zi[r];return"number"==typeof n?n:null}var Yi=17976931348623157e292;function Wi(r){return r*r}var qi=Math.sqrt,Gi=14916681462400413e-170,$i=1997919072202235e131,Ji=44989137945431964e145,Hi=11113793747425387e-178;function Xi(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d;if(r<=0)return 0;for(m=t,i=!0,o=0,a=0,u=0,f=0,c=1,d=0;d<r;d++)(h=Dt(n[m]))>$i?(a+=Wi(h*Hi),i=!1):h<Gi?i&&(f+=Wi(h*Ji)):u+=h*h,m+=e;return a>0?((u>0||u>Yi||u!=u)&&(a+=u*Hi*Hi),c=1/Hi,o=a):f>0?u>0||u>Yi||u!=u?(u=qi(u),(f=qi(f)/Ji)>u?(l=u,s=f):(l=f,s=u),c=1,o=s*s*(1+Wi(l/s))):(c=1/Ji,o=f):(c=1,o=u),qi(o)*c}function Zi(r,n,e){return Xi(r,n,e,_t(r,e))}z(Zi,"ndarray",Xi);var Ki=bt((0,r.join)(__dirname,"./native.js")),Qi=wt(Ki)?Zi:Ki;function ro(r,n,e,t,i,o,a,u,f){var s,l,c,h;if(r<=0)return i;for(l=t,c=a,h=0;h<r;h++)s=u*n[l]+f*i[c],i[c]=u*i[c]-f*n[l],n[l]=s,l+=e,c+=o;return i}function no(r,n,e,t,i,o,a){return r<=0?t:ro(r,n,e,_t(r,e),t,i,_t(r,i),o,a)}z(no,"ndarray",ro);var eo,to=bt((0,r.join)(__dirname,"./native.js")),io=wt(to)?no:to,oo=2147483648,ao=2147483647,uo={uint16:Pr,uint8:Xr};(eo=new uo.uint16(1))[0]=4660;var fo,so,lo=52===new uo.uint8(eo.buffer)[0];!0===lo?(fo=1,so=0):(fo=0,so=1);var co={HIGH:fo,LOW:so},ho=new pr(1),mo=new Or(ho.buffer),go=co.HIGH,po=co.LOW;function vo(r,n,e,t){return ho[0]=r,n[t]=mo[go],n[t+e]=mo[po],n}function yo(r){return vo(r,[0,0],1,0)}z(yo,"assign",vo);var wo,bo,_o=!0===lo?1:0,Eo=new pr(1),To=new Or(Eo.buffer);function jo(r){return Eo[0]=r,To[_o]}!0===lo?(wo=1,bo=0):(wo=0,bo=1);var Vo={HIGH:wo,LOW:bo},xo=new pr(1),So=new Or(xo.buffer),Ro=Vo.HIGH,Oo=Vo.LOW;function Fo(r,n){return So[Ro]=r,So[Oo]=n,xo[0]}var Ao=[0,0];function Io(r,n){var e,t;return yo.assign(r,Ao,1,0),e=Ao[0],e&=ao,t=jo(n),Fo(e|=t&=oo,Ao[1])}function ko(r,n,e,t,i){var o,a,u,f,s,l,c,h;return a=Io(1,(u=Dt(r))>(f=Dt(n))?r:n),0===(o=u+f)?(l=1,c=0,s=0,h=0):(s=o*qi(Wi(r/o)+Wi(n/o)),l=r/(s*=a),c=n/s,h=1,u>f?h=c:0!==l&&(h=1/l)),r=s,n=h,e[i]=r,e[i+t]=n,e[i+2*t]=l,e[i+3*t]=c,e}function Lo(r,n){return ko(r,n,new pr(4),1,0)}function Bo(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v;if(f=u[0],r<=0||-2===f)return i;if(m=t,d=a,e===o&&e>0){if(f<0){for(s=u[1],l=u[3],c=u[2],h=u[4],g=0;g<r;g++)p=n[m],v=i[m],n[m]=p*s+v*l,i[m]=p*c+v*h,m+=e;return i}if(0===f){for(l=u[3],c=u[2],g=0;g<r;g++)p=n[m],v=i[m],n[m]=p+v*l,i[m]=p*c+v,m+=e;return i}for(s=u[1],h=u[4],g=0;g<r;g++)p=n[m],v=i[m],n[m]=p*s+v,i[m]=v*h-p,m+=e;return i}if(f<0){for(s=u[1],l=u[3],c=u[2],h=u[4],g=0;g<r;g++)p=n[m],v=i[d],n[m]=p*s+v*l,i[d]=p*c+v*h,m+=e,d+=o;return i}if(0===f){for(l=u[3],c=u[2],g=0;g<r;g++)p=n[m],v=i[d],n[m]=p+v*l,i[d]=p*c+v,m+=e,d+=o;return i}for(s=u[1],h=u[4],g=0;g<r;g++)p=n[m],v=i[d],n[m]=p*s+v,i[d]=v*h-p,m+=e,d+=o;return i}function Mo(r,n,e,t,i,o){return Bo(r,n,e,_t(r,e),t,i,_t(r,i),o)}z(Lo,"assign",ko),z(Mo,"ndarray",Bo);var No=bt((0,r.join)(__dirname,"./native.js")),Uo=wt(No)?Mo:No,Po=5;function Co(r,n,e,t,i){var o,a,u;if(r<=0||1===n)return e;if(o=i,1===t){if((a=r%Po)>0)for(u=0;u<a;u++)e[o]*=n,o+=t;if(r<Po)return e;for(u=a;u<r;u+=Po)e[o]*=n,e[o+1]*=n,e[o+2]*=n,e[o+3]*=n,e[o+4]*=n,o+=Po;return e}for(u=0;u<r;u++)e[o]*=n,o+=t;return e}function zo(r,n,e,t){return Co(r,n,e,t,_t(r,t))}z(zo,"ndarray",Co);var Do,Yo=bt((0,r.join)(__dirname,"./native.js")),Wo=Do=wt(Yo)?zo:Yo;const{ndarray:qo}=Do;var Go=5;function $o(r,n,e,t,i,o,a){var u,f,s,l,c;if(u=0,r<=0)return u;if(f=t,s=a,1===e&&1===o){if((l=r%Go)>0)for(c=0;c<l;c++)u+=n[f]*i[s],f+=1,s+=1;if(r<Go)return u;for(c=l;c<r;c+=Go)u+=n[f]*i[s]+n[f+1]*i[s+1]+n[f+2]*i[s+2]+n[f+3]*i[s+3]+n[f+4]*i[s+4],f+=Go,s+=Go;return u}for(c=0;c<r;c++)u+=n[f]*i[s],f+=e,s+=o;return u}function Jo(r,n,e,t,i){return r<=0?0:$o(r,n,e,_t(r,e),t,i,_t(r,i))}z(Jo,"ndarray",$o);var Ho=bt((0,r.join)(__dirname,"./native.js")),Xo=wt(Ho)?Jo:Ho,Zo=8;function Ko(r,n,e,t,i){var o,a,u;if(r<=0)return e;if(o=i,1===t){if((a=r%Zo)>0)for(u=0;u<a;u++)e[o]=n,o+=t;if(r<Zo)return e;for(u=a;u<r;u+=Zo)e[o]=n,e[o+1]=n,e[o+2]=n,e[o+3]=n,e[o+4]=n,e[o+5]=n,e[o+6]=n,e[o+7]=n,o+=Zo;return e}for(u=0;u<r;u++)e[o]=n,o+=t;return e}function Qo(r,n,e,t){return Ko(r,n,e,t,_t(r,t))}z(Qo,"ndarray",Ko);var ra,na=bt((0,r.join)(__dirname,"./native.js")),ea=ra=wt(na)?Qo:na;const{ndarray:ta}=ra;function ia(r,n,e,t,i,o,a,u,f,s,l,c,h){var m,d,g,p,v,y,w,b,_,E,T;if(0===e||0===t&&1===s)return l;if(1!==s&&(0===s?ta(e,0,l,c,h):qo(e,s,l,c,h)),0===t)return l;if(b=f,_=h,w=o,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(v=b,y=_,E=0;E<e;E++){for(m=t*a[v],d=0,l[y]+=m*i[w],g=v,p=y,T=w+1;T<w+e-E;T++)g+=u,l[p+=c]+=m*i[T],d+=i[T]*a[g];l[y]+=t*d,v+=u,y+=c,w+=e-E}return l}for(v=b,y=_,E=0;E<e;E++){for(m=t*a[v],d=0,g=b,p=_,T=w;T<w+E;T++)l[p]+=m*i[T],d+=i[T]*a[g],g+=u,p+=c;l[y]+=m*i[w+E]+t*d,v+=u,y+=c,w+=E+1}return l}function oa(r,n,e,t,i,o,a,u,f,s){if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===a)throw new RangeError(A("invalid argument. Seventh argument must be non-zero. Value: `%d`.",a));if(0===s)throw new RangeError(A("invalid argument. Tenth argument must be non-zero. Value: `%d`.",s));return ia(r,n,e,t,i,0,o,a,_t(e,a),u,f,s,_t(e,s))}z(oa,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h){if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===u)throw new RangeError(A("invalid argument. Eighth argument must be non-zero. Value: `%d`.",u));if(0===c)throw new RangeError(A("invalid argument. Twelfth argument must be non-zero. Value: `%d`.",c));return ia(r,n,e,t,i,o,a,u,f,s,l,c,h)}));var aa=bt((0,r.join)(__dirname,"./native.js")),ua=wt(aa)?oa:aa,fa=3;function sa(r,n,e,t,i,o,a){var u,f,s,l,c;if(r<=0)return i;if(f=t,s=a,1===e&&1===o){if((l=r%fa)>0)for(c=0;c<l;c++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;if(r<fa)return i;for(c=l;c<r;c+=fa)u=n[f],n[f]=i[s],i[s]=u,u=n[f+1],n[f+1]=i[s+1],i[s+1]=u,u=n[f+2],n[f+2]=i[s+2],i[s+2]=u,f+=fa,s+=fa;return i}for(c=0;c<r;c++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;return i}function la(r,n,e,t,i){return r<=0?t:sa(r,n,e,_t(r,e),t,i,_t(r,i))}z(la,"ndarray",sa);var ca,ha=bt((0,r.join)(__dirname,"./native.js")),ma=ca=wt(ha)?la:ha;const{ndarray:da}=ca;function ga(r){return 0===r&&1/r===wr}function pa(r,n){return pi(r)||pi(n)?NaN:r===wr||n===wr?wr:r===n&&0===r?ga(r)?r:n:r>n?r:n}function va(r,n,e,t,i,o,a,u,f,s,l){var c,h,m,d,g,p,v,y,w,b,_,E,T,j;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(o<pa(1,e))throw new RangeError("invalid argument. Sixth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,o);if(0===u)throw new RangeError("invalid argument. Eighth argument must be non-zero. Value: `%d`.",u);if(0===l)throw new RangeError("invalid argument. Eleventh argument must be non-zero. Value: `%d`.",l);if(0===e||0===t&&1===f)return s;if(_=l,1!==f&&(0===f?ea(e,0,s,l):(_<0&&(_=-_),Wo(e,f,s,_))),0===t)return s;if(w=u>0?0:(1-e)*u,b=l>0?0:(1-e)*l,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(g=w,p=b,E=0;E<e;E++){for(c=t*a[g],h=0,d=e,v=w+(m=E+1)*u,y=b+m*l,s[p]+=c*i[o*E+E],T=m;T<d;T++)j=o*E+T,s[y]+=c*i[j],h+=a[v]*i[j],v+=u,y+=l;s[p]+=t*h,g+=u,p+=l}return s}for(g=w+(e-1)*u,p=b+(e-1)*l,E=e-1;E>=0;E--){for(c=t*a[g],h=0,d=E,v=w+(m=0)*u,y=b+m*l,s[p]+=c*i[o*E+E],T=m;T<d;T++)j=o*E+T,s[y]+=c*i[j],h+=a[v]*i[j],v+=u,y+=l;s[p]+=t*h,g-=u,p-=l}return s}z(va,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h){var m,d,g,p,v,y,w,b,_,E,T,j,V;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(o<pa(1,e))throw new RangeError("invalid argument. Sixth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,o);if(0===u)throw new RangeError("invalid argument. Eighth argument must be non-zero. Value: `%d`.",u);if(0===c)throw new RangeError("invalid argument. Twelfth argument must be non-zero. Value: `%d`.",c);if(0===e||0===t&&1===s)return l;if(1!==s&&(0===s?ta(e,0,l,c,h):qo(e,s,l,c,h)),0===t)return l;if(_=f,E=h,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(v=_,y=E,T=0;T<e;T++){for(m=t*a[v],d=0,p=e,w=_+(g=T+1)*u,b=E+g*c,l[y]+=m*i[o*T+T],j=g;j<p;j++)V=o*T+j,l[b]+=m*i[V],d+=a[w]*i[V],w+=u,b+=c;l[y]+=t*d,v+=u,y+=c}return l}for(v=_+(e-1)*u,y=E+(e-1)*c,T=e-1;T>=0;T--){for(m=t*a[v],d=0,p=T,w=_+(g=0)*u,b=E+g*c,l[y]+=m*i[o*T+T],j=g;j<p;j++)V=o*T+j,l[b]+=m*i[V],d+=a[w]*i[V],w+=u,b+=c;l[y]+=t*d,v-=u,y-=c}return l}));var ya=bt((0,r.join)(__dirname,"./native.js")),wa=wt(ya)?va:ya;function ba(r,n){return r>n?r:n}function _a(r){var n,e,t,i;if(0===(n=r.length))return!1;for(e=Dt(r[0]),i=1;i<n;i++){if((t=Dt(r[i]))>e)return!1;e=t}return!0}function Ea(r,n,e,t,i,o,a,u,f,s){var l,c,h,m,d,g,p,v,y,w;if((l=_a([u,f]))?(d=f,g=u):(d=u,g=f),w=o,!l&&"upper"===r||l&&"lower"===r){for(m=w,v=0;v<n;v++){if(0!==t[m])for(c=e*t[m],y=s+g*v,h=w,p=0;p<=v;p++)a[y+d*p]+=t[h]*c,h+=i;m+=i}return a}for(m=w,v=0;v<n;v++){if(0!==t[m])for(c=e*t[m],y=s+g*v,h=m,p=v;p<n;p++)a[y+d*p]+=t[h]*c,h+=i;m+=i}return a}function Ta(r,n,e,t,i,o,a,u){var f,s;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===o)throw new RangeError(A("invalid argument. Sixth argument must be non-zero. Value: `%d`.",o));if(u<ba(1,e))throw new RangeError(A("invalid argument. Eighth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,u));return 0===e||0===t?a:("column-major"===r?(f=1,s=u):(f=u,s=1),Ea(n,e,t,i,o,_t(e,o),a,f,s,0))}z(Ta,"ndarray",(function(r,n,e,t,i,o,a,u,f,s){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",r));if(n<0)throw new RangeError(A("invalid argument. Second argument must be a nonnegative integer. Value: `%d`.",n));if(0===i)throw new RangeError(A("invalid argument. Fifth argument must be non-zero. Value: `%d`.",i));return 0===n||0===e?a:Ea(r,n,e,t,i,o,a,u,f,s)}));var ja=bt((0,r.join)(__dirname,"./native.js")),Va=wt(ja)?Ta:ja;function xa(r,n,e,t,i,o,a,u,f,s,l,c,h){var m,d,g,p,v,y,w,b,_,E,T,j,V,x;if((g=_a([l,c]))?(b=c,_=l):(b=l,_=c),v=V=o,w=x=f,g&&"lower"===r||!g&&"upper"===r){for(T=0;T<n;T++){if(0!==t[v]||0!==a[w])for(m=e*a[w],d=e*t[v],j=h+_*T,p=V,y=x,E=0;E<=T;E++)s[j+b*E]+=t[p]*m+a[y]*d,p+=i,y+=u;v+=i,w+=u}return s}for(T=0;T<n;T++){if(0!==t[v]||0!==a[w])for(m=e*a[w],d=e*t[v],j=h+_*T,p=v,y=w,E=T;E<n;E++)s[j+b*E]+=t[p]*m+a[y]*d,p+=i,y+=u;v+=i,w+=u}return s}function Sa(r,n,e,t,i,o,a,u,f,s){var l,c;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===o)throw new RangeError(A("invalid argument. Sixth argument must be non-zero. Value: `%d`.",o));if(0===u)throw new RangeError(A("invalid argument. Eighth argument must be non-zero. Value: `%d`.",o));if(s<ba(1,e))throw new RangeError(A("invalid argument. Tenth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,s));return 0===e||0===t?f:("column-major"===r?(l=1,c=s):(l=s,c=1),xa(n,e,t,i,o,_t(e,o),a,u,_t(e,u),f,l,c,0))}z(Sa,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether the reference the lower or upper triangular matrix. Value: `%s`.",r));if(n<0)throw new RangeError(A("invalid argument. Second argument must be a nonnegative integer. Value: `%d`.",n));if(0===i)throw new RangeError(A("invalid argument. Fifth argument must be non-zero. Value: `%d`.",i));if(0===u)throw new RangeError(A("invalid argument. Eighth argument must be non-zero. Value: `%d`.",i));return 0===n||0===e?s:xa(r,n,e,t,i,o,a,u,f,s,l,c,h)}));var Ra=bt((0,r.join)(__dirname,"./native.js")),Oa=wt(Ra)?Sa:Ra;function Fa(r,n,e,t,i,o,a,u,f,s,l){var c,h,m,d,g,p,v,y,w,b,_;if(c="non-unit"===e,(h=_a([o,a]))?(d=a,g=o):(d=o,g=a),_=l,!h&&"no-transpose"===n&&"upper"===r||h&&"no-transpose"!==n&&"lower"===r){for(v=_,w=0;w<t;w++){if(0!==f[v]){for(m=f[v],b=u+g*w,p=_,y=0;y<w;y++)f[p]+=m*i[b+d*y],p+=s;c&&(f[v]*=i[b+d*w])}v+=s}return f}if(!h&&"no-transpose"===n&&"lower"===r||h&&"no-transpose"!==n&&"upper"===r){for(v=_+=(t-1)*s,w=t-1;w>=0;w--){if(0!==f[v]){for(m=f[v],b=u+g*w,p=_,y=t-1;y>w;y--)f[p]+=m*i[b+d*y],p-=s;c&&(f[v]*=i[b+d*w])}v-=s}return f}if(!h&&"no-transpose"!==n&&"upper"===r||h&&"no-transpose"===n&&"lower"===r){for(v=_+(t-1)*s,w=t-1;w>=0;w--){for(m=f[v],b=u+g*w,p=v,c&&(m*=i[b+d*w]),y=w-1;y>=0;y--)m+=f[p-=s]*i[b+d*y];f[v]=m,v-=s}return f}for(v=_,w=0;w<t;w++){for(m=f[v],b=u+g*w,p=v,c&&(m*=i[b+d*w]),y=w+1;y<t;y++)m+=f[p+=s]*i[b+d*y];f[v]=m,v+=s}return f}function Aa(r,n,e,t,i,o,a,u,f){var s,l;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n));if(!ht(e))throw new TypeError(A("invalid argument. Third argument must be a valid transpose operation. Value: `%s`.",e));if(!Xe(t))throw new TypeError(A("invalid argument. Fourth argument must be a valid diagonal type. Value: `%s`.",t));if(i<0)throw new RangeError(A("invalid argument. Fifth argument must be a nonnegative integer. Value: `%d`.",i));if(a<ba(1,i))throw new RangeError(A("invalid argument. Seventh argument must be greater than or equal to max(1,%d). Value: `%d`.",i,a));if(0===f)throw new RangeError(A("invalid argument. Ninth argument must be non-zero. Value: `%d`.",f));return 0===i?u:("column-major"===r?(s=1,l=a):(s=a,l=1),Fa(n,e,t,i,o,s,l,0,u,f,_t(i,f)))}z(Aa,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",r));if(!ht(n))throw new TypeError(A("invalid argument. Second argument must be a valid transpose operation. Value: `%s`.",n));if(!Xe(e))throw new TypeError(A("invalid argument. Third argument must be a valid diagonal type. Value: `%s`.",e));if(t<0)throw new RangeError(A("invalid argument. Fourth argument must be a nonnegative integer. Value: `%d`.",t));if(0===s)throw new RangeError(A("invalid argument. Tenth argument must be non-zero. Value: `%d`.",s));return 0===t?f:Fa(r,n,e,t,i,o,a,u,f,s,l)}));var Ia=bt((0,r.join)(__dirname,"./native.js")),ka=wt(Ia)?Aa:Ia,La=14916681462400413e-170,Ba=1997919072202235e131,Ma=44989137945431964e145,Na=11113793747425387e-178;function Ua(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;for(a=we(n,0),g=2*e,d=2*t,i=!0,o=0,u=0,f=0,s=0,h=1,p=0;p<r;p++)(m=Dt(a[d]))>Ba?(u+=Wi(m*Na),i=!1):m<La?i&&(s+=Wi(m*Ma)):f+=m*m,(m=Dt(a[d+1]))>Ba?(u+=Wi(m*Na),i=!1):m<La?i&&(s+=Wi(m*Ma)):f+=m*m,d+=g;return u>0?((f>0||f>Yi||f!=f)&&(u+=f*Na*Na),h=1/Na,o=u):s>0?f>0||f>Yi||f!=f?(f=qi(f),(s=qi(s)/Ma)>f?(c=f,l=s):(c=s,l=f),h=1,o=l*l*(1+Wi(c/l))):(h=1/Ma,o=s):(h=1,o=f),qi(o)*h}function Pa(r,n,e){return Ua(r,n,e,_t(r,e))}z(Pa,"ndarray",Ua);var Ca=bt((0,r.join)(__dirname,"./native.js")),za=wt(Ca)?Pa:Ca;function Da(r,n,e){var t,i,o;if(t=0,r<=0||e<=0)return t;if(1===e){if((i=r%6)>0)for(o=0;o<i;o++)t+=Dt(n[o]);if(r<6)return t;for(o=i;o<r;o+=6)t+=Dt(n[o])+Dt(n[o+1])+Dt(n[o+2])+Dt(n[o+3])+Dt(n[o+4])+Dt(n[o+5]);return t}for(r*=e,o=0;o<r;o+=e)t+=Dt(n[o]);return t}z(Da,"ndarray",(function(r,n,e,t){var i,o,a,u;if(i=0,r<=0)return i;if(o=t,1===e){if((a=r%6)>0)for(u=0;u<a;u++)i+=Dt(n[o]),o+=e;if(r<6)return i;for(u=a;u<r;u+=6)i+=Dt(n[o])+Dt(n[o+1])+Dt(n[o+2])+Dt(n[o+3])+Dt(n[o+4])+Dt(n[o+5]),o+=6;return i}for(u=0;u<r;u++)i+=Dt(n[o]),o+=e;return i}));function Ya(r,n,e,t,i,o){var a,u,f,s;if(r<=0||0===n)return i;if(1===t&&1===o){if((f=r%4)>0)for(s=0;s<f;s++)i[s]+=n*e[s];if(r<4)return i;for(s=f;s<r;s+=4)i[s]+=n*e[s],i[s+1]+=n*e[s+1],i[s+2]+=n*e[s+2],i[s+3]+=n*e[s+3];return i}for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,s=0;s<r;s++)i[u]+=n*e[a],a+=t,u+=o;return i}z(Ya,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c;if(r<=0||0===n)return o;if(f=i,s=u,1===t&&1===a){if((l=r%4)>0)for(c=0;c<l;c++)o[s]+=n*e[f],f+=t,s+=a;if(r<4)return o;for(c=l;c<r;c+=4)o[s]+=n*e[f],o[s+1]+=n*e[f+1],o[s+2]+=n*e[f+2],o[s+3]+=n*e[f+3],f+=4,s+=4;return o}for(c=0;c<r;c++)o[s]+=n*e[f],f+=t,s+=a;return o}));var Wa={float64:function(r,n,e){r[n]=e},float32:function(r,n,e){r[n]=e},int32:function(r,n,e){r[n]=e},int16:function(r,n,e){r[n]=e},int8:function(r,n,e){r[n]=e},uint32:function(r,n,e){r[n]=e},uint16:function(r,n,e){r[n]=e},uint8:function(r,n,e){r[n]=e},uint8c:function(r,n,e){r[n]=e},generic:function(r,n,e){r[n]=e},default:function(r,n,e){r[n]=e}};function qa(r){var n=Wa[r];return"function"==typeof n?n:Wa.default}var Ga={complex128:function(r,n,e){r.set(e,n)},complex64:function(r,n,e){r.set(e,n)},default:function(r,n,e){r.set(e,n)}};function $a(r){var n=Ga[r];return"function"==typeof n?n:Ga.default}function Ja(r){var n=qe(r);return Y(r)?{data:r,dtype:n,accessorProtocol:!0,accessors:[q(n),$a(n)]}:{data:r,dtype:n,accessorProtocol:!1,accessors:[$(n),qa(n)]}}function Ha(r,n,e,t,i,o,a){var u,f,s,l,c,h,m;for(u=n.data,f=i.data,l=n.accessors[0],s=i.accessors[1],c=t,h=a,m=0;m<r;m++)s(f,h,l(u,c)),c+=e,h+=o;return n}function Xa(r,n,e,t,i){var o,a,u,f,s,l;if(r<=0)return t;if(u=Ja(n),f=Ja(t),u.accessorProtocol||f.accessorProtocol)return Ha(r,u,e,o=e<0?(1-r)*e:0,f,i,a=i<0?(1-r)*i:0),f.data;if(1===e&&1===i){if((s=r%8)>0)for(l=0;l<s;l++)t[l]=n[l];if(r<8)return t;for(l=s;l<r;l+=8)t[l]=n[l],t[l+1]=n[l+1],t[l+2]=n[l+2],t[l+3]=n[l+3],t[l+4]=n[l+4],t[l+5]=n[l+5],t[l+6]=n[l+6],t[l+7]=n[l+7];return t}for(o=e<0?(1-r)*e:0,a=i<0?(1-r)*i:0,l=0;l<r;l++)t[a]=n[o],o+=e,a+=i;return t}z(Xa,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h;if(r<=0)return i;if(s=Ja(n),l=Ja(i),s.accessorProtocol||l.accessorProtocol)return Ha(r,s,e,t,l,o,a),l.data;if(u=t,f=a,1===e&&1===o){if((c=r%8)>0)for(h=0;h<c;h++)i[f]=n[u],u+=e,f+=o;if(r<8)return i;for(h=c;h<r;h+=8)i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2],i[f+3]=n[u+3],i[f+4]=n[u+4],i[f+5]=n[u+5],i[f+6]=n[u+6],i[f+7]=n[u+7],u+=8,f+=8;return i}for(h=0;h<r;h++)i[f]=n[u],u+=e,f+=o;return i}));function Za(r,n,e,t,i){var o,a,u,f,s;if(o=0,r<=0)return o;if(1===e&&1===i){if((f=r%5)>0)for(s=0;s<f;s++)o+=n[s]*t[s];if(r<5)return o;for(s=f;s<r;s+=5)o+=n[s]*t[s]+n[s+1]*t[s+1]+n[s+2]*t[s+2]+n[s+3]*t[s+3]+n[s+4]*t[s+4];return o}for(a=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,s=0;s<r;s++)o+=n[a]*t[u],a+=e,u+=i;return o}var Ka=5;function Qa(r,n,e,t,i,o,a){var u,f,s,l,c;if(u=0,r<=0)return u;if(f=t,s=a,1===e&&1===o){if((l=r%Ka)>0)for(c=0;c<l;c++)u+=n[f]*i[s],f+=1,s+=1;if(r<Ka)return u;for(c=l;c<r;c+=Ka)u+=n[f]*i[s]+n[f+1]*i[s+1]+n[f+2]*i[s+2]+n[f+3]*i[s+3]+n[f+4]*i[s+4],f+=Ka,s+=Ka;return u}for(c=0;c<r;c++)u+=n[f]*i[s],f+=e,s+=o;return u}function ru(r){return fe(r>0?r-1:r+1)}function nu(r){return r===wr||r===dn}z(Za,"ndarray",Qa);var eu=!0===lo?0:1,tu=new pr(1),iu=new Or(tu.buffer);function ou(r,n){return tu[0]=r,iu[eu]=n>>>0,tu[0]}function au(r){return 0|r}var uu=1072693247,fu=1e300,su=1e-300;var lu=!0===lo?1:0,cu=new pr(1),hu=new Or(cu.buffer);function mu(r,n){return cu[0]=r,hu[lu]=n>>>0,cu[0]}var du=1023;var gu=1048575,pu=1048576,vu=1072693248,yu=536870912,wu=524288,bu=20,_u=9007199254740992,Eu=.9617966939259756,Tu=.9617967009544373,ju=-7.028461650952758e-9,Vu=[1,1.5],xu=[0,.5849624872207642],Su=[0,1.350039202129749e-8];var Ru=1.4426950408889634,Ou=1.4426950216293335,Fu=1.9259629911266175e-8;var Au=1023,Iu=-1023,ku=-1074,Lu=22250738585072014e-324,Bu=4503599627370496;function Mu(r,n,e,t){return pi(r)||nu(r)?(n[t]=r,n[t+e]=0,n):0!==r&&Dt(r)<Lu?(n[t]=r*Bu,n[t+e]=-52,n):(n[t]=r,n[t+e]=0,n)}z((function(r){return Mu(r,[0,0],1,0)}),"assign",Mu);var Nu=2146435072;var Uu=2220446049250313e-31,Pu=2148532223,Cu=[0,0],zu=[0,0];function Du(r,n){var e,t;return 0===n||0===r||pi(r)||nu(r)?r:(Mu(r,Cu,1,0),r=Cu[0],n+=Cu[1],n+=function(r){var n=jo(r);return(n=(n&Nu)>>>20)-du|0}(r),n<ku?Io(0,r):n>Au?r<0?dn:wr:(n<=Iu?(n+=52,t=Uu):t=1,yo.assign(r,zu,1,0),e=zu[0],e&=Pu,t*Fo(e|=n+du<<20,zu[1])))}var Yu=.6931471805599453,Wu=1048575;var qu=1048576,Gu=1071644672,$u=20,Ju=.6931471824645996,Hu=-1.904654299957768e-9;var Xu=1072693247,Zu=1105199104,Ku=1139802112,Qu=1083179008,rf=1072693248,nf=1083231232,ef=3230714880,tf=31,of=1e300,af=1e-300,uf=8008566259537294e-32,ff=[0,0],sf=[0,0];function lf(r,n){var e,t,i,o,a,u,f,s,l,c,h,m,d,g;if(pi(r)||pi(n))return NaN;if(yo.assign(n,ff,1,0),a=ff[0],0===ff[1]){if(0===n)return 1;if(1===n)return r;if(-1===n)return 1/r;if(.5===n)return qi(r);if(-.5===n)return 1/qi(r);if(2===n)return r*r;if(3===n)return r*r*r;if(4===n)return(r*=r)*r;if(nu(n))return function(r,n){return-1===r?(r-r)/(r-r):1===r?1:Dt(r)<1==(n===wr)?0:wr}(r,n)}if(yo.assign(r,ff,1,0),o=ff[0],0===ff[1]){if(0===o)return function(r,n){return n===dn?wr:n===wr?0:n>0?ru(n)?r:0:ru(n)?Io(wr,r):wr}(r,n);if(1===r)return 1;if(-1===r&&ru(n))return-1;if(nu(r))return r===dn?lf(-0,-n):n<0?0:wr}if(r<0&&!1===pn(n))return(r-r)/(r-r);if(i=Dt(r),e=o&ao|0,t=a&ao|0,f=a>>>tf|0,u=(u=o>>>tf|0)&&ru(n)?-1:1,t>Zu){if(t>Ku)return function(r,n){return(jo(r)&ao)<=uu?n<0?fu*fu:su*su:n>0?fu*fu:su*su}(r,n);if(e<Xu)return 1===f?u*of*of:u*af*af;if(e>rf)return 0===f?u*of*of:u*af*af;h=function(r,n){var e,t,i,o,a,u,f;return o=(i=n-1)*i*(0===(f=i)?.5:.5+f*(.25*f-.3333333333333333)),e=(u=i*Fu-o*Ru)-((t=ou(t=(a=Ou*i)+u,0))-a),r[0]=t,r[1]=e,r}(sf,i)}else h=function(r,n,e){var t,i,o,a,u,f,s,l,c,h,m,d,g,p,v,y,w,b,_,E,T;return b=0,e<pu&&(b-=53,e=jo(n*=_u)),b+=(e>>bu)-du|0,e=(_=e&gu|0)|vu|0,_<=235662?E=0:_<767610?E=1:(E=0,b+=1,e-=pu),a=ou(i=(y=(n=mu(n,e))-(s=Vu[E]))*(w=1/(n+s)),0),t=(e>>1|yu)+wu,f=mu(0,t+=E<<18),v=(o=i*i)*o*(0===(T=o)?.5999999999999946:.5999999999999946+T*(.4285714285785502+T*(.33333332981837743+T*(.272728123808534+T*(.23066074577556175+.20697501780033842*T))))),f=ou(f=3+(o=a*a)+(v+=(u=w*(y-a*f-a*(n-(f-s))))*(a+i)),0),c=ou(c=(y=a*f)+(w=u*f+(v-(f-3-o))*i),0),h=Tu*c,g=(m=ju*c+(w-(c-y))*Eu+Su[E])-((d=ou(d=h+m+(l=xu[E])+(p=b),0))-p-l-h),r[0]=d,r[1]=g,r}(sf,i,e);if(m=(c=(n-(s=ou(n,0)))*h[0]+n*h[1])+(l=s*h[0]),yo.assign(m,ff,1,0),d=au(ff[0]),g=au(ff[1]),d>=Qu){if(0!=(d-Qu|g))return u*of*of;if(c+uf>m-l)return u*of*of}else if((d&ao)>=nf){if(0!=(d-ef|g))return u*af*af;if(c<=m-l)return u*af*af}return m=function(r,n,e){var t,i,o,a,u,f,s,l,c,h;return c=((l=r&ao|0)>>$u)-du|0,s=0,l>Gu&&(i=mu(0,((s=r+(qu>>c+1)>>>0)&~(Wu>>(c=((s&ao)>>$u)-du|0)))>>>0),s=(s&Wu|qu)>>$u-c>>>0,r<0&&(s=-s),n-=i),r=au(r=jo(f=1-((f=(o=(i=ou(i=e+n,0))*Ju)+(a=(e-(i-n))*Yu+i*Hu))*(t=f-(i=f*f)*(0===(h=i)?.16666666666666602:.16666666666666602+h*(h*(6613756321437934e-20+h*(4.1381367970572385e-8*h-16533902205465252e-22))-.0027777777777015593)))/(t-2)-((u=a-(f-o))+f*u)-f))),(r+=s<<$u>>>0)>>$u<=0?Du(f,s):mu(f,r)}(d,l,c),u*m}function cf(r,n,e){var t,i,o,a;if(r<=0||e<=0)return 0;if(1===r)return Dt(n[0]);for(t=0,i=1,r*=e,a=0;a<r;a+=e)0!==n[a]&&(t<(o=Dt(n[a]))?(i=1+i*lf(t/o,2),t=o):i+=lf(o/t,2));return t*qi(i)}z(cf,"ndarray",(function(r,n,e,t){var i,o,a,u,f;if(r<=0)return 0;if(1===r)return Dt(n[t]);for(u=t,i=0,o=1,f=0;f<r;f++)0!==n[u]&&(i<(a=Dt(n[u]))?(o=1+o*lf(i/a,2),i=a):o+=lf(a/i,2)),u+=e;return i*qi(o)}));function hf(r,n,e,t){var i,o;if(r<=0||t<=0||1===n)return e;if(1===t){if((i=r%5)>0)for(o=0;o<i;o+=1)e[o]*=n;if(r<5)return e;for(o=i;o<r;o+=5)e[o]*=n,e[o+1]*=n,e[o+2]*=n,e[o+3]*=n,e[o+4]*=n;return e}for(r*=t,o=0;o<r;o+=t)e[o]*=n;return e}function mf(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d;for(u=n.data,f=i.data,l=n.accessors[0],s=i.accessors[1],h=t,m=a,d=0;d<r;d++)c=l(u,h),s(u,h,l(f,m)),s(f,m,c),h+=e,m+=o;return n}z(hf,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0||1===n)return e;if(o=i,1===t){if((a=r%5)>0)for(u=0;u<a;u++)e[o]*=n,o+=t;if(r<5)return e;for(u=a;u<r;u+=5)e[u]*=n,e[u+1]*=n,e[u+2]*=n,e[u+3]*=n,e[u+4]*=n;return e}for(u=0;u<r;u++)e[o]*=n,o+=t;return e}));function df(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(r<=0)return t;if(f=Ja(n),s=Ja(t),f.accessorProtocol||s.accessorProtocol)return mf(r,f,e,a=e<0?(1-r)*e:0,s,i,u=i<0?(1-r)*i:0),s.data;if(1===e&&1===i){if((l=r%3)>0)for(c=0;c<l;c++)o=n[c],n[c]=t[c],t[c]=o;if(r<3)return t;for(c=l;c<r;c+=3)o=n[c],n[c]=t[c],t[c]=o,o=n[h=c+1],n[h]=t[h],t[h]=o,o=n[h+=1],n[h]=t[h],t[h]=o;return t}for(a=e<0?(1-r)*e:0,u=i<0?(1-r)*i:0,c=0;c<r;c++)o=n[a],n[a]=t[u],t[u]=o,a+=e,u+=i;return t}var gf=3;function pf(r,n,e,t,i,o,a){var u,f,s,l,c,h,m;if(r<=0)return i;if(l=Ja(n),c=Ja(i),l.accessorProtocol||c.accessorProtocol)return mf(r,l,e,t,c,o,a),c.data;if(f=t,s=a,1===e&&1===o){if((h=r%gf)>0)for(m=0;m<h;m++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;if(r<gf)return i;for(m=h;m<r;m+=gf)u=n[f],n[f]=i[s],i[s]=u,u=n[f+1],n[f+1]=i[s+1],i[s+1]=u,u=n[f+2],n[f+2]=i[s+2],i[s+2]=u,f+=gf,s+=gf;return i}for(m=0;m<r;m++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;return i}function vf(r,n,e){var t,i,o,a,u;if(r<1||e<=0)return-1;if(i=0,1===r)return i;if(1===e){for(t=Dt(n[0]),u=1;u<r;u++)(a=Dt(n[u]))>t&&(i=u,t=a);return i}for(t=Dt(n[0]),o=e,u=1;u<r;u++)(a=Dt(n[o]))>t&&(i=u,t=a),o+=e;return i}z(df,"ndarray",pf),z(vf,"ndarray",(function(r,n,e,t){var i,o,a,u,f;if(r<1)return-1;if(o=0,1===r)return o;for(i=Dt(n[t]),a=t+e,f=1;f<r;f++)(u=Dt(n[a]))>i&&(o=f,i=u),a+=e;return o}));var yf=bt((0,r.join)(__dirname,"./native.js")),wf=wt(yf)?vf:yf;function bf(r,n,e){var t,i,o,a,u;if(r<1||e<=0)return-1;if(i=0,1===r)return i;if(1===e){for(t=Et(n[0]),u=1;u<r;u++)(a=Et(n[u]))>t&&(i=u,t=a);return i}for(t=Et(n[0]),o=e,u=1;u<r;u++)(a=Et(n[o]))>t&&(i=u,t=a),o+=e;return i}z(bf,"ndarray",(function(r,n,e,t){var i,o,a,u,f;if(r<1)return-1;if(o=0,1===r)return o;for(i=Et(n[t]),a=t+e,f=1;f<r;f++)(u=Et(n[a]))>i&&(o=f,i=u),a+=e;return o}));var _f=bt((0,r.join)(__dirname,"./native.js")),Ef=wt(_f)?bf:_f,Tf=Ui({"row-major":101,"column-major":102},{duplicates:!1});function jf(r){var n=Tf[r];return"string"==typeof n?n:null}var Vf={"row-major":101,"column-major":102};function xf(r){var n=Vf[r];return"number"==typeof n?n:null}var Sf=Ui({upper:121,lower:122},{duplicates:!1});function Rf(r){var n=Sf[r];return"string"==typeof n?n:null}var Of={upper:121,lower:122};function Ff(r){var n=Of[r];return"number"==typeof n?n:null}var Af=Ui({left:141,right:142},{duplicates:!1});function If(r){var n=Af[r];return"string"==typeof n?n:null}var kf={left:141,right:142};function Lf(r){var n=kf[r];return"number"==typeof n?n:null}function Bf(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;for(o=t,a=0;a<r;a++)i=oe(i+Et(n[o])),o+=e;return i}function Mf(r,n,e){return Bf(r,n,e,_t(r,e))}z(Mf,"ndarray",Bf);var Nf=bt((0,r.join)(__dirname,"./native.js")),Uf=wt(Nf)?Mf:Nf,Pf=4;function Cf(r,n,e,t,i,o,a,u){var f,s,l,c;if(r<=0||0===n)return o;if(f=i,s=u,1===t&&1===a){if((l=r%Pf)>0)for(c=0;c<l;c++)o[s]+=oe(n*e[f]),f+=t,s+=a;if(r<Pf)return o;for(c=l;c<r;c+=Pf)o[s]+=oe(n*e[f]),o[s+1]+=oe(n*e[f+1]),o[s+2]+=oe(n*e[f+2]),o[s+3]+=oe(n*e[f+3]),f+=Pf,s+=Pf;return o}for(c=0;c<r;c++)o[s]+=oe(n*e[f]),f+=t,s+=a;return o}function zf(r,n,e,t,i,o){return r<=0||0===n?i:Cf(r,n,e,t,_t(r,t),i,o,_t(r,o))}z(zf,"ndarray",Cf);var Df=bt((0,r.join)(__dirname,"./native.js")),Yf=wt(Df)?zf:Df;function Wf(r,n,e,t){var i,o,a,u,f;if(i=0,r<=0||e<=0)return i;for(o=ye(n,0),u=2*e,a=2*t,f=0;f<r;f++)i+=Et(o[a])+Et(o[a+1]),a+=u;return i}function qf(r,n,e){return Wf(r,n,e,0)}z(qf,"ndarray",Wf);var Gf=bt((0,r.join)(__dirname,"./native.js")),$f=wt(Gf)?qf:Gf,Jf=34028234663852886e22;function Hf(r){return oe(oe(r)*oe(r))}function Xf(r){return oe(qi(oe(r)))}var Zf=108420217e-27,Kf=450359963e7,Qf=377789319e14,rs=132348898e-31;function ns(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;for(a=ye(n,0),g=2*e,d=2*t,i=!0,o=0,u=0,f=0,s=0,h=1,p=0;p<r;p++)(m=Et(a[d]))>Kf?(u=oe(u+Hf(m*rs)),i=!1):m<Zf?i&&(s=oe(s+Hf(m*Qf))):f=oe(f+oe(m*m)),(m=Et(a[d+1]))>Kf?(u=oe(u+Hf(m*rs)),i=!1):m<Zf?i&&(s=oe(s+Hf(m*Qf))):f=oe(f+oe(m*m)),d+=g;return u>0?((f>0||f>Jf||f!=f)&&(u=oe(u+oe(oe(f*rs)*rs))),h=oe(1/rs),o=u):s>0?f>0||f>Jf||f!=f?(f=Xf(f),(s=oe(Xf(s)/Qf))>f?(c=f,l=s):(c=s,l=f),h=1,o=oe(oe(l*l)*oe(1+Hf(c/l)))):(h=oe(1/Qf),o=s):(h=1,o=f),oe(Xf(o)*h)}function es(r,n,e){return ns(r,n,e,_t(r,e))}z(es,"ndarray",ns);var ts=bt((0,r.join)(__dirname,"./native.js")),is=wt(ts)?es:ts,os=8;function as(r,n,e,t,i,o,a){var u,f,s,l;if(r<=0)return i;if(u=t,f=a,1===e&&1===o){if((s=r%os)>0)for(l=0;l<s;l++)i[f]=n[u],u+=e,f+=o;if(r<os)return i;for(l=s;l<r;l+=os)i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2],i[f+3]=n[u+3],i[f+4]=n[u+4],i[f+5]=n[u+5],i[f+6]=n[u+6],i[f+7]=n[u+7],u+=os,f+=os;return i}for(l=0;l<r;l++)i[f]=n[u],u+=e,f+=o;return i}function us(r,n,e,t,i){return r<=0?t:as(r,n,e,_t(r,e),t,i,_t(r,i))}z(us,"ndarray",as);var fs=bt((0,r.join)(__dirname,"./native.js")),ss=wt(fs)?us:fs;function ls(r,n,e,t,i,o,a){var u,f,s,l;if(u=0,r<=0)return u;for(f=t,s=a,l=0;l<r;l++)u=oe(u+oe(n[f]*i[s])),f+=e,s+=o;return u}function cs(r,n,e,t,i){return r<=0?0:ls(r,n,e,_t(r,e),t,i,_t(r,i))}z(cs,"ndarray",ls);var hs,ms=bt((0,r.join)(__dirname,"./native.js")),ds=hs=wt(ms)?cs:ms;const{ndarray:gs}=hs;var ps=5;function vs(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(f=n,r<=0)return oe(f);if(s=i,l=u,1===t&&1===a){if((c=r%ps)>0)for(h=0;h<c;h++)f+=e[s]*o[l],s+=1,l+=1;if(r<ps)return oe(f);for(h=c;h<r;h+=ps)f+=e[s]*o[l]+e[s+1]*o[l+1]+e[s+2]*o[l+2]+e[s+3]*o[l+3]+e[s+4]*o[l+4],s+=ps,l+=ps;return oe(f)}for(h=0;h<r;h++)f+=e[s]*o[l],s+=t,l+=a;return oe(f)}function ys(r,n,e,t,i,o){return r<=0?oe(n):vs(r,n,e,t,_t(r,t),i,o,_t(r,o))}z(ys,"ndarray",vs);var ws=bt((0,r.join)(__dirname,"./native.js")),bs=wt(ws)?ys:ws,_s=8;function Es(r,n,e,t,i){var o,a,u;if(r<=0)return e;if(o=i,1===t){if((a=r%_s)>0)for(u=0;u<a;u++)e[o]=n,o+=t;if(r<_s)return e;for(u=a;u<r;u+=_s)e[o]=n,e[o+1]=n,e[o+2]=n,e[o+3]=n,e[o+4]=n,e[o+5]=n,e[o+6]=n,e[o+7]=n,o+=_s;return e}for(u=0;u<r;u++)e[o]=n,o+=t;return e}function Ts(r,n,e,t){return Es(r,n,e,t,_t(r,t))}z(Ts,"ndarray",Es);var js,Vs=bt((0,r.join)(__dirname,"./native.js")),xs=js=wt(Vs)?Ts:Vs;const{ndarray:Ss}=js;function Rs(r,n,e,t){var i,o;if(r<=0||t<=0||1===n)return e;if(1===t){if((o=r%5)>0)for(i=0;i<o;i++)e[i]*=n;if(r<5)return e;for(i=o;i<r;i+=5)e[i]*=n,e[i+1]*=n,e[i+2]*=n,e[i+3]*=n,e[i+4]*=n;return e}for(r*=t,i=0;i<r;i+=t)e[i]*=n;return e}z(Rs,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0||1===n)return e;if(o=i,1===t){if((u=r%5)>0)for(a=0;a<u;a++)e[o]*=n,o+=t;if(r<5)return e;for(a=u;a<r;a+=5)e[a]*=n,e[a+1]*=n,e[a+2]*=n,e[a+3]*=n,e[a+4]*=n,o+=5;return e}for(a=0;a<r;a++)e[o]*=n,o+=t;return e}));var Os,Fs=bt((0,r.join)(__dirname,"./native.js")),As=Os=wt(Fs)?Rs:Fs;const{ndarray:Is}=Os;function ks(r,n,e,t,i,o,a,u,f,s,l,c,h,m,d){var g,p,v,y,w,b,_,E,T,j,V;if((g=_a([o,a]))?(_=a,E=o):(_=o,E=a),"no-transpose"===r?(p=e,v=n):(p=n,v=e),1!==c&&(0===c?Ss(v,0,h,m,d):Is(v,c,h,m,d)),0===t)return h;if(!g&&"no-transpose"===r||g&&"no-transpose"!==r){for(w=l,T=0;T<p;T++){for(y=oe(t*f[w]),V=u+E*T,b=d,j=0;j<v;j++)h[b]+=oe(i[V+_*j]*y),b+=m;w+=s}return h}for(b=d,T=0;T<v;T++){for(y=0,w=l,V=u+E*T,j=0;j<p;j++)y+=oe(i[V+_*j]*f[w]),w+=s;h[b]+=oe(t*y),b+=m}return h}function Ls(r,n,e,t,i,o,a,u,f,s,l,c){var h,m,d,g;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!ht(n))throw new TypeError(A("invalid argument. Second argument must be a valid transpose operation. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(t<0)throw new RangeError(A("invalid argument. Fourth argument must be a nonnegative integer. Value: `%d`.",t));if(0===f)throw new RangeError(A("invalid argument. Ninth argument must be non-zero."));if(0===c)throw new RangeError(A("invalid argument. Twelfth argument must be non-zero."));return 0===e||0===t||0===i&&1===s?l:("no-transpose"===n?(h=t,m=e):(h=e,m=t),"column-major"===r?(d=1,g=a):(d=a,g=1),ks(n,e,t,i,o,d,g,0,u,f,_t(h,f),s,l,c,_t(m,c)))}z(Ls,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h,m,d){if(!ht(r))throw new TypeError(A("invalid argument. Second argument must be a valid transpose operation. Value: `%s`.",r));if(n<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",n));if(e<0)throw new RangeError(A("invalid argument. Fourth argument must be a nonnegative integer. Value: `%d`.",e));if(0===s)throw new RangeError(A("invalid argument. Eleventh argument must be non-zero."));if(0===m)throw new RangeError(A("invalid argument. Fifteenth argument must be non-zero."));return 0===n||0===e||0===t&&1===c?h:ks(r,n,e,t,i,o,a,u,f,s,l,c,h,m,d)}));var Bs=bt((0,r.join)(__dirname,"./native.js")),Ms=wt(Bs)?Ls:Bs,Ns=108420217e-27,Us=450359963e7,Ps=377789319e14,Cs=132348898e-31;function zs(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d;if(r<=0)return 0;for(m=t,i=!0,o=0,a=0,u=0,f=0,c=1,d=0;d<r;d++)(h=Et(n[m]))>Us?(a=oe(a+Hf(h*Cs)),i=!1):h<Ns?i&&(f=oe(f+Hf(h*Ps))):u=oe(u+oe(h*h)),m+=e;return a>0?((u>0||u>Jf||u!=u)&&(a=oe(a+oe(oe(u*Cs)*Cs))),c=oe(1/Cs),o=a):f>0?u>0||u>Jf||u!=u?(u=Xf(u),(f=oe(Xf(f)/Ps))>u?(l=u,s=f):(l=f,s=u),c=1,o=oe(oe(s*s)*oe(1+Hf(l/s)))):(c=oe(1/Ps),o=f):(c=1,o=u),oe(Xf(o)*c)}function Ds(r,n,e){return zs(r,n,e,_t(r,e))}z(Ds,"ndarray",zs);var Ys=bt((0,r.join)(__dirname,"./native.js")),Ws=wt(Ys)?Ds:Ys;function qs(r,n,e,t,i,o,a,u,f){var s,l,c,h;if(r<=0)return i;for(u=oe(u),f=oe(f),l=t,c=a,h=0;h<r;h++)s=oe(u*n[l])+oe(f*i[c]),i[c]=oe(u*i[c])-oe(f*n[l]),n[l]=s,l+=e,c+=o;return i}function Gs(r,n,e,t,i,o,a){return qs(r,n,e,_t(r,e),t,i,_t(r,i),o,a)}z(Gs,"ndarray",qs);var $s=bt((0,r.join)(__dirname,"./native.js")),Js=wt($s)?Gs:$s,Hs=2147483648,Xs=2147483647,Zs=new Tr(1),Ks=new Or(Zs.buffer);function Qs(r){return Zs[0]=r,Ks[0]}var rl=new Or(1),nl=new Tr(rl.buffer);function el(r,n){var e,t,i;return r=oe(r),n=oe(n),e=Qs(r),e&=Xs,t=Qs(n),i=e|=t&=Hs,rl[0]=i,nl[0]}function tl(r,n,e,t,i){var o,a,u,f,s,l,c,h;return a=el(1,(u=Et(r))>(f=Et(n))?r:n),0===(o=oe(u+f))?(l=1,c=0,s=0,h=0):(s=oe(o*Xf(oe(Hf(oe(r/o))+Hf(oe(n/o))))),s=oe(s*a),l=oe(r/s),c=oe(n/s),h=1,u>f?h=c:0!==l&&(h=oe(1/l))),r=s,n=h,e[i]=r,e[i+t]=n,e[i+2*t]=l,e[i+3*t]=c,e}function il(r,n){return tl(r,n,new Tr(4),1,0)}function ol(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v;if(f=u[0],r<=0||-2===f)return i;if(m=t,d=a,e===o&&e>0){if(f<0){for(s=u[1],l=u[3],c=u[2],h=u[4],g=0;g<r;g++)p=n[m],v=i[m],n[m]=oe(oe(p*s)+oe(v*l)),i[m]=oe(oe(p*c)+oe(v*h)),m+=e;return i}if(0===f){for(l=u[3],c=u[2],g=0;g<r;g++)p=n[m],v=i[m],n[m]=oe(p+oe(v*l)),i[m]=oe(oe(p*c)+v),m+=e;return i}for(s=u[1],h=u[4],g=0;g<r;g++)p=n[m],v=i[m],n[m]=oe(oe(p*s)+v),i[m]=oe(-p+oe(v*h)),m+=e;return i}if(f<0){for(s=u[1],l=u[3],c=u[2],h=u[4],g=0;g<r;g++)p=n[m],v=i[d],n[m]=oe(oe(p*s)+oe(v*l)),i[d]=oe(oe(p*c)+oe(v*h)),m+=e,d+=o;return i}if(0===f){for(l=u[3],c=u[2],g=0;g<r;g++)p=n[m],v=i[d],n[m]=oe(p+oe(v*l)),i[d]=oe(oe(p*c)+v),m+=e,d+=o;return i}for(s=u[1],h=u[4],g=0;g<r;g++)p=n[m],v=i[d],n[m]=oe(oe(p*s)+v),i[d]=oe(-p+oe(v*h)),m+=e,d+=o;return i}function al(r,n,e,t,i,o){return ol(r,n,e,_t(r,e),t,i,_t(r,i),o)}z(il,"assign",tl),z(al,"ndarray",ol);var ul=bt((0,r.join)(__dirname,"./native.js")),fl=wt(ul)?al:ul;function sl(r,n,e,t,i,o,a,u,f,s){var l,c,h,m,d,g,p,v,y,w,b,_;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(0===a)throw new RangeError("invalid argument. Seventh argument must be non-zero. Value: `%d`.",a);if(0===s)throw new RangeError("invalid argument. Tenth argument must be non-zero. Value: `%d`.",s);if(0===e||0===t&&1===u)return f;if(w=s,1!==u&&(0===u?xs(e,0,f,s):(s<0&&(w=-w),As(e,u,f,w))),0===t)return f;if(v=a>0?0:(1-e)*a,y=s>0?0:(1-e)*s,p=0,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(d=v,g=y,b=0;b<e;b++){for(l=oe(t*o[d]),c=0,f[g]+=oe(l*i[p]),h=d,m=g,_=p+1;_<p+e-b;_++)h+=a,f[m+=s]+=oe(l*i[_]),c+=oe(i[_]*o[h]);f[g]+=oe(t*c),d+=a,g+=s,p+=e-b}return f}for(d=v,g=y,b=0;b<e;b++){for(l=oe(t*o[d]),c=0,h=v,m=y,_=p;_<p+b;_++)f[m]+=oe(l*i[_]),c+=oe(i[_]*o[h]),h+=a,m+=s;f[g]+=oe(oe(l*i[p+b])+oe(t*c)),d+=a,g+=s,p+=b+1}return f}z(sl,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c){var h,m,d,g,p,v,y,w,b,_,E;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(0===a)throw new RangeError("invalid argument. Seventh argument must be non-zero. Value: `%d`.",a);if(0===l)throw new RangeError("invalid argument. Eleventh argument must be non-zero. Value: `%d`.",l);if(0===e||0===t&&1===f)return s;if(1!==f&&(0===f?Ss(e,0,s,l,c):Is(e,f,s,l,c)),0===t)return s;if(w=u,b=c,y=0,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(p=w,v=b,_=0;_<e;_++){for(h=oe(t*o[p]),m=0,s[v]+=oe(h*i[y]),d=p,g=v,E=y+1;E<y+e-_;E++)d+=a,s[g+=l]+=oe(h*i[E]),m+=oe(i[E]*o[d]);s[v]+=oe(t*m),p+=a,v+=l,y+=e-_}return s}for(p=w,v=b,_=0;_<e;_++){for(h=oe(t*o[p]),m=0,d=w,g=b,E=y;E<y+_;E++)s[g]+=oe(h*i[E]),m+=oe(i[E]*o[d]),d+=a,g+=l;s[v]+=oe(oe(h*i[y+_])+oe(t*m)),p+=a,v+=l,y+=_+1}return s}));var ll=bt((0,r.join)(__dirname,"./native.js")),cl=wt(ll)?sl:ll,hl=3;function ml(r,n,e,t,i,o,a){var u,f,s,l,c;if(r<=0)return i;if(f=t,s=a,1===e&&1===o){if((l=r%hl)>0)for(c=0;c<l;c++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;if(r<hl)return i;for(c=l;c<r;c+=hl)u=n[f],n[f]=i[s],i[s]=u,u=n[f+1],n[f+1]=i[s+1],i[s+1]=u,u=n[f+2],n[f+2]=i[s+2],i[s+2]=u,f+=hl,s+=hl;return i}for(c=0;c<r;c++)u=n[f],n[f]=i[s],i[s]=u,f+=e,s+=o;return i}function dl(r,n,e,t,i){return r<=0?t:ml(r,n,e,_t(r,e),t,i,_t(r,i))}z(dl,"ndarray",ml);var gl,pl=bt((0,r.join)(__dirname,"./native.js")),vl=gl=wt(pl)?dl:pl;const{ndarray:yl}=gl;function wl(r,n,e,t,i,o,a,u,f,s,l){var c,h,m,d,g,p,v,y,w,b,_,E,T;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(o<pa(1,e))throw new RangeError("invalid argument. Sixth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,o);if(0===u)throw new RangeError("invalid argument. Eighth argument must be non-zero. Value: `%d`.",u);if(0===l)throw new RangeError("invalid argument. Eleventh argument must be non-zero. Value: `%d`.",l);if(0===e||0===t&&1===f)return s;if(1!==f&&(0===f?xs(e,0,s,l):(l<0&&(l=-l),As(e,f,s,l))),0===t)return s;if(w=u>0?0:(1-e)*u,b=l>0?0:(1-e)*l,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(g=w,p=b,_=0;_<e;_++){for(c=oe(t*a[g]),h=0,d=e,v=w+(m=_+1)*u,y=b+m*l,s[p]+=oe(c*i[o*_+_]),E=m;E<d;E++)T=o*_+E,s[y]+=oe(c*i[T]),h=oe(h+oe(a[v]*i[T])),v+=u,y+=l;s[p]+=oe(t*h),g+=u,p+=l}return s}for(g=w+(e-1)*u,p=b+(e-1)*l,_=e-1;_>=0;_--){for(c=oe(t*a[g]),h=0,d=_,v=w+(m=0)*u,y=b+m*l,s[p]+=oe(c*i[o*_+_]),E=m;E<d;E++)T=o*_+E,s[y]+=oe(c*i[T]),h=oe(h+oe(a[v]*i[T])),v+=u,y+=l;s[p]+=oe(t*h),g-=u,p-=l}return s}z(wl,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h){var m,d,g,p,v,y,w,b,_,E,T,j,V;if(!rt(r))throw new TypeError("invalid argument. First argument must be a valid order. Value: `%s`.",r);if(!it(n))throw new TypeError("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n);if(e<0)throw new RangeError("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e);if(o<pa(1,e))throw new RangeError("invalid argument. Sixth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,o);if(0===u)throw new RangeError("invalid argument. Eighth argument must be non-zero. Value: `%d`.",u);if(0===c)throw new RangeError("invalid argument. Twelfth argument must be non-zero. Value: `%d`.",c);if(0===e||0===t&&1===s)return l;if(1!==s&&(0===s?Ss(e,0,l,c,h):Is(e,s,l,c,h)),0===t)return l;if(_=f,E=h,"row-major"===r&&"upper"===n||"column-major"===r&&"lower"===n){for(v=_,y=E,T=0;T<e;T++){for(m=oe(t*a[v]),d=0,p=e,w=_+(g=T+1)*u,b=E+g*c,l[y]+=oe(m*i[o*T+T]),j=g;j<p;j++)V=o*T+j,l[b]+=oe(m*i[V]),d=oe(d+oe(a[w]*i[V])),w+=u,b+=c;l[y]+=oe(t*d),v+=u,y+=c}return l}for(v=_+(e-1)*u,y=E+(e-1)*c,T=e-1;T>=0;T--){for(m=oe(t*a[v]),d=0,p=T,w=_+(g=0)*u,b=E+g*c,l[y]+=oe(m*i[o*T+T]),j=g;j<p;j++)V=o*T+j,l[b]+=oe(m*i[V]),d=oe(d+oe(a[w]*i[V])),w+=u,b+=c;l[y]+=oe(t*d),v-=u,y-=c}return l}));var bl=bt((0,r.join)(__dirname,"./native.js")),_l=wt(bl)?wl:bl;function El(r,n,e,t,i,o,a,u,f,s){var l,c,h,m,d,g,p,v,y,w;if((l=_a([u,f]))?(d=f,g=u):(d=u,g=f),w=o,l&&"lower"===r||!l&&"upper"===r){for(m=w,v=0;v<n;v++){if(0!==t[m])for(c=oe(e*t[m]),y=s+g*v,h=w,p=0;p<=v;p++)a[y+d*p]+=oe(t[h]*c),h+=i;m+=i}return a}for(m=w,v=0;v<n;v++){if(0!==t[m])for(c=oe(e*t[m]),y=s+g*v,h=m,p=v;p<n;p++)a[y+d*p]+=oe(t[h]*c),h+=i;m+=i}return a}function Tl(r,n,e,t,i,o,a,u){var f,s;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===o)throw new RangeError(A("invalid argument. Sixth argument must be non-zero. Value: `%d`.",o));if(u<ba(1,e))throw new RangeError(A("invalid argument. Eighth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,u));return 0===e||0===t?a:("column-major"===r?(f=1,s=u):(f=u,s=1),El(n,e,t,i,o,_t(e,o),a,f,s,0))}z(Tl,"ndarray",(function(r,n,e,t,i,o,a,u,f,s){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",r));if(n<0)throw new RangeError(A("invalid argument. Second argument must be a nonnegative integer. Value: `%d`.",n));if(0===i)throw new RangeError(A("invalid argument. Fifth argument must be non-zero. Value: `%d`.",i));return 0===n||0===e?a:El(r,n,e,t,i,o,a,u,f,s)}));var jl=bt((0,r.join)(__dirname,"./native.js")),Vl=wt(jl)?Tl:jl;function xl(r,n,e,t,i,o,a,u,f,s,l,c,h){var m,d,g,p,v,y,w,b,_,E,T,j,V,x;if((g=_a([l,c]))?(b=c,_=l):(b=l,_=c),v=V=o,w=x=f,g&&"lower"===r||!g&&"upper"===r){for(T=0;T<n;T++){if(0!==t[v]||0!==a[w])for(m=oe(e*a[w]),d=oe(e*t[v]),j=h+_*T,p=V,y=x,E=0;E<=T;E++)s[j+b*E]+=oe(oe(t[p]*m)+oe(a[y]*d)),p+=i,y+=u;v+=i,w+=u}return s}for(T=0;T<n;T++){if(0!==t[v]||0!==a[w])for(m=oe(e*a[w]),d=oe(e*t[v]),j=h+_*T,p=v,y=w,E=T;E<n;E++)s[j+b*E]+=oe(oe(t[p]*m)+oe(a[y]*d)),p+=i,y+=u;v+=i,w+=u}return s}function Sl(r,n,e,t,i,o,a,u,f,s){var l,c;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether to reference the lower or upper triangular matrix. Value: `%s`.",n));if(e<0)throw new RangeError(A("invalid argument. Third argument must be a nonnegative integer. Value: `%d`.",e));if(0===o)throw new RangeError(A("invalid argument. Sixth argument must be non-zero. Value: `%d`.",o));if(0===u)throw new RangeError(A("invalid argument. Eighth argument must be non-zero. Value: `%d`.",o));if(s<ba(1,e))throw new RangeError(A("invalid argument. Tenth argument must be greater than or equal to max(1,%d). Value: `%d`.",e,s));return 0===e||0===t?f:("column-major"===r?(l=1,c=s):(l=s,c=1),xl(n,e,t,i,o,_t(e,o),a,u,_t(e,u),f,l,c,0))}z(Sl,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l,c,h){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether the reference the lower or upper triangular matrix. Value: `%s`.",r));if(n<0)throw new RangeError(A("invalid argument. Second argument must be a nonnegative integer. Value: `%d`.",n));if(0===i)throw new RangeError(A("invalid argument. Fifth argument must be non-zero. Value: `%d`.",i));if(0===u)throw new RangeError(A("invalid argument. Eighth argument must be non-zero. Value: `%d`.",i));return 0===n||0===e?s:xl(r,n,e,t,i,o,a,u,f,s,l,c,h)}));var Rl=bt((0,r.join)(__dirname,"./native.js")),Ol=wt(Rl)?Sl:Rl;function Fl(r,n,e,t,i,o,a,u,f,s,l){var c,h,m,d,g,p,v,y,w,b,_;if(c="non-unit"===e,(h=_a([o,a]))?(d=a,g=o):(d=o,g=a),_=l,!h&&"no-transpose"===n&&"upper"===r||h&&"no-transpose"!==n&&"lower"===r){for(v=_,w=0;w<t;w++){if(0!==f[v]){for(m=f[v],b=u+g*w,p=_,y=0;y<w;y++)f[p]=oe(f[p]+oe(m*i[b+d*y])),p+=s;c&&(f[v]=oe(f[v]*i[b+d*w]))}v+=s}return f}if(!h&&"no-transpose"===n&&"lower"===r||h&&"no-transpose"!==n&&"upper"===r){for(v=_+=(t-1)*s,w=t-1;w>=0;w--){if(0!==f[v]){for(m=f[v],b=u+g*w,p=_,y=t-1;y>w;y--)f[p]=oe(f[p]+oe(m*i[b+d*y])),p-=s;c&&(f[v]=oe(f[v]*i[b+d*w]))}v-=s}return f}if(!h&&"no-transpose"!==n&&"upper"===r||h&&"no-transpose"===n&&"lower"===r){for(v=_+(t-1)*s,w=t-1;w>=0;w--){for(m=f[v],b=u+g*w,p=v,c&&(m=oe(m*i[b+d*w])),y=w-1;y>=0;y--)m=oe(m+oe(f[p-=s]*i[b+d*y]));f[v]=m,v-=s}return f}for(v=_,w=0;w<t;w++){for(m=f[v],b=u+g*w,p=v,c&&(m=oe(m*i[b+d*w])),y=w+1;y<t;y++)m=oe(m+oe(f[p+=s]*i[b+d*y]));f[v]=m,v+=s}return f}function Al(r,n,e,t,i,o,a,u,f){var s,l;if(!rt(r))throw new TypeError(A("invalid argument. First argument must be a valid order. Value: `%s`.",r));if(!it(n))throw new TypeError(A("invalid argument. Second argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",n));if(!ht(e))throw new TypeError(A("invalid argument. Third argument must be a valid transpose operation. Value: `%s`.",e));if(!Xe(t))throw new TypeError(A("invalid argument. Fourth argument must be a valid diagonal type. Value: `%s`.",t));if(i<0)throw new RangeError(A("invalid argument. Fifth argument must be a nonnegative integer. Value: `%d`.",i));if(a<ba(1,i))throw new RangeError(A("invalid argument. Seventh argument must be greater than or equal to max(1,%d). Value: `%d`.",i,a));if(0===f)throw new RangeError(A("invalid argument. Ninth argument must be non-zero. Value: `%d`.",f));return 0===i?u:("column-major"===r?(s=1,l=a):(s=a,l=1),Fl(n,e,t,i,o,s,l,0,u,f,_t(i,f)))}z(Al,"ndarray",(function(r,n,e,t,i,o,a,u,f,s,l){if(!it(r))throw new TypeError(A("invalid argument. First argument must specify whether the lower or upper triangular matrix is supplied. Value: `%s`.",r));if(!ht(n))throw new TypeError(A("invalid argument. Second argument must be a valid transpose operation. Value: `%s`.",n));if(!Xe(e))throw new TypeError(A("invalid argument. Third argument must be a valid diagonal type. Value: `%s`.",e));if(t<0)throw new RangeError(A("invalid argument. Fourth argument must be a nonnegative integer. Value: `%d`.",t));if(0===s)throw new RangeError(A("invalid argument. Tenth argument must be non-zero. Value: `%d`.",s));return 0===t?f:Fl(r,n,e,t,i,o,a,u,f,s,l)}));var Il=bt((0,r.join)(__dirname,"./native.js")),kl=wt(Il)?Al:Il,Ll=Ui({"no-transpose":111,transpose:112,"conjugate-transpose":113},{duplicates:!1});function Bl(r){var n=Ll[r];return"string"==typeof n?n:null}var Ml={"no-transpose":111,transpose:112,"conjugate-transpose":113};function Nl(r){var n=Ml[r];return"number"==typeof n?n:null}function Ul(r,n){var e=Se(r),t=Se(n),i=Re(r),o=Re(n);return new ee(e*t-i*o,e*o+i*t)}function Pl(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(r<=0)return o;if(0===Kt(n))return o;for(f=i,s=u,l=0;l<r;l++)o.set((c=Ul(n,e.get(f)),h=o.get(s),new ee(Se(c)+Se(h),Re(c)+Re(h))),s),f+=t,s+=a;return o}function Cl(r,n,e,t,i,o){return Pl(r,n,e,t,_t(r,t),i,o,_t(r,o))}z(Cl,"ndarray",Pl);var zl=bt((0,r.join)(__dirname,"./native.js")),Dl=wt(zl)?Cl:zl;function Yl(r,n,e,t,i){var o,a,u,f,s,l,c;if(r<=0)return t;if(o=we(n,0),a=we(t,0),1===e&&1===i){for(c=0;c<2*r;c+=2)a[c]=o[c],a[c+1]=o[c+1];return t}for(s=e<0?2*(1-r)*e:0,l=i<0?2*(1-r)*i:0,u=2*e,f=2*i,c=0;c<r;c++)a[l]=o[s],a[l+1]=o[s+1],s+=u,l+=f;return t}z(Yl,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m;if(r<=0)return i;for(u=we(n,0),f=we(i,0),s=2*e,l=2*o,c=2*t,h=2*a,m=0;m<r;m++)f[h]=u[c],f[h+1]=u[c+1],c+=s,h+=l;return i}));var Wl=bt((0,r.join)(__dirname,"./native.js")),ql=wt(Wl)?Yl:Wl;function Gl(r,n,e,t,i,o,a,u,f){var s,l,c,h,m,d,g,p;if(r<=0)return i;for(s=we(n,0),l=we(i,0),h=2*e,m=2*o,d=2*t,g=2*a,p=0;p<r;p++)c=u*s[d]+f*l[g],l[g]=u*l[g]-f*s[d],s[d]=c,c=u*s[d+1]+f*l[g+1],l[g+1]=u*l[g+1]-f*s[d+1],s[d+1]=c,d+=h,g+=m;return i}function $l(r,n,e,t,i,o,a){return Gl(r,n,e,_t(r,e),t,i,_t(r,i),o,a)}z($l,"ndarray",Gl);var Jl=bt((0,r.join)(__dirname,"./native.js")),Hl=wt(Jl)?$l:Jl;function Xl(r,n,e,t){var i,o;if(r<=0||t<=0)return e;if(1===t){for(o=0;o<r;o++)e.set(Ul(n,e.get(o)),o);return e}for(i=0,o=0;o<r;o++)e.set(Ul(n,e.get(i)),i),i+=t;return e}z(Xl,"ndarray",(function(r,n,e,t,i){var o,a;if(r<=0||t<=0)return e;for(o=i,a=0;a<r;a++)e.set(Ul(n,e.get(o)),o),o+=t;return e}));var Zl=bt((0,r.join)(__dirname,"./native.js")),Kl=wt(Zl)?Xl:Zl;function Ql(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0)return t;if(o=we(n,0),a=we(t,0),1===e&&1===i){for(h=0;h<2*r;h+=2)u=o[h],o[h]=a[h],a[h]=u,u=o[m=h+1],o[m]=a[m],a[m]=u;return t}for(l=e<0?2*(1-r)*e:0,c=i<0?2*(1-r)*i:0,f=2*e,s=2*i,h=0;h<r;h++)u=o[l],o[l]=a[c],a[c]=u,u=o[l+1],o[l+1]=a[c+1],a[c+1]=u,l+=f,c+=s;return t}z(Ql,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d;if(r<=0)return i;for(u=we(n,0),f=we(i,0),l=2*e,c=2*o,h=2*t,m=2*a,d=0;d<r;d++)s=u[h],u[h]=f[m],f[m]=s,s=u[h+1],u[h+1]=f[m+1],f[m+1]=s,h+=l,m+=c;return i}));var rc=bt((0,r.join)(__dirname,"./native.js")),nc=wt(rc)?Ql:rc,ec={};C(ec,"assert",mt),C(ec,"caxpy",Rt),C(ec,"ccopy",At),C(ec,"cscal",Lt),C(ec,"csrot",Ut),C(ec,"cswap",zt),C(ec,"dasum",Gt),C(ec,"daxpy",Zt),C(ec,"dcabs1",Kt),C(ec,"dcopy",ti),C(ec,"ddot",si),C(ec,"diagonalTypeEnum2Str",Ci),C(ec,"diagonalTypeResolveEnum",(function(r){var n=typeof r;return"number"===n?Ci(r)?r:null:"string"===n?Di(r):null})),C(ec,"diagonalTypeResolveStr",(function(r){var n=typeof r;return"string"===n?null===Di(r)?null:r:"number"===n?Ci(r):null})),C(ec,"diagonalTypeStr2Enum",Di),C(ec,"diagonalTypes",Je),C(ec,"dnrm2",Qi),C(ec,"drot",io),C(ec,"drotg",Lo),C(ec,"drotm",Uo),C(ec,"dscal",Wo),C(ec,"dsdot",Xo),C(ec,"dspmv",ua),C(ec,"dswap",ma),C(ec,"dsymv",wa),C(ec,"dsyr",Va),C(ec,"dsyr2",Oa),C(ec,"dtrmv",ka),C(ec,"dznrm2",za),C(ec,"gasum",Da),C(ec,"gaxpy",Ya),C(ec,"gcopy",Xa),C(ec,"gdot",Za),C(ec,"gnrm2",cf),C(ec,"gscal",hf),C(ec,"gswap",df),C(ec,"idamax",wf),C(ec,"isamax",Ef),C(ec,"layoutEnum2Str",jf),C(ec,"layoutResolveEnum",(function(r){var n=typeof r;return"number"===n?jf(r)?r:null:"string"===n?xf(r):null})),C(ec,"layoutResolveStr",(function(r){var n=typeof r;return"string"===n?null===xf(r)?null:r:"number"===n?jf(r):null})),C(ec,"layoutStr2Enum",xf),C(ec,"layouts",Ke),C(ec,"matrixTriangleEnum2Str",Rf),C(ec,"matrixTriangleResolveEnum",(function(r){var n=typeof r;return"number"===n?Rf(r)?r:null:"string"===n?Ff(r):null})),C(ec,"matrixTriangleResolveStr",(function(r){var n=typeof r;return"string"===n?null===Ff(r)?null:r:"number"===n?Rf(r):null})),C(ec,"matrixTriangleStr2Enum",Ff),C(ec,"matrixTriangles",et),C(ec,"operationSideEnum2Str",If),C(ec,"operationSideResolveEnum",(function(r){var n=typeof r;return"number"===n?If(r)?r:null:"string"===n?Lf(r):null})),C(ec,"operationSideResolveStr",(function(r){var n=typeof r;return"string"===n?null===Lf(r)?null:r:"number"===n?If(r):null})),C(ec,"operationSideStr2Enum",Lf),C(ec,"operationSides",at),C(ec,"sasum",Uf),C(ec,"saxpy",Yf),C(ec,"scabs1",Tt),C(ec,"scasum",$f),C(ec,"scnrm2",is),C(ec,"scopy",ss),C(ec,"sdot",ds),C(ec,"sdsdot",bs),C(ec,"sgemv",Ms),C(ec,"snrm2",Ws),C(ec,"srot",Js),C(ec,"srotg",il),C(ec,"srotm",fl),C(ec,"sscal",As),C(ec,"sspmv",cl),C(ec,"sswap",vl),C(ec,"ssymv",_l),C(ec,"ssyr",Vl),C(ec,"ssyr2",Ol),C(ec,"strmv",kl),C(ec,"transposeOperationEnum2Str",Bl),C(ec,"transposeOperationResolveEnum",(function(r){var n=typeof r;return"number"===n?Bl(r)?r:null:"string"===n?Nl(r):null})),C(ec,"transposeOperationResolveStr",(function(r){var n=typeof r;return"string"===n?null===Nl(r)?null:r:"number"===n?Bl(r):null})),C(ec,"transposeOperationStr2Enum",Nl),C(ec,"transposeOperations",lt),C(ec,"zaxpy",Dl),C(ec,"zcopy",ql),C(ec,"zdrot",Hl),C(ec,"zscal",Kl),C(ec,"zswap",nc);var tc=Xn();var ic={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function oc(r){return ic[r]||null}function ac(r){var n,e,t,i,o,a;if(0===(e=r.length))return 0;for(n=!0,t=!0,i=Dt(r[0]),a=1;a<e;a++){if(o=Dt(r[a]),n&&o<i?n=!1:t&&o>i&&(t=!1),!t&&!n)return 0;i=o}return t&&n?3:t?1:2}function uc(r,n){return n&&(2===r||3===r)}function fc(r,n){return n&&(1===r||3===r)}function sc(r,n,e){var t,i,o,a,u;for(t=r.length,i=e,o=e,u=0;u<t;u++){if(0===r[u])return[e,e];(a=n[u])>0?o+=a*(r[u]-1):a<0&&(i+=a*(r[u]-1))}return[i,o]}z(sc,"assign",(function(r,n,e,t){var i,o,a,u,f;for(i=r.length,o=e,a=e,f=0;f<i;f++){if(0===r[f])return t[0]=e,t[1]=e,t;(u=n[f])>0?a+=u*(r[f]-1):u<0&&(o+=u*(r[f]-1))}return t[0]=o,t[1]=a,t}));var lc=/[-\/\\^$*+?.()|[\]{}]/g;var cc=RegExp.prototype.exec;var hc=H();function mc(r){return"object"==typeof r&&(r instanceof RegExp||(hc?function(r){try{return cc.call(r),!0}catch(r){return!1}}(r):"[object RegExp]"===er(r)))}function dc(r,n,e){return r.replace(n,e)}function gc(r,n,e){if(!An(r))throw new TypeError(A("invalid argument. First argument must be a string. Value: `%s`.",r));if(An(n))n=new RegExp(function(r){var n,e;if(!An(r))throw new TypeError(A("invalid argument. Must provide a regular expression string. Value: `%s`.",r));if("/"===r[0])for(e=r.length-1;e>=0&&"/"!==r[e];e--);return void 0===e||e<=0?r.replace(lc,"\\$&"):(n=(n=r.substring(1,e)).replace(lc,"\\$&"),r=r[0]+n+r.substring(e))}(n),"g");else if(!mc(n))throw new TypeError(A("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",n));if(!An(e)&&!ne(e))throw new TypeError(A("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",e));return dc(r,n,e)}var pc={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var vc="function"==typeof ArrayBuffer?ArrayBuffer:null;var yc,wc="function"==typeof ArrayBuffer?ArrayBuffer:void 0;yc=function(){var r,n,e;if("function"!=typeof vc)return!1;try{(r=On(e=new vc(16))&&"function"==typeof vc.isView)&&((n=new pr(e))[0]=-3.14,n[1]=NaN,r=r&&vc.isView(n)&&16===e.byteLength&&-3.14===n[0]&&n[1]!=n[1])}catch(n){r=!1}return r}()?wc:function(){throw new Error("not implemented")};var bc=yc,_c="function"==typeof DataView;var Ec="function"==typeof DataView?DataView:null;var Tc,jc="function"==typeof DataView?DataView:void 0;Tc=function(){var r,n,e,t;if("function"!=typeof Ec)return!1;try{e=new bc(24),n=new Ec(e,8),t=n,(r=(_c&&t instanceof DataView||"[object DataView]"===er(t))&&"function"==typeof n.getFloat64&&"function"==typeof n.setFloat64)&&(n.setFloat64(0,-3.14),n.setFloat64(8,NaN),r=r&&n.buffer===e&&16===n.byteLength&&8===n.byteOffset&&-3.14===n.getFloat64(0)&&n.getFloat64(8)!=n.getFloat64(8))}catch(n){r=!1}return r}()?jc:function(){throw new Error("not implemented")};var Vc=Tc,xc="function"==typeof BigInt?BigInt:void 0,Sc={all:["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","bool","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]},Rc=/_and_generic$/;function Oc(){var r,n,e;return 0===arguments.length?Sc.all.slice():(e=!1,r=arguments[0],Rc.test(r)&&"all"!==(r=dc(r,Rc,""))&&(e=!0),n=(n=Sc[r])?n.slice():[],e&&n.length>0&&n.push("generic"),n)}function Fc(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}z(Oc,"enum",Fc),function(r,n){var e,t,i;for(e=Bi(n),i=0;i<e.length;i++)C(r,t=e[i],n[t])}(Oc,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var Ac=["row-major","column-major"];function Ic(){return Ac.slice()}var kc=["row-major","column-major"];function Lc(){return{"row-major":101,"column-major":102}}z((function(){return kc.slice()}),"enum",Lc);var Bc={"row-major":101,"column-major":102};function Mc(){return{"row-major":Bc["row-major"],"column-major":Bc["column-major"]}}z(Ic,"enum",Mc);var Nc=["throw","normalize","clamp","wrap"];function Uc(){return Nc.slice()}function Pc(){return{throw:1,clamp:2,wrap:3,normalize:4}}z(Uc,"enum",Pc);var Cc={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},zc=Mc(),Dc={throw:1,clamp:2,wrap:3,normalize:4};var Yc=4294967295,Wc=4294967296,qc=new Xr(8),Gc=new Vc(qc.buffer);function $c(r,n,e,t){var i,o,a;if(0===r){for(a=0;a<qc.length;a++)n[t]=0,t+=e;return n}for(o=(r&Yc)>>>0,i=gn(r/Wc),lo?(Gc.setUint32(0,o,lo),Gc.setUint32(4,i,lo)):(Gc.setUint32(0,i,lo),Gc.setUint32(4,o,lo)),a=0;a<qc.length;a++)n[t]=qc[a],t+=e;return n}z((function(r){var n,e,t,i;return n=new Xr(8),0===r||(i=(4294967295&r)>>>0,t=gn(r/4294967296),e=new Vc(n.buffer),lo?(e.setUint32(0,i,lo),e.setUint32(4,t,lo)):(e.setUint32(0,t,lo),e.setUint32(4,i,lo))),n}),"assign",$c);var Jc={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Hc=Mc(),Xc={throw:1,clamp:2,wrap:3,normalize:4};function Zc(r,n,e,t,i,o){var a,u,f,s,l;if(!(this instanceof Zc))return new Zc(r,n,e,t,i,o);for(s=1,l=0;l<e.length;l++)s*=e[l];return u=n.BYTES_PER_ELEMENT?n.BYTES_PER_ELEMENT*s:null,this._byteLength=u,this._bytesPerElement=oc(r),this._buffer=n,this._dtype=r,this._length=s,this._ndims=e.length,this._offset=i,this._order=o,this._shape=e,this._strides=t,this._accessors=zn(n.get&&n.set),this._iterationOrder=function(r){var n,e;for(n=0,e=0;e<r.length;e++)r[e]<0&&(n+=1);return 0===n?1:n===r.length?-1:0}(t),a=function(r,n,e,t,i){var o;return 0!==r&&0!==i&&r===(o=sc(n,e,t))[1]-o[0]+1}(s,e,t,i,this._iterationOrder),f=ac(t),this._flags={ROW_MAJOR_CONTIGUOUS:fc(f,a),COLUMN_MAJOR_CONTIGUOUS:uc(f,a),READONLY:!1},this.__meta_dataview__=null,this}function Kc(r){return r instanceof Zc||null!==r&&"object"==typeof r&&"object"==typeof r.data&&"object"==typeof r.shape&&"object"==typeof r.strides&&"number"==typeof r.offset&&"string"==typeof r.order&&"number"==typeof r.ndims&&"string"==typeof r.dtype&&"number"==typeof r.length&&"object"==typeof r.flags&&"function"==typeof r.get&&"function"==typeof r.set}function Qc(r){return Kc(r)&&"float64"===r.dtype}function rh(r){return yn(r)&&r<0}function nh(r){return wn(r)&&r.valueOf()<0}function eh(r){return rh(r)||nh(r)}function th(r,n){return r<n?r:n}function ih(r,n){return r<0?(r+=n+1)<0?-1:r:r>n?-1:r}z(Zc,"name","ndarray"),ge(Zc.prototype,"byteLength",(function(){return this._byteLength})),ge(Zc.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),ge(Zc.prototype,"data",(function(){return this._buffer})),ge(Zc.prototype,"dtype",(function(){return this._dtype})),ge(Zc.prototype,"flags",(function(){return function(r){return{ROW_MAJOR_CONTIGUOUS:r.ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:r.COLUMN_MAJOR_CONTIGUOUS,READONLY:r.READONLY}}(this._flags)})),ge(Zc.prototype,"length",(function(){return this._length})),ge(Zc.prototype,"ndims",(function(){return this._ndims})),ge(Zc.prototype,"offset",(function(){return this._offset})),ge(Zc.prototype,"order",(function(){return this._order})),ge(Zc.prototype,"shape",(function(){return this._shape.slice()})),ge(Zc.prototype,"strides",(function(){return this._strides.slice()})),z(Zc.prototype,"get",(function(){var r,n;for(r=this._offset,n=0;n<arguments.length;n++)r+=this._strides[n]*arguments[n];return this._accessors?this._buffer.get(r):this._buffer[r]})),z(Zc.prototype,"iget",(function(r){var n,e,t,i,o,a;if(0===(t=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+r):this._buffer[this._offset+r];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-r):this._buffer[this._offset-r]}if(e=this._shape,n=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<t;a++)r-=o=r%e[a],r/=e[a],i+=o*n[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=t-1;a>=0;a--)r-=o=r%e[a],r/=e[a],i+=o*n[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),z(Zc.prototype,"set",(function(){var r,n;for(r=this._offset,n=0;n<arguments.length-1;n++)r+=this._strides[n]*arguments[n];return this._accessors?this._buffer.set(arguments[n],r):this._buffer[r]=arguments[n],this})),z(Zc.prototype,"iset",(function(r,n){var e,t,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(r,this._offset):this._buffer[this._offset]=r,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(n,this._offset+r):this._buffer[this._offset+r]=n,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(n,this._offset-r):this._buffer[this._offset-r]=n,this}if(t=this._shape,e=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)r-=a=r%t[u],r/=t[u],o+=a*e[u];return this._accessors?this._buffer.set(n,o):this._buffer[o]=n,this}for(u=i-1;u>=0;u--)r-=a=r%t[u],r/=t[u],o+=a*e[u];return this._accessors?this._buffer.set(n,o):this._buffer[o]=n,this})),z(Zc.prototype,"toString",(function(){var r,n,e,t,i,o;if(n=this._shape.length,e="ndarray( '"+(t=this._dtype)+"', ",r="",this._length<=100)if("complex64"===t||"complex128"===t)for(o=0;o<this._length;o++)r+=Se(i=this.iget(o))+", "+Re(i),o<this._length-1&&(r+=", ");else for(o=0;o<this._length;o++)r+=this.iget(o),o<this._length-1&&(r+=", ");else{if("complex64"===t||"complex128"===t)for(o=0;o<3;o++)r+=Se(i=this.iget(o))+", "+Re(i),o<2&&(r+=", ");else for(o=0;o<3;o++)r+=this.iget(o),o<2&&(r+=", ");if(r+=", ..., ","complex64"===t||"complex128"===t)for(o=2;o>=0;o--)r+=Se(i=this.iget(this._length-1-o))+", "+Re(i),o>0&&(r+=", ");else for(o=2;o>=0;o--)r+=this.iget(this._length-1-o),o>0&&(r+=", ")}if(e+=gc(pc[this.dtype],"{{data}}",r),e+=", ",e+=0===n?"[]":"[ "+this._shape.join(", ")+" ]",e+=", ",e+="[ ",0===n)e+="0";else for(o=0;o<n;o++)this._strides[o]<0?e+=-this._strides[o]:e+=this._strides[o],o<n-1&&(e+=", ");return e+=" ]",e+=", ",e+="0",e+=", ",e+="'"+this._order+"'",e+=" )"})),z(Zc.prototype,"toJSON",(function(){var r,n,e,t;for(n=this._length,(r={}).type="ndarray",r.dtype=this.dtype,r.flags={READONLY:this._flags.READONLY},r.order=this._order,r.shape=this._shape.slice(),r.strides=this._strides.slice(),t=0;t<n;t++)r.strides[t]<0&&(r.strides[t]*=-1);if(r.data=[],"complex64"===r.dtype||"complex128"===r.dtype)for(t=0;t<n;t++)e=this.iget(t),r.data.push(Se(e),Re(e));else for(t=0;t<n;t++)r.data.push(this.iget(t));return r})),z(Zc.prototype,"__array_meta_dataview__","function"==typeof tc.BigInt&&"function"==typeof BigInt&&"bigint"==typeof tc.BigInt("1")&&"bigint"==typeof BigInt("1")?function(){var r,n,e,t,i,o,a,u,f,s,l,c,h,m;if(f=this._mode||"throw",a=this._submode||[f],e=33+16*(c=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===e)return u;for(u=new Vc(new bc(e)),i=this._shape,o=this._strides,t=this._dtype,r=this._bytesPerElement,s=0,u.setInt8(s,lo?1:0),s+=1,u.setInt16(s,Cc[t],lo),s+=2,u.setBigInt64(s,xc(c),lo),l=8*c,s+=8,m=0;m<c;m++)u.setBigInt64(s,xc(i[m]),lo),u.setBigInt64(s+l,xc(o[m]*r),lo),s+=8;for(s+=l,u.setBigInt64(s,xc(this._offset*r),lo),s+=8,u.setInt8(s,zc[this._order]),s+=1,u.setInt8(s,Dc[f]),s+=1,u.setBigInt64(s,xc(h),lo),s+=8,m=0;m<h;m++)u.setInt8(s,Dc[a[m]]),s+=1;return n=0,n|=this._flags.READONLY?4:0,u.setInt32(s,n,lo),this.__meta_dataview__=u,u}:function(){var r,n,e,t,i,o,a,u,f,s,l,c,h,m,d;if(s=this._mode||"throw",u=this._submode||[s],t=33+16*(h=this._ndims)+(m=u.length),(f=this.__meta_dataview__)&&f.byteLength===t)return f;for(f=new Vc(new bc(t)),n=new Xr(f.buffer),o=this._shape,a=this._strides,i=this._dtype,r=this._bytesPerElement,l=0,f.setInt8(l,lo?1:0),l+=1,f.setInt16(l,Jc[i],lo),$c(h,n,1,l+=2),c=8*h,l+=8,d=0;d<h;d++)$c(o[d],n,1,l),$c(a[d]*r,n,1,l+c),l+=8;for(l+=c,$c(this._offset*r,n,1,l),l+=8,f.setInt8(l,Hc[this._order]),l+=1,f.setInt8(l,Xc[s]),$c(m,n,1,l+=1),l+=8,d=0;d<m;d++)f.setInt8(l,Xc[u[d]]),l+=1;return e=0,e|=this._flags.READONLY?4:0,f.setInt32(l,e,lo),this.__meta_dataview__=f,f}),z(eh,"isPrimitive",rh),z(eh,"isObject",nh);var oh={float64:pr,float32:Tr,generic:Array,int16:Wr,int32:Lr,int8:un,uint16:Pr,uint32:Or,uint8:Xr,uint8c:nn,complex64:xe,complex128:Be,bool:ze};function ah(r){return function(r,n){var e,t;for(e=[],t=0;t<n;t++)e.push(r);return e}(0,r)}function uh(){return{dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",boolean:"bool",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32"}}}var fh={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",boolean:"bool",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32"}},sh={"dtypes.default":fh.dtypes.default,"dtypes.numeric":fh.dtypes.numeric,"dtypes.real":fh.dtypes.real,"dtypes.floating_point":fh.dtypes.floating_point,"dtypes.real_floating_point":fh.dtypes.real_floating_point,"dtypes.complex_floating_point":fh.dtypes.complex_floating_point,"dtypes.boolean":fh.dtypes.boolean,"dtypes.integer":fh.dtypes.integer,"dtypes.signed_integer":fh.dtypes.signed_integer,"dtypes.unsigned_integer":fh.dtypes.unsigned_integer};z(uh,"get",(function(r){var n=sh[r];return void 0===n?null:n}));var lh=uh.get("dtypes.default");function ch(r){var n,e;if(!_n(r))throw new TypeError(A("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",r));if("generic"===(n=arguments.length>1?arguments[1]:lh))return ah(r);if(e=function(r){return oh[r]||null}(n),null===e)throw new TypeError(A("invalid argument. Second argument must be a recognized data type. Value: `%s`.",n));return new e(r)}var hh={all:["bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["bool","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]},mh=/_and_generic$/;function dh(){var r,n,e;return 0===arguments.length?hh.all.slice():(e=!1,r=arguments[0],mh.test(r)&&"all"!==(r=dc(r,mh,""))&&(e=!0),n=(n=hh[r])?n.slice():[],e&&n.length>0&&n.push("generic"),n)}var gh=Ge(dh("complex_floating_point")),ph=Ge(dh("boolean"));function vh(r,n){if(he(r))return we(r,n);if(le(r))return ye(r,n);throw new TypeError(A("invalid argument. First argument must be a complex-valued floating-point array. Value: `%s`.",r))}function yh(r,n){return new Xr(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,r.length-n)}function wh(r,n,e,t,i){var o,a;for(o=i,a=0;a<r.length;a++)a!==n&&(e[o]=r[a],o+=t);return e}function bh(r,n,e,t,i){var o,a;if((n=ih(n,r.length-1))<0)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%d`.",n));return o=Ja(r),a=Ja(e),o.accessorProtocol||a.accessorProtocol?gh(o.dtype)&&gh(a.dtype)?(function(r,n,e,t,i){var o,a,u,f;for(o=2*t,a=2*i,u=0;u<r.length/2;u++)u!==n&&(f=2*u,e[a]=r[f],e[a+1]=r[f+1],a+=o)}(vh(r,0),n,vh(e,0),t,i),e):ph(o.dtype)&&ph(a.dtype)?(wh(yh(r,0),n,yh(e,0),t,i),e):(function(r,n,e,t,i){var o,a,u,f,s,l;for(o=r.data,a=e.data,u=r.accessors[0],f=e.accessors[1],s=i,l=0;l<o.length;l++)l!==n&&(f(a,s,u(o,l)),s+=t)}(o,n,a,t,i),e):(wh(r,n,e,t,i),e)}function _h(r,n){var e;if((n=ih(n,r.length-1))<0)throw new RangeError(A("invalid argument. Index argument is out-of-bounds. Value: `%d`.",n));return bh(r,n,e=ch(r.length-1,qe(r)||"generic"),1,0),e}function Eh(r){var n,e,t;if(0===(n=r.length))return 0;for(e=1,t=0;t<n;t++)e*=r[t];return e}function Th(r){var n,e,t;for(e=r.length,n=[],t=0;t<e;t++)n.push(r[t]);return n}function jh(r,n){var e=r.shape;return n?Th(e):e}function Vh(r,n){return"column-major"===n?function(r){var n,e,t;for(n=[],e=1,t=0;t<r.length;t++)n.push(e),e*=r[t];return n}(r):function(r){var n,e,t,i;for(n=r.length,e=[],i=0;i<n;i++)e.push(0);for(t=1,i=n-1;i>=0;i--)e[i]=t,t*=r[i];return e}(r)}z(_h,"assign",bh),z(Vh,"assign",(function(r,n,e){return"column-major"===n?function(r,n){var e,t;for(e=1,t=0;t<r.length;t++)n[t]=e,e*=r[t];return n}(r,e):function(r,n){var e,t;for(e=1,t=r.length-1;t>=0;t--)n[t]=e,e*=r[t];return n}(r,e)}));var xh="row-major";function Sh(r,n){var e,t,i;return"object"!=typeof(i=r.strides)||null===i?0===(t=r.shape).length?[0]:("string"!=typeof(e=r.order)&&(e=xh),Vh(t,e)):n?Th(i):i}function Rh(r,n){var e,t,i;for(t=r.length,e=0,i=0;i<t;i++)n[i]<0&&(e-=n[i]*(r[i]-1));return e}function Oh(r){var n,e,t;return"number"==typeof(t=r.offset)?t:0===(e=r.shape).length||"object"!=typeof(n=r.strides)||null===n?0:Rh(e,n)}var Fh="row-major",Ah="column-major";function Ih(r){var n,e;return"string"==typeof(e=r.order)?e:"object"!=typeof(n=r.strides)||null===n||1===(e=ac(n))||3===e?Fh:2===e?Ah:0===r.shape.length?Fh:null}function kh(r){return r.dtype}function Lh(r){return r.data}function Bh(r,n){var e,t,i,o,a,u,f,s,l;if((a=n.length)<(u=(i=jh(r,!1)).length))throw new Error("invalid argument. Cannot broadcast an array to a shape having fewer dimensions. Arrays can only be broadcasted to shapes having the same or more dimensions.");for(e=[],s=0;s<a;s++)e.push(0);for(o=Sh(r,!1),s=a-1;s>=0;s--)if(!((l=u-a+s)<0)){if(f=i[l],0!==(t=n[s])&&t<f)throw new Error(A("invalid argument. Input array cannot be broadcast to the specified shape, as the specified shape has a dimension whose size is less than the size of the corresponding dimension in the input array. Array shape: (%s). Desired shape: (%s). Dimension: %u.",Th(i).join(", "),Th(n).join(", "),s));if(f===t)e[s]=o[l];else{if(1!==f)throw new Error(A("invalid argument. Input array and the specified shape are broadcast incompatible. Array shape: (%s). Desired shape: (%s). Dimension: %u.",Th(i).join(", "),Th(n).join(", "),s));e[s]=0}}return Zc(kh(r),Lh(r),Th(n),e,Oh(r),Ih(r))}function Mh(r,n){var e,t,i;if(t=n.length,(e=jh(r,!1)).length===t){for(i=0;i<t;i++)if(e[i]!==n[i])return Bh(r,n);return r}return Bh(r,n)}function Nh(r){var n,e,t,i,o;for(i=r.length,n=[],o=0;o<i;o++)n.push(jh(r[o],!1));if(t=function(r){var n,e,t,i,o,a,u,f,s,l,c;if(e=[],0===(f=r.length))return e;if(s=(i=r[0]).length,1===f){for(l=0;l<s;l++)e.push(i[l]);return e}for(n=[s],l=1;l<f;l++)n.push(r[l].length),n[l]>s&&(s=n[l]);for(l=0;l<s;l++)e.push(0);for(l=s-1;l>=0;){for(t=(o=n[0]-s+l)>=0?i[o]:1,c=1;c<f;c++)if(u=(a=n[c]-s+l)>=0?r[c][a]:1,1!==t){if(1!==u&&t!==u)return null}else t=u;e[l]=t,l-=1}return e}(n),null===t)throw new Error("invalid arguments. Input arrays must be broadcast compatible.");for(e=[],o=0;o<i;o++)e.push(Mh(r[o],t));return e}var Uh=Ge(Oc());function Ph(r){var n,e,t,i;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(!Sn(e=r.shape))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));for(n=[],i=0;i<e.length;i++){if(!_n(t=e[i]))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));n.push(t)}return n}var Ch=Ic(),zh=Ch.length;function Dh(r){var n;for(n=0;n<zh;n++)if(r===Ch[n])return!0;return!1}function Yh(r){var n,e,t,i,o,a;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(!Sn(i=r.strides)){if(!Sn(t=r.shape))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));return 0===t.length?[0]:(Dh(e=r.order)||(e="row-major"),Vh(t,e))}for(n=[],a=0;a<i.length;a++){if(!yn(o=i[a]))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));n.push(o)}return n}var Wh="row-major",qh="column-major";function Gh(r){var n;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));return Dh(n=r.order)?n:1===(n=ac(Yh(r)))||3===n?Wh:2===n?qh:0===function(r){var n,e;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(_n(e=r.ndims))return e;if(!Sn(n=r.shape))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));return n.length}(r)?Wh:null}function $h(){return{dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool"},order:"row-major",casting:"safe",index_mode:"throw"}}var Jh={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool"},order:"row-major",casting:"safe",index_mode:"throw"},Hh={"dtypes.default":Jh.dtypes.default,"dtypes.numeric":Jh.dtypes.numeric,"dtypes.real":Jh.dtypes.real,"dtypes.floating_point":Jh.dtypes.floating_point,"dtypes.real_floating_point":Jh.dtypes.real_floating_point,"dtypes.complex_floating_point":Jh.dtypes.complex_floating_point,"dtypes.integer":Jh.dtypes.integer,"dtypes.signed_integer":Jh.dtypes.signed_integer,"dtypes.unsigned_integer":Jh.dtypes.unsigned_integer,"dtypes.boolean":Jh.dtypes.boolean,order:Jh.order,casting:Jh.casting,index_mode:Jh.index_mode};z($h,"get",(function(r){var n=Hh[r];return void 0===n?null:n}));var Xh={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool"},order:"row-major",casting:"safe",index_mode:"throw"};function Zh(r){return new Zc(function(r){var n;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(n=r.dtype,Uh(n))return n;throw new TypeError(A("invalid argument. Must provide an ndarray having a supported data type. Value: `%s`.",n))}(r),function(r){var n;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(Sn(n=r.data))return n;throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r))}(r),Ph(r),Yh(r),function(r){var n,e,t;if("object"!=typeof r||null===r)throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(_n(t=r.offset))return t;if(!Sn(e=r.shape))throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r));if(n=r.strides,0===e.length||!Sn(n))return 0;if(_n(t=Rh(e,n)))return t;throw new TypeError(A("invalid argument. Must provide an ndarray. Value: `%s`.",r))}(r),Gh(r)||Xh)}function Kh(r){return null!=r&&"function"!=typeof r&&"number"==typeof r.length&&pn(r.length)&&r.length>=0&&r.length<=jn}function Qh(r){if("function"!=typeof r)throw new TypeError(A("invalid argument. Must provide a function. Value: `%s`.",r));return function(n){var e,t;if(!Kh(n))return!1;if(e=n.length,0===e)return!1;for(t=0;t<e;t++)if(!1===r(n[t]))return!1;return!0}}var rm=Qh(bn.isPrimitive),nm=Qh(bn.isObject),em=Qh(bn);z(em,"primitives",rm),z(em,"objects",nm);var tm=ne(Object.assign),im=Object.assign,om=void 0!==Object.getOwnPropertySymbols,am=gt.getOwnPropertySymbols;var um,fm=om?function(r){return am(gt(r))}:function(){return[]};function sm(r){var n,e,t;for(n=Bi(r),e=fm(r),t=0;t<e.length;t++)Ei(r,e[t])&&n.push(e[t]);return n}um=tm?im:function(r){var n,e,t,i,o,a,u;if(null==r)throw new TypeError(A("invalid argument. First argument must be a non-null object. Value: `%s`.",r));for(o=gt(r),a=1;a<arguments.length;a++)if(null!=(n=arguments[a]))for(i=(e=sm(gt(n))).length,u=0;u<i;u++)o[t=e[u]]=n[t];return o};var lm=um;function cm(r,n){return function(r,n){var e=r.flags;return"object"!=typeof e||null===e?{}:n?lm({},e):e}(r,!1)[n]}function hm(r){return!0===cm(r,"READONLY")}function mm(r){var n=qe(r);return Y(r)?q(n):$(n)}function dm(r,n){return r<0?0:r>n?n:r}function gm(r,n){var e=n+1;return r<0?((r+=e)<0&&0!==(r%=e)&&(r+=e),r):r>n?((r-=e)>n&&(r%=e),r):r}var pm=Ge(Uc()),vm={wrap:gm,clamp:dm,normalize:function(r,n){var e=ih(r,n);if(e<0||e>n)throw new RangeError(A("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",n,r));return e},throw:function(r,n){if(r<0||r>n)throw new RangeError(A("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",n,r));return r}};function ym(r){if(!pm(r))throw new TypeError(A("invalid argument. First argument must be a recognized index mode. Value: `%s`.",r));return vm[r]}function wm(r,n,e){var t;if("clamp"===e)return dm(r,n);if("wrap"===e)return gm(r,n);if(t=r,"normalize"===e&&(t=ih(t,n)),t<0||t>n)throw new RangeError(A("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",n,r));return t}function bm(r,n,e){var t,i,o,a,u,f,s;for(i=mm(r),o=mm(n),t=ym(e),u=r.length-1,a=[],f=0;f<n.length;f++)s=t(o(n,f),u),a.push(i(r,s));return a}function _m(r){return null===r}function Em(r){return void 0===r}function Tm(r){return yn(r)||_m(r)||Em(r)}function jm(){var r,n,e,t;if(0===(r=arguments.length)?(n=null,e=null,t=null):1===r?(n=null,e=arguments[0],t=null):2===r?(n=arguments[0],e=arguments[1],t=null):(n=arguments[0],e=arguments[1],t=arguments[2]),!(this instanceof jm))return new jm(n,e,t);if(!Tm(n))throw new TypeError(A("invalid argument. First argument must be an integer, null, or undefined. Value: `%s`.",n));if(!Tm(e))throw new TypeError(A("invalid argument. Second argument must be an integer, null, or undefined. Value: `%s`.",e));if(!Tm(t))throw new TypeError(A("invalid argument. Third argument must be an integer, null, or undefined. Value: `%s`.",t));if(0===t)throw new RangeError(A("invalid argument. Third argument cannot be zero. Value: `%s`.",t));return this._start=void 0===n?null:n,this._stop=void 0===e?null:e,this._step=void 0===t?null:t,this}function Vm(r){return yn(r)||_m(r)||Em(r)||function(r){return r instanceof jm||"Slice"===sr(r)}(r)}function xm(){var r,n,e,t,i;if(r=arguments.length,!(this instanceof xm)){if(1===r)return new xm(arguments[0]);if(2===r)return new xm(arguments[0],arguments[1]);if(3===r)return new xm(arguments[0],arguments[1],arguments[2]);if(4===r)return new xm(arguments[0],arguments[1],arguments[2],arguments[3]);if(5===r)return new xm(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);for(e=[],i=0;i<r;i++)e.push(arguments[i]);return n=Object.create(xm.prototype),xm.apply(n,e)}for(this._data=[],i=0;i<r;i++){if(!Vm(t=arguments[i]))throw new TypeError(A("invalid argument. Provided arguments must be either a Slice, integer, null, or undefined. Argument: `%d`. Value: `%s`.",i,String(t)));this._data.push(void 0===t?null:t)}return this}function Sm(r){switch(r.length){case 0:return new xm;case 1:return new xm(r[0]);case 2:return new xm(r[0],r[1]);case 3:return new xm(r[0],r[1],r[2]);case 4:return new xm(r[0],r[1],r[2],r[3]);case 5:return new xm(r[0],r[1],r[2],r[3],r[4]);case 6:return new xm(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new xm(r[0],r[1],r[2],r[3],r[4],r[5],r[6]);case 8:return new xm(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]);case 9:return new xm(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]);case 10:return new xm(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9]);default:return xm.apply(null,r)}}function Rm(r,n,e){return null===r?new jm(0,n,1):"number"==typeof r?function(r,n,e){return r>=n?e?{code:"ERR_SLICE_OUT_OF_BOUNDS"}:new jm(n,n,1):r<0&&(r=n+r)<0?e?{code:"ERR_SLICE_OUT_OF_BOUNDS"}:new jm(0,0,1):new jm(r,r+1,1)}(r,n,e):function(r,n,e){var t,i,o;if(t=r.start,i=r.stop,null===(o=r.step)&&(o=1),null===t)t=o>0?0:n-1;else if(t<0){if((t=n+t)<0){if(e)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};t=0}}else if(t>=n){if(e)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};t=o<0?n-1:n}if(null===i)i=o>0?n:null;else if(i<0){if((i=n+i)<0)if(o>0){if(e)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=0}else{if(e&&i<-1)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=null}}else if(i>n){if(e)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=n}return new jm(t,i,o)}(r,n,e)}function Om(r,n,e){var t,i,o,a;for(t=r.data,i=[],a=0;a<t.length;a++){if(void 0!==(o=Rm(t[a],n[a],e)).code)return o;i.push(o)}return Sm(i)}z(wm,"factory",ym),z(bm,"assign",(function(r,n,e,t,i,o){var a,u,f;return a=Ja(r),u=Ja(n),f=Ja(t),a.accessorProtocol||u.accessorProtocol||f.accessorProtocol?gh(a.dtype)&&gh(f.dtype)?(function(r,n,e,t,i,o){var a,u,f,s,l,c,h,m;for(u=n.data,f=n.accessors[0],a=ym(e),s=r.length/2-1,c=2*i,l=2*o,h=0;h<u.length;h++)m=2*a(f(u,h),s),t[l]=r[m],t[l+1]=r[m+1],l+=c}(vh(r,0),u,e,vh(t,0),i,o),t):ph(a.dtype)&&ph(f.dtype)?(function(r,n,e,t,i,o){var a,u,f,s,l,c,h;for(u=n.data,f=n.accessors[0],a=ym(e),s=r.length-1,l=o,c=0;c<u.length;c++)h=a(f(u,c),s),t[l]=r[h],l+=i}(yh(r,0),u,e,yh(t,0),i,o),t):(function(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g;for(u=r.data,f=n.data,s=t.data,l=r.accessors[0],c=n.accessors[0],h=t.accessors[1],a=ym(e),m=u.length-1,d=o,g=0;g<f.length;g++)h(s,d,l(u,a(c(f,g),m))),d+=i}(a,u,e,f,i,o),t):(function(r,n,e,t,i,o){var a,u,f,s,l;for(a=ym(e),u=r.length-1,f=o,s=0;s<n.length;s++)l=a(n[s],u),t[f]=r[l],f+=i}(r,n,e,t,i,o),t)})),z(jm,"name","Slice"),ge(jm.prototype,"start",(function(){return this._start})),ge(jm.prototype,"stop",(function(){return this._stop})),ge(jm.prototype,"step",(function(){return this._step})),z(jm.prototype,"toString",(function(){return"Slice("+this._start+","+this._stop+","+this.step+")"})),z(jm.prototype,"toJSON",(function(){return{type:"Slice",data:[this._start,this._stop,this._step]}})),z(xm,"name","MultiSlice"),ge(xm.prototype,"ndims",(function(){return this._data.length})),ge(xm.prototype,"data",(function(){return this._data.slice()})),z(xm.prototype,"toString",(function(){var r,n,e;for(r=this._data,n=[],e=0;e<r.length;e++)n.push(String(r[e]));return"MultiSlice("+n.join(",")+")"})),z(xm.prototype,"toJSON",(function(){var r,n,e,t;for(r=this._data,n={type:"MultiSlice",data:[]},t=0;t<r.length;t++)e=r[t],n.data.push(e&&"function"==typeof e.toJSON?e.toJSON():e);return n}));var Fm=Math.ceil;function Am(r){var n,e,t;return e=r.start,null===(t=r.stop)&&(t=-1),(n=r.step)>0&&e>=t||n<0&&e<=t?0:Fm((t-e)/n)}function Im(r){var n,e,t;for(n=r.data,e=[],t=0;t<n.length;t++)e.push(Am(n[t]));return e}function km(r,n){var e,t;for(e=[],t=0;t<n.length;t++)e.push(r[n[t]]);return e}var Lm="function"==typeof Buffer?Buffer:null;var Bm,Mm=n.Buffer;Bm=function(){var r,n;if("function"!=typeof Lm)return!1;try{r=ar(n="function"==typeof Lm.from?Lm.from([1,2,3,4]):new Lm([1,2,3,4]))&&1===n[0]&&2===n[1]&&3===n[2]&&4===n[3]}catch(n){r=!1}return r}()?Mm:function(){throw new Error("not implemented")};var Nm=Bm,Um={binary:Nm,float64:pr,float32:Tr,generic:Array,int16:Wr,int32:Lr,int8:un,uint16:Pr,uint32:Or,uint8:Xr,uint8c:nn,complex64:xe,complex128:Be,bool:ze};var Pm=ne(Nm.allocUnsafe)?function(r){if(!Tn(r))throw new TypeError(A("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));return Nm.allocUnsafe(r)}:function(r){if(!Tn(r))throw new TypeError(A("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));return new Nm(r)};function Cm(r,n){var e=function(r){return Um[r]||null}(r);return e?new e(n):null}function zm(r,n){return"generic"===r?function(r){var n,e;for(n=[],e=0;e<r;e++)n.push(0);return n}(n):"binary"===r?function(r){return function(r){var n;for(n=0;n<r.length;n++)r[n]=0;return r}(Pm(r))}(n):Cm(r,n)}function Dm(r,n,e,t){var i,o,a,u,f,s,l,c,h,m;if(a=kh(r),u=jh(r,!0),i=Sh(r,!0),o=Oh(r),f=Ih(r),l=u.length,n.ndims!==l)throw new RangeError(A("invalid argument. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",u.join(","),n.ndims));if(c=r.constructor,0===l)return new c(a,Lh(r),u,i,o,f,{readonly:!t});if(s=function(r){var n,e,t;for(n=r.data,e=[],t=0;t<n.length;t++)"number"!=typeof n[t]&&e.push(t);return e}(n),(m=Om(n,u,!0)).code){if(e)throw new RangeError(A("invalid argument. Slice exceeds array bounds. Array shape: (%s).",u.join(",")));Eh(km(h=Im(m=Om(n,u,!1)),s))>0&&(h=ah(h.length))}else h=Im(m);return 0===Eh(h)?function(r,n,e,t,i){var o,a;return o=0===(a=e.length)?[0]:ah(a),new r(n,zm(n,0),e,o,0,t,{readonly:i})}(c,a,km(h,s),f,!t):(o=function(r,n,e){var t,i,o;for(t=r.data,i=e,o=0;o<t.length;o++)i+=n[o]*t[o].start;return i}(m,i,o),0===(h=km(h,s)).length?new c(a,Lh(r),[],[0],o,f,{readonly:!t}):(i=function(r,n,e){var t,i,o,a;for(t=r.data,i=[],o=0;o<e.length;o++)a=e[o],i.push(n[a]*t[a].step);return i}(m,i,s),new c(a,Lh(r),h,i,o,f,{readonly:!t})))}var Ym="row-major";function Wm(r,n,e,t,i){var o=r.length;if(0===o)return null;if(t<0){if((t+=o)<0)return null}else if(t>=o)return null;return n===Ym?function(r,n,e,t,i){var o,a;for(o=r-1;o>t;o--)i[o]=e[o];for(o=t;o>=0&&(a=(e[o]+1)%n[o],i[o]=a,!(a>0));o--);for(o-=1;o>=0;o--)i[o]=e[o];return i}(o,r,e,t,i):function(r,n,e,t,i){var o,a;for(o=0;o<t;o++)i[o]=e[o];for(o=t;o<r&&(a=(e[o]+1)%n[o],i[o]=a,!(a>0));o++);for(o+=1;o<r;o++)i[o]=e[o];return i}(o,r,e,t,i)}function qm(r,n){var e,t,i,o,a,u,f,s,l,c,h,m,d,g,p,v;if(!Kc(r))throw new TypeError(A("invalid argument. First argument must be an ndarray. Value: `%s`.",r));if(!rm(n))throw new TypeError(A("invalid argument. Second argument must be an array of integers. Value: `%s`.",n));if(u={writable:!1},arguments.length>2){if(!Ni(t=arguments[2]))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",t));if(K(t,"readonly")){if(!Cn(t.readonly))throw new TypeError(A("invalid option. `%s` option must be a boolean. Option: `%s`.","readonly",t.readonly));if(u.writable=!t.readonly,u.writable&&hm(r))throw new Error(A("invalid option. Cannot write to read-only array."))}}if(a=n,n=function(r){var n,e,t,i;for(t=mm(r),e=r.length,n=[],i=0;i<e;i++)n.push(t(r,i));return n}(n),m=n.length,(o=(i=Ph(r)).length)<=m)throw new TypeError(A("invalid argument. First argument must be an ndarray having at least %d dimensions.",m+1));for(p=0;p<m;p++){if(-1===(g=ih(n[p],o-1)))throw new RangeError(A("invalid argument. Dimension index exceeds the number of dimensions. Number of dimensions: %d. Value: `%d`.",o,n[p]));n[p]=g}for(0===(d=Eh(i))&&(l=!0),p=0;p<m-1;p++)if(n[p]>n[p+1])throw new Error(A("invalid argument. Dimension indices must be sorted in ascending order. Value: `%s`.",a));for(v=1,p=1;p<m;p++){if(n[p]===n[p-1])throw new Error(A("invalid argument. Dimension indices must be unique. Value: `%s`.",a));n[v]=n[p],v+=1}for(p=0;p<m;p++)d/=i[n[p]];for(c=ah(o),p=0;p<m;p++)c[n[p]]=null;for(e=[],v=0,p=0;p<o;p++)p!==n[v]?e.push(p):v+=1;return h=bm(i,e,"throw"),s=bm(c,e,"throw"),p=-1,z(f={},"next",(function(){var n;if(p+=1,l||p>=d)return{done:!0};return n=Sm(c),s=Wm(h,"row-major",s,-1,s),c=function(r,n,e,t){var i,o,a,u,f,s;if(n.length>0)if(e.length===n.length)o=1;else{if(1!==e.length)throw new Error(A("invalid argument. The third argument must be broadcast compatible with the second argument. Array shape: (%d). Desired shape: (%d).",e.length,n.length));o=0}return i=ym(t),a=r.length-1,u=Ja(r),f=Ja(n),s=Ja(e),u.accessorProtocol||f.accessorProtocol||s.accessorProtocol?gh(u.dtype)&&gh(s.dtype)?(function(r,n,e,t,i,o){var a,u,f,s,l,c;for(a=n.data,u=n.accessors[0],s=2*t,f=0,l=0;l<a.length;l++)r[c=2*i(u(a,l),o)]=e[f],r[c+1]=e[f+1],f+=s}(vh(r,0),f,vh(e,0),o,i,a),r):ph(u.dtype)&&ph(s.dtype)?(function(r,n,e,t,i,o){var a,u,f,s;for(a=n.data,u=n.accessors[0],f=0,s=0;s<a.length;s++)r[i(u(a,s),o)]=e[f],f+=t}(yh(r,0),f,yh(e,0),o,i,a),r):(function(r,n,e,t,i,o){var a,u,f,s,l,c,h,m;for(a=r.data,u=n.data,f=e.data,s=r.accessors[1],l=n.accessors[0],c=e.accessors[0],h=0,m=0;m<u.length;m++)s(a,i(l(u,m),o),c(f,h)),h+=t}(u,f,s,o,i,a),r):(function(r,n,e,t,i,o){var a,u;for(a=0,u=0;u<n.length;u++)r[i(n[u],o)]=e[a],a+=t}(r,n,e,o,i,a),r)}(c,e,s,"throw"),{value:Dm(r,n,!0,u.writable),done:!1}})),z(f,"return",(function(r){if(l=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),de&&z(f,de,(function(){return qm(r,n,u)})),f}z((function(r,n,e,t){return Wm(r,n,e,t,ah(r.length))}),"assign",Wm);var Gm={float64:pr,float32:Tr,int16:Wr,int32:Lr,int8:un,uint16:Pr,uint32:Or,uint8:Xr,uint8c:nn,complex64:xe,complex128:Be,bool:ze};var $m,Jm=uh.get("dtypes.default");$m=Gr(Pm(1))?function(r){var n,e,t,i,o,a;if(!_n(r))throw new TypeError(A("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",r));if("generic"===(t=arguments.length>1?arguments[1]:Jm))return ah(r);if(null===(n=oc(t)))throw new TypeError(A("invalid argument. Second argument must be a supported data type. Value: `%s`.",t));return i=function(r){return Gm[r]||null}(t),a=n*r,"complex128"===t&&(a+=8),e=(o=Pm(a)).byteOffset,"complex128"===t&&(_n(e/n)||(e+=8)),new i(o.buffer,e,r)}:function(r){return arguments.length>1?ch(r,arguments[1]):ch(r)};var Hm=$m,Xm=Qh(Tn.isPrimitive),Zm=Qh(Tn.isObject),Km=Qh(Tn);function Qm(r){var n=typeof r;return null===r||"object"!==n&&"function"!==n?new TypeError(A("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",r)):null}z(Km,"primitives",Xm),z(Km,"objects",Zm);var rd=Object.create;function nd(){}var ed="function"==typeof rd?rd:function(r){return nd.prototype=r,new nd};var td=Zc.prototype.iget;var id=Zc.prototype.iset;function od(r,n){var e,t;for(e=[],t=0;t<n;t++)e.push(r[t]);return e}var ad=32767,ud=$h.get("index_mode"),fd=!1;function sd(r,n,e,t,i,o,a){var u,f,s,l,c;if(!(this instanceof sd))return arguments.length<7?new sd(r,n,e,t,i,o):new sd(r,n,e,t,i,o,a);if(!Uh(r))throw new TypeError(A("invalid argument. First argument must be a supported ndarray data type. Value: `%s`.",r));if(!Sn(n))throw new TypeError(A("invalid argument. Second argument must be an array-like object, typed-array-like, or a Buffer. Value: `%s`.",n));if(n.get&&n.set&&(!ne(n.get)||!ne(n.set)))throw new TypeError(A("invalid argument. Second argument `get` and `set` properties must be functions. Value: `%s`.",n));if(!Xm(e)&&(!Sn(e)||e.length>0))throw new TypeError(A("invalid argument. Third argument must be an array-like object containing nonnegative integers. Value: `%s`.",e));if((u=e.length)>ad)throw new RangeError(A("invalid argument. Number of dimensions must not exceed %u due to stack limits. Value: `%u`.",ad,u));if(!rm(t))throw new TypeError(A("invalid argument. Fourth argument must be an array-like object containing integers. Value: `%s`.",t));if(u>0){if(t.length!==u)throw new RangeError(A("invalid argument. Fourth argument length must match the number of dimensions. Expected number of dimensions: `%u`. Strides length: `%u`.",u,t.length))}else{if(1!==t.length)throw new RangeError("invalid argument. Fourth argument length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==t[0])throw new RangeError(A("invalid argument. Fourth argument must contain a single element equal to 0. Value: `%d`.",t[0]))}if(!_n(i))throw new TypeError(A("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!Dh(o))throw new TypeError(A("invalid argument. Sixth argument must be a supported order. Value: `%s`.",o));if(u>0&&!function(r,n,e,t){var i=sc(n,e,t);return i[0]>=0&&i[1]<r}(n.length,e,t,i)&&Eh(e)>0)throw new Error("invalid arguments. Input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((f={}).mode=ud,f.readonly=fd,arguments.length>6&&(s=function(r,n){var e;if(!Ni(n))return new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));if(K(n,"mode")&&(r.mode=n.mode,!pm(r.mode)))return new TypeError(A("invalid option. `%s` option must be a recognized mode. Option: `%s`.","mode",r.mode));if(K(n,"submode")){if(r.submode=n.submode,!Vn(r.submode))return new TypeError(A("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",r.submode));if(0===r.submode.length)return new TypeError(A("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",r.submode.join(",")));for(e=0;e<r.submode.length;e++)if(!pm(r.submode[e]))return new TypeError(A("invalid option. Each submode must be a recognized mode. Option: `%s`.",r.submode[e]));r.submode=r.submode.slice()}return K(n,"readonly")&&(r.readonly=n.readonly,!Cn(r.readonly))?new TypeError(A("invalid option. `%s` option must be a boolean. Option: `%s`.","readonly",r.readonly)):null}(f,a),s))throw s;return this._mode=f.mode,void 0===f.submode&&(f.submode=[this._mode]),this._submode=f.submode,l=od(e,u),c=od(t,u||1),Zc.call(this,r,n,l,c,i,o),this._flags.READONLY=f.readonly,this}!function(r,n){var e=Qm(r);if(e)throw e;if(e=Qm(n))throw e;if(void 0===n.prototype)throw new TypeError(A("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",n.prototype));r.prototype=ed(n.prototype),P(r.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:r})}(sd,Zc),z(sd,"name","ndarray"),z(sd.prototype,"get",(function(){var r,n,e,t;if(arguments.length!==this._ndims)throw new RangeError(A("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(r=this._offset,e=this._submode.length,t=0;t<arguments.length;t++){if(!yn(arguments[t]))throw new TypeError(A("invalid argument. Indices must be integer valued. Argument: `%u`. Value: `%s`.",t,arguments[t]));n=wm(arguments[t],this._shape[t]-1,this._submode[t%e]),r+=this._strides[t]*n}return this._accessors?this._buffer.get(r):this._buffer[r]})),z(sd.prototype,"iget",(function(r){if(this._ndims>0){if(!yn(r))throw new TypeError(A("invalid argument. Index must be an integer. Value: `%s`.",r));return r=wm(r,this._length-1,this._mode),td.call(this,r)}return td.call(this)})),z(sd.prototype,"set",(function(){var r,n,e,t;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError(A("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(r=this._offset,e=this._submode.length,t=0;t<arguments.length-1;t++){if(!yn(arguments[t]))throw new TypeError(A("invalid argument. Indices must be integer valued. Argument: `%i`. Value: `%s`.",t,arguments[t]));n=wm(arguments[t],this._shape[t]-1,this._submode[t%e]),r+=this._strides[t]*n}return this._accessors?this._buffer.set(arguments[t],r):this._buffer[r]=arguments[t],this})),z(sd.prototype,"iset",(function(r,n){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!yn(r))throw new TypeError(A("invalid argument. Index must be an integer. Value: `%s`.",r));r=wm(r,this._length-1,this._mode),id.call(this,r,n)}else id.call(this,r);return this}));var ld=$h.get("dtypes.default"),cd=$h.get("order");function hd(r){var n,e,t,i,o,a,u;if(i={},arguments.length>1){if(!Ni(n=arguments[1]))throw new TypeError(A("invalid argument. Options argument must be an object. Value: `%s`.",n));e=K(n,"dtype")?n.dtype:ld,t=K(n,"order")?n.order:cd,K(n,"mode")&&(i.mode=n.mode),K(n,"submode")&&(i.submode=n.submode)}else e=ld,t=cd;if("number"==typeof r)u=[r];else{if(!Kh(r))throw new TypeError(A("invalid argument. First argument must be either a nonnegative integer or an array of nonnegative integers. Value: `%s`.",r));u=r}if(u.length>0){if((o=Eh(u))!=o||o<0)throw new TypeError(A("invalid argument. First argument must be either a nonnegative integer or an array of nonnegative integers. Value: `%s`.",r));a=Vh(u,t)}else o=1,a=[0];return new sd(e,"binary"===e?Pm(o):Hm(o,e),u,a,Rh(u,a),t,i)}function md(r,n){var e;if(!ne(r))throw new TypeError(A("invalid argument. First argument must be a function. Value: `%s`.",r));if(!Uh(n)&&null!==n)throw new TypeError(A("invalid argument. Second argument must be a data type. Value: `%s`.",n));return e=n?function(r){return function(r,n){return Kc(r)&&kh(r)===n}(r,n)}:Kc,function(n,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(!e(n))throw new TypeError(A("invalid argument. First argument must be an ndarray-like object having a supported data type. Value: `%s`.",n));if(!e(t))throw new TypeError(A("invalid argument. Second argument must be an ndarray-like object having a supported data type. Value: `%s`.",t));if(hm(n)||hm(t))throw new Error("invalid argument. Cannot write to read-only array.");if(s=Zh(n),l=Zh(t),o=s.shape,a=l.shape,o.length<1)throw new TypeError(A("invalid argument. First argument must have at least one dimension."));if(a.length<1)throw new TypeError(A("invalid argument. Second argument must have at least one dimension."));if(!function(r,n){var e;if(r.length!==n.length)return!1;for(e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}(o,a))throw new Error("invalid arguments. The first and second arguments must have the same shape.");if(arguments.length>2){if(!rh(i=arguments[2]))throw new TypeError(A("invalid argument. Third argument must be a negative integer. Value: `%s`.",i))}else i=-1;if(m=th(o.length,a.length)-1,-1===(i=ih(i,m)))throw new RangeError(A("invalid argument. Third argument must be a value on the interval: [%d,%d]. Value: `%d`.",-m,-1,arguments[2]));if(d=o[i],1===o.length)return r(d,s.data,s.strides[0],s.offset,l.data,l.strides[0],l.offset),t;for(g=Eh(_h(o,i)),u=qm(s,[i]),f=qm(l,[i]),p=0;p<g;p++)c=u.next().value,h=f.next().value,r(d,c.data,c.strides[0],c.offset,h.data,h.strides[0],h.offset);return t}}var dd=md(da,"float64"),gd=5;function pd(r,n,e,t,i){var o,a,u;if(r<=0||0===n)return e;if(o=i,1===t){if((a=r%gd)>0)for(u=0;u<a;u++)e[o]+=n,o+=t;if(r<gd)return e;for(u=a;u<r;u+=gd)e[o]+=n,e[o+1]+=n,e[o+2]+=n,e[o+3]+=n,e[o+4]+=n,o+=gd;return e}for(u=0;u<r;u++)e[o]+=n,o+=t;return e}function vd(r,n,e,t){return pd(r,n,e,t,_t(r,t))}z(vd,"ndarray",pd);var yd=bt((0,r.join)(__dirname,"./native.js")),wd=wt(yd)?vd:yd;function bd(r,n,e,t,i){var o,a,u,f,s,l;if(r<=0)return 0;if(1===r||0===t)return n+e[i];for(a=i,o=0,s=0,l=0;l<r;l++)f=o+(u=n+e[a]),Dt(o)>=Dt(u)?s+=o-f+u:s+=u-f+o,o=f,a+=t;return o+s}function _d(r,n,e,t){return bd(r,n,e,t,_t(r,t))}z(_d,"ndarray",bd);var Ed,Td=bt((0,r.join)(__dirname,"./native.js")),jd=Ed=wt(Td)?_d:Td;const{ndarray:Vd}=Ed;function xd(r,n,e,t,i){return Vd(r,n,e,t,i)}function Sd(r,n,e,t){return xd(r,n,e,t,_t(r,t))}z(Sd,"ndarray",xd);var Rd=bt((0,r.join)(__dirname,"./native.js")),Od=wt(Rd)?Sd:Rd;function Fd(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(u=i,o=0,a=0,f=0,m=0;m<r;m++)c=o+(l=n+e[u]),h=Dt(o)>=Dt(l)?o-c+l:l-c+o,o=c,c=f+h,s=Dt(f)>=Dt(h)?f-c+h:h-c+f,f=c,a+=s,u+=t;return o+f+a}function Ad(r,n,e,t){return Fd(r,n,e,t,_t(r,t))}z(Ad,"ndarray",Fd);var Id=bt((0,r.join)(__dirname,"./native.js")),kd=wt(Id)?Ad:Id;function Ld(r,n,e,t,i){var o,a,u;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(a=i,o=0,u=0;u<r;u++)o+=n+e[a],a+=t;return o}function Bd(r,n,e,t){return Ld(r,n,e,t,_t(r,t))}z(Bd,"ndarray",Ld);var Md=bt((0,r.join)(__dirname,"./native.js")),Nd=wt(Md)?Bd:Md,Ud=128;function Pd(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g,p,v;if(r<=0)return 0;if(1===r||0===t)return n+e[i];if(o=i,r<8){for(g=0,v=0;v<r;v++)g+=n+e[o],o+=t;return g}if(r<=Ud){for(a=n+e[o],u=n+e[o+t],f=n+e[o+2*t],s=n+e[o+3*t],l=n+e[o+4*t],c=n+e[o+5*t],h=n+e[o+6*t],m=n+e[o+7*t],o+=8*t,d=r%8,v=8;v<r-d;v+=8)a+=n+e[o],u+=n+e[o+t],f+=n+e[o+2*t],s+=n+e[o+3*t],l+=n+e[o+4*t],c+=n+e[o+5*t],h+=n+e[o+6*t],m+=n+e[o+7*t],o+=8*t;for(g=a+u+(f+s)+(l+c+(h+m));v<r;v++)g+=n+e[o],o+=t;return g}return p=gn(r/2),Pd(p-=p%8,n,e,t,o)+Pd(r-p,n,e,t,o+p*t)}function Cd(r,n,e,t){return Pd(r,n,e,t,_t(r,t))}z(Cd,"ndarray",Pd);var zd=bt((0,r.join)(__dirname,"./native.js")),Dd=wt(zd)?Cd:zd,Yd=128;function Wd(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return Dt(n[t]);if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=Dt(n[i]),i+=e;return d}if(r<=Yd){for(o=Dt(n[i]),a=Dt(n[i+e]),u=Dt(n[i+2*e]),f=Dt(n[i+3*e]),s=Dt(n[i+4*e]),l=Dt(n[i+5*e]),c=Dt(n[i+6*e]),h=Dt(n[i+7*e]),i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=Dt(n[i]),a+=Dt(n[i+e]),u+=Dt(n[i+2*e]),f+=Dt(n[i+3*e]),s+=Dt(n[i+4*e]),l+=Dt(n[i+5*e]),c+=Dt(n[i+6*e]),h+=Dt(n[i+7*e]),i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=Dt(n[i]),i+=e;return d}return g=gn(r/2),Wd(g-=g%8,n,e,i)+Wd(r-g,n,e,i+g*e)}function qd(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return Dt(n[0]);if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=Dt(n[t]),t+=e;return i}return Wd(r,n,e,t)}z(qd,"ndarray",Wd);var Gd=bt((0,r.join)(__dirname,"./native.js")),$d=wt(Gd)?qd:Gd;function Jd(r,n,e,t,i,o){var a,u,f,s,l,c,h;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=n,c=0,h=0;h<r;h++)l=f+(s=e[a]),Dt(f)>=Dt(s)?c+=f-l+s:c+=s-l+f,f=l,i[u]=f+c,a+=t,u+=o;return i}z(Jd,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d;if(r<=0)return o;for(f=i,s=u,l=n,m=0,d=0;d<r;d++)h=l+(c=e[f]),Dt(l)>=Dt(c)?m+=l-h+c:m+=c-h+l,l=h,o[s]=l+m,f+=t,s+=a;return o}));var Hd,Xd=bt((0,r.join)(__dirname,"./native.js")),Zd=Hd=wt(Xd)?Jd:Xd;const{ndarray:Kd}=Hd;function Qd(r,n,e,t,i,o){return Zd(r,n,e,t,i,o)}z(Qd,"ndarray",(function(r,n,e,t,i,o,a,u){return Kd(r,n,e,t,i,o,a,u)}));var rg=bt((0,r.join)(__dirname,"./native.js")),ng=wt(rg)?Qd:rg;function eg(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d;if(r<=0)return i;for(u=t<0?(1-r)*t:0,f=o<0?(1-r)*o:0,a=0,s=0,d=0;d<r;d++)h=n+(c=e[u]),m=Dt(n)>=Dt(c)?n-h+c:c-h+n,n=h,h=s+m,l=Dt(s)>=Dt(m)?s-h+m:m-h+s,s=h,a+=l,i[f]=n+s+a,u+=t,f+=o;return i}z(eg,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p;if(r<=0)return o;for(s=i,l=u,f=0,c=0,p=0;p<r;p++)d=n+(m=e[s]),g=Dt(n)>=Dt(m)?n-d+m:m-d+n,n=d,d=c+g,h=Dt(c)>=Dt(g)?c-d+g:g-d+c,c=d,f+=h,o[l]=n+c+f,s+=t,l+=a;return o}));var tg=bt((0,r.join)(__dirname,"./native.js")),ig=wt(tg)?eg:tg;function og(r,n,e,t,i,o){var a,u,f;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=0;f<r;f++)n+=e[a],i[u]=n,a+=t,u+=o;return i}z(og,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l;if(r<=0)return o;for(f=i,s=u,l=0;l<r;l++)n+=e[f],o[s]=n,f+=t,s+=a;return o}));var ag=bt((0,r.join)(__dirname,"./native.js")),ug=wt(ag)?og:ag,fg=128;function sg(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(r<=0)return o;if(f=i,s=u,r<=fg){for(l=0,h=0;h<r;h++)l+=e[f],o[s]=n+l,f+=t,s+=a;return o}return sg(c=gn(r/2),n,e,t,f,o,a,s),sg(r-c,o[s+=(c-1)*a],e,t,f+c*t,o,a,s+a),o}function lg(r,n,e,t,i,o){return r<=0?i:sg(r,n,e,t,t<0?(1-r)*t:0,i,o,o<0?(1-r)*o:0)}z(lg,"ndarray",sg);var cg=bt((0,r.join)(__dirname,"./native.js")),hg=wt(cg)?lg:cg;function mg(r,n,e){var t,i,o,a;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:Dt(n[0]);for(i=e<0?(1-r)*e:0,t=0,a=0;a<r;a++)!1===pi(o=n[i])&&(t+=Dt(o)),i+=e;return t}z(mg,"ndarray",(function(r,n,e,t){var i,o,a,u;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:Dt(n[t]);for(o=t,i=0,u=0;u<r;u++)!1===pi(a=n[o])&&(i+=Dt(a)),o+=e;return i}));var dg,gg=bt((0,r.join)(__dirname,"./native.js")),pg=dg=wt(gg)?mg:gg;const{ndarray:vg}=dg;function yg(r,n,e){return pg(r,n,e)}z(yg,"ndarray",(function(r,n,e,t){return vg(r,n,e,t)}));var wg=bt((0,r.join)(__dirname,"./native.js")),bg=wt(wg)?yg:wg;function _g(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(a=e<0?(1-r)*e:0,u=i<0?-i:0,o=0,r<=0)return t[u]=o,t[u+i]=0,t;if(1===r||0===e)return pi(n[a])?(t[u]=o,t[u+i]=0,t):(t[u]=n[a],t[u+i]=1,t);for(l=0,c=0,h=0;h<r;h++)!1===pi(f=n[a])&&(s=o+f,Dt(o)>=Dt(f)?l+=o-s+f:l+=f-s+o,o=s,c+=1),a+=e;return t[u]=o+l,t[u+i]=c,t}z(_g,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d;if(f=t,s=a,u=0,r<=0)return i[s]=u,i[s+o]=0,i;if(1===r||0===e)return pi(n[f])?(i[s]=u,i[s+o]=0,i):(i[s]=n[f],i[s+o]=1,i);for(h=0,m=0,d=0;d<r;d++)!1===pi(l=n[f])&&(c=u+l,Dt(u)>=Dt(l)?h+=u-c+l:h+=l-c+u,u=c,m+=1),f+=e;return i[s]=u+h,i[s+o]=m,i}));var Eg,Tg=bt((0,r.join)(__dirname,"./native.js")),jg=Eg=wt(Tg)?_g:Tg;const{ndarray:Vg}=Eg;function xg(r,n,e,t,i){return jg(r,n,e,t,i)}z(xg,"ndarray",(function(r,n,e,t,i,o,a){return Vg(r,n,e,t,i,o,a)}));var Sg=bt((0,r.join)(__dirname,"./native.js")),Rg=wt(Sg)?xg:Sg;function Og(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g;if(s=e<0?(1-r)*e:0,l=i<0?-i:0,o=0,r<=0)return t[l]=o,t[l+i]=0,t;if(1===r||0===e)return pi(n[s])?(t[l]=o,t[l+i]=0,t):(t[l]=n[s],t[l+i]=1,t);for(a=0,u=0,d=0,g=0;g<r;g++)!1===pi(c=n[s])&&(h=o+c,m=Dt(o)>=Dt(c)?o-h+c:c-h+o,o=h,h=u+m,f=Dt(u)>=Dt(m)?u-h+m:m-h+u,u=h,a+=f,d+=1),s+=e;return t[l]=o+u+a,t[l+i]=d,t}z(Og,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d,g,p,v;if(c=t,h=a,u=0,r<=0)return i[h]=u,i[h+o]=0,i;if(1===r||0===e)return pi(n[c])?(i[h]=u,i[h+o]=0,i):(i[h]=n[c],i[h+o]=1,i);for(f=0,s=0,p=0,v=0;v<r;v++)!1===pi(m=n[c])&&(d=u+m,g=Dt(u)>=Dt(m)?u-d+m:m-d+u,u=d,d=s+g,l=Dt(s)>=Dt(g)?s-d+g:g-d+s,s=d,f+=l,p+=1),c+=e;return i[h]=u+s+f,i[h+o]=p,i}));var Fg=bt((0,r.join)(__dirname,"./native.js")),Ag=wt(Fg)?Og:Fg;function Ig(r,n,e,t,i){var o,a,u,f,s;if(a=e<0?(1-r)*e:0,u=i<0?-i:0,o=0,r<=0)return t[u]=o,t[u+i]=0,t;if(1===r||0===e)return pi(n[a])?(t[u]=o,t[u+i]=0,t):(t[u]=n[a],t[u+i]=1,t);for(f=0,s=0;s<r;s++)!1===pi(n[a])&&(o+=n[a],f+=1),a+=e;return t[u]=o,t[u+i]=f,t}z(Ig,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c;if(f=t,s=a,u=0,r<=0)return i[s]=u,i[s+o]=0,i;if(1===r||0===e)return pi(n[f])?(i[s]=u,i[s+o]=0,i):(i[s]=n[f],i[s+o]=1,i);for(l=0,c=0;c<r;c++)!1===pi(n[f])&&(u+=n[f],l+=1),f+=e;return i[s]=u,i[s+o]=l,i}));var kg=bt((0,r.join)(__dirname,"./native.js")),Lg=wt(kg)?Ig:kg,Bg=128;function Mg(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d,g,p,v,y,w,b,_;if(r<=0)return i;if(u=t,f=a,1===r||0===e)return pi(n[u])||(i[f]+=n[u],i[f+o]+=1),i;if(r<8){for(y=0,w=0,_=0;_<r;_++)(b=n[u])==b&&(y+=b,w+=1),u+=e;return i[f]+=y,i[f+o]+=w,i}if(r<=Bg){for(s=0,l=0,c=0,h=0,m=0,d=0,g=0,p=0,w=0,v=r%8,_=0;_<r-v;_+=8)(b=n[u])==b&&(s+=b,w+=1),(b=n[u+=e])==b&&(l+=b,w+=1),(b=n[u+=e])==b&&(c+=b,w+=1),(b=n[u+=e])==b&&(h+=b,w+=1),(b=n[u+=e])==b&&(m+=b,w+=1),(b=n[u+=e])==b&&(d+=b,w+=1),(b=n[u+=e])==b&&(g+=b,w+=1),(b=n[u+=e])==b&&(p+=b,w+=1),u+=e;for(y=s+l+(c+h)+(m+d+(g+p));_<r;_++)(b=n[u])==b&&(y+=b,w+=1),u+=e;return i[f]+=y,i[f+o]+=w,i}return w=gn(r/2),Mg(w-=w%8,n,e,u,i,o,a),Mg(r-w,n,e,u+w*e,i,o,a),i}function Ng(r,n,e,t,i){var o,a;return o=e<0?(1-r)*e:0,t[a=i<0?-i:0]=0,t[a+i]=0,Mg(r,n,e,o,t,i,a),t}z(Ng,"ndarray",(function(r,n,e,t,i,o,a){return i[a]=0,i[a+o]=0,Mg(r,n,e,t,i,o,a),i}));var Ug=bt((0,r.join)(__dirname,"./native.js")),Pg=wt(Ug)?Ng:Ug;function Cg(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)!1===pi(o=n[i])&&(a=t+o,Dt(t)>=Dt(o)?u+=t-a+o:u+=o-a+t,t=a),i+=e;return t+u}z(Cg,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];for(o=t,i=0,f=0,s=0;s<r;s++)!1===pi(a=n[o])&&(u=i+a,Dt(i)>=Dt(a)?f+=i-u+a:f+=a-u+i,i=u),o+=e;return i+f}));var zg,Dg=bt((0,r.join)(__dirname,"./native.js")),Yg=zg=wt(Dg)?Cg:Dg;const{ndarray:Wg}=zg;function qg(r,n,e){return Yg(r,n,e)}z(qg,"ndarray",(function(r,n,e,t){return Wg(r,n,e,t)}));var Gg=bt((0,r.join)(__dirname,"./native.js")),$g=wt(Gg)?qg:Gg;function Jg(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)!1===pi(f=n[o])&&(s=t+f,l=Dt(t)>=Dt(f)?t-s+f:f-s+t,t=s,s=a+l,u=Dt(a)>=Dt(l)?a-s+l:l-s+a,a=s,i+=u),o+=e;return t+a+i}z(Jg,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)!1===pi(s=n[a])&&(l=i+s,c=Dt(i)>=Dt(s)?i-l+s:s-l+i,i=l,l=u+c,f=Dt(u)>=Dt(c)?u-l+c:c-l+u,u=l,o+=f),a+=e;return i+u+o}));var Hg=bt((0,r.join)(__dirname,"./native.js")),Xg=wt(Hg)?Jg:Hg;function Zg(r,n,e){var t,i,o;if(t=0,r<=0)return t;if(1===r||0===e)return pi(n[0])?t:n[0];for(i=e<0?(1-r)*e:0,o=0;o<r;o++)!1===pi(n[i])&&(t+=n[i]),i+=e;return t}z(Zg,"ndarray",(function(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;if(1===r||0===e)return pi(n[t])?i:n[t];for(o=t,a=0;a<r;a++)!1===pi(n[o])&&(i+=n[o]),o+=e;return i}));var Kg=bt((0,r.join)(__dirname,"./native.js")),Qg=wt(Kg)?Zg:Kg,rp=128;function np(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)!1===pi(n[i])&&(d+=n[i]),i+=e;return d}if(r<=rp){for(o=pi(n[i])?0:n[i],a=pi(n[i+=e])?0:n[i],u=pi(n[i+=e])?0:n[i],f=pi(n[i+=e])?0:n[i],s=pi(n[i+=e])?0:n[i],l=pi(n[i+=e])?0:n[i],c=pi(n[i+=e])?0:n[i],h=pi(n[i+=e])?0:n[i],i+=e,m=r%8,p=8;p<r-m;p+=8)o+=pi(n[i])?0:n[i],a+=pi(n[i+=e])?0:n[i],u+=pi(n[i+=e])?0:n[i],f+=pi(n[i+=e])?0:n[i],s+=pi(n[i+=e])?0:n[i],l+=pi(n[i+=e])?0:n[i],c+=pi(n[i+=e])?0:n[i],h+=pi(n[i+=e])?0:n[i],i+=e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)!1===pi(n[i])&&(d+=n[i]),i+=e;return d}return g=gn(r/2),np(g-=g%8,n,e,i)+np(r-g,n,e,i+g*e)}function ep(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)!1===pi(n[t])&&(i+=n[t]),t+=e;return i}return np(r,n,e,t)}z(ep,"ndarray",np);var tp=bt((0,r.join)(__dirname,"./native.js")),ip=wt(tp)?ep:tp;function op(r,n,e){var t,i,o,a,u,f;if(r<=0)return n;if(u=gn(r/2),1===e){if(o=r-1,(a=u%3)>0)for(i=0;i<a;i++)t=n[i],n[i]=n[o],n[o]=t,o-=1;if(u<3)return n;for(i=a;i<u;i+=3)t=n[i],n[i]=n[o],n[o]=t,t=n[i+1],n[i+1]=n[o-1],n[o-1]=t,t=n[i+2],n[i+2]=n[o-2],n[o-2]=t,o-=3;return n}for(o=(i=e<0?(1-r)*e:0)+(r-1)*e,f=0;f<u;f++)t=n[i],n[i]=n[o],n[o]=t,i+=e,o-=e;return n}z(op,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return n;if(f=gn(r/2),o=t,1===e){if(a=o+r-1,(u=f%3)>0)for(s=0;s<u;s++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;if(f<3)return n;for(s=u;s<f;s+=3)i=n[o],n[o]=n[a],n[a]=i,i=n[o+1],n[o+1]=n[a-1],n[a-1]=i,i=n[o+2],n[o+2]=n[a-2],n[a-2]=i,o+=3,a-=3;return n}for(a=o+(r-1)*e,s=0;s<f;s++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;return n}));var ap=bt((0,r.join)(__dirname,"./native.js")),up=wt(ap)?op:ap,fp=128;function sp(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g,p,v;if(r<=0)return 0;if(1===r||0===t)return n+e[i];if(o=i,r<8){for(g=0,v=0;v<r;v++)g+=n+e[o],o+=t;return g}if(r<=fp){for(a=n+e[o],u=n+e[o+t],f=n+e[o+2*t],s=n+e[o+3*t],l=n+e[o+4*t],c=n+e[o+5*t],h=n+e[o+6*t],m=n+e[o+7*t],o+=8*t,d=r%8,v=8;v<r-d;v+=8)a+=n+e[o],u+=n+e[o+t],f+=n+e[o+2*t],s+=n+e[o+3*t],l+=n+e[o+4*t],c+=n+e[o+5*t],h+=n+e[o+6*t],m+=n+e[o+7*t],o+=8*t;for(g=a+u+(f+s)+(l+c+(h+m));v<r;v++)g+=n+e[o],o+=t;return g}return p=gn(r/2),sp(p-=p%8,n,e,t,o)+sp(r-p,n,e,t,o+p*t)}function lp(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return n+e[0];if(i=t<0?(1-r)*t:0,r<8){for(o=0,a=0;a<r;a++)o+=n+e[i],i+=t;return o}return sp(r,n,e,t,i)}z(lp,"ndarray",sp);var cp,hp=bt((0,r.join)(__dirname,"./native.js")),mp=cp=wt(hp)?lp:hp;const{ndarray:dp}=cp;function gp(r,n,e,t){return mp(r,n,e,t)}z(gp,"ndarray",(function(r,n,e,t,i){return dp(r,n,e,t,i)}));var pp=bt((0,r.join)(__dirname,"./native.js")),vp=wt(pp)?gp:pp;function yp(r,n,e,t,i){var o,a,u,f,s;if(a=e<0?(1-r)*e:0,u=i<0?-i:0,o=0,r<=0)return t[u]=o,t[u+i]=0,t;if(1===r||0===e)return pi(n[a])?(t[u]=o,t[u+i]=0,t):(t[u]=n[a],t[u+i]=1,t);for(f=0,s=0;s<r;s++)!1===pi(n[a])&&(o+=n[a],f+=1),a+=e;return t[u]=o,t[u+i]=f,t}z(yp,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c;if(f=t,s=a,u=0,r<=0)return i[s]=u,i[s+o]=0,i;if(1===r||0===e)return pi(n[f])?(i[s]=u,i[s+o]=0,i):(i[s]=n[f],i[s+o]=1,i);for(l=0,c=0;c<r;c++)!1===pi(n[f])&&(u+=n[f],l+=1),f+=e;return i[s]=u,i[s+o]=l,i}));var wp=bt((0,r.join)(__dirname,"./native.js")),bp=wt(wp)?yp:wp;function _p(r){return r!=r}var Ep=128;function Tp(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return _p(n[t])?0:n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)!1===_p(n[i])&&(d+=n[i]),i+=e;return d}if(r<=Ep){for(o=_p(n[i])?0:n[i],a=_p(n[i+=e])?0:n[i],u=_p(n[i+=e])?0:n[i],f=_p(n[i+=e])?0:n[i],s=_p(n[i+=e])?0:n[i],l=_p(n[i+=e])?0:n[i],c=_p(n[i+=e])?0:n[i],h=_p(n[i+=e])?0:n[i],i+=e,m=r%8,p=8;p<r-m;p+=8)o+=_p(n[i])?0:n[i],a+=_p(n[i+=e])?0:n[i],u+=_p(n[i+=e])?0:n[i],f+=_p(n[i+=e])?0:n[i],s+=_p(n[i+=e])?0:n[i],l+=_p(n[i+=e])?0:n[i],c+=_p(n[i+=e])?0:n[i],h+=_p(n[i+=e])?0:n[i],i+=e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)!1===_p(n[i])&&(d+=n[i]),i+=e;return d}return g=gn(r/2),Tp(g-=g%8,n,e,i)+Tp(r-g,n,e,i+g*e)}function jp(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return _p(n[0])?0:n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)!1===_p(n[t])&&(i+=n[t]),t+=e;return i}return Tp(r,n,e,t)}z(jp,"ndarray",Tp);var Vp,xp=bt((0,r.join)(__dirname,"./native.js")),Sp=Vp=wt(xp)?jp:xp;const{ndarray:Rp}=Vp;function Op(r,n,e){return Sp(r,n,e)}z(Op,"ndarray",(function(r,n,e,t){return Rp(r,n,e,t)}));var Fp=bt((0,r.join)(__dirname,"./native.js")),Ap=wt(Fp)?Op:Fp;function Ip(r,n,e){var t,i,o;if(t=0,r<=0)return t;if(1===r||0===e)return pi(n[0])?t:n[0];for(i=e<0?(1-r)*e:0,o=0;o<r;o++)!1===pi(n[i])&&(t+=n[i]),i+=e;return t}z(Ip,"ndarray",(function(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;if(1===r||0===e)return pi(n[t])?i:n[t];for(o=t,a=0;a<r;a++)!1===pi(n[o])&&(i+=n[o]),o+=e;return i}));var kp=bt((0,r.join)(__dirname,"./native.js")),Lp=wt(kp)?Ip:kp;function Bp(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,p=r,f=gn(r/2);;){if(f>0)h=e[a+(f-=1)*t],m=i[u+f*o];else{if(0===(p-=1))return e;h=e[d=a+p*t],m=i[g=u+p*o],e[d]=e[a],i[g]=i[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[a+y*t])>(c=e[a+s*t])||pi(l)||l===c&&ga(l))&&(s+=1),(l=e[a+s*t])>h||pi(l)||l===h&&ga(l));)e[a+v*t]=l,i[u+v*o]=i[u+s*o],s=2*(v=s)+1;e[a+v*t]=h,i[u+v*o]=m}}z(Bp,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),p=r,f=gn(r/2);;){if(f>0)h=e[i+(f-=1)*t],m=o[u+f*a];else{if(0===(p-=1))return e;h=e[d=i+p*t],m=o[g=u+p*a],e[d]=e[i],o[g]=o[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[i+y*t])>(c=e[i+s*t])||pi(l)||l===c&&ga(l))&&(s+=1),(l=e[i+s*t])>h||pi(l)||l===h&&ga(l));)e[i+v*t]=l,o[u+v*a]=o[u+s*a],s=2*(v=s)+1;e[i+v*t]=h,o[u+v*a]=m}}));var Mp=bt((0,r.join)(__dirname,"./native.js")),Np=wt(Mp)?Bp:Mp;function Up(r){return 0===r&&1/r===dn}function Pp(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;if(n<0&&(t*=-1,o*=-1),o<0?(m=(1-r)*o,d=0):(m=0,d=(r-1)*o),c=m+o,t<0){for(l=0,u=(s=(1-r)*t)+t,y=1;y<r;y++)if(g=e[u],p=i[c],pi(g)){for(f=u,h=c;f>l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Up(g),f=u-t,h=c-o;f<=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Up(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}for(l=(r-1)*t,u=(s=0)+t,y=1;y<r;y++)if(g=e[u],p=i[c],pi(g)){for(f=u,h=c;f<l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Up(g),f=u-t,h=c-o;f>=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Up(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}z(Pp,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y,w,b;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),h=(c=i)+(r-1)*t,s=c+t,p=(g=u)+(r-1)*a,m=g+a,t<0){for(b=1;b<r;b++)if(v=e[s],y=o[m],pi(v)){for(l=s,d=m;l>h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Up(v),l=s-t,d=m-a;l<=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Up(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}for(b=1;b<r;b++)if(v=e[s],y=o[m],pi(v)){for(l=s,d=m;l<h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Up(v),l=s-t,d=m-a;l>=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Up(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}));var Cp=bt((0,r.join)(__dirname,"./native.js")),zp=wt(Cp)?Pp:Cp,Dp=[701,301,132,57,23,10,4,1],Yp=Dp.length;function Wp(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,m=0;m<Yp;m++)for(d=s=Dp[m];d<r;d++)if(!pi(l=e[a+d*t])){for(c=i[u+d*o],f=Up(l),g=d;g>=s&&(!((h=e[a+(g-s)*t])<=l)||f&&h===l);g-=s)e[a+g*t]=h,i[u+g*o]=i[u+(g-s)*o];e[a+g*t]=l,i[u+g*o]=c}return e}var qp=Dp.length;z(Wp,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),m=0;m<qp;m++)for(d=s=Dp[m];d<r;d++)if(!pi(l=e[i+d*t])){for(c=o[u+d*a],f=Up(l),g=d;g>=s&&(!((h=e[i+(g-s)*t])<=l)||f&&h===l);g-=s)e[i+g*t]=h,o[u+g*a]=o[u+(g-s)*a];e[i+g*t]=l,o[u+g*a]=c}return e}));var Gp=bt((0,r.join)(__dirname,"./native.js")),$p=wt(Gp)?Wp:Gp;function Jp(r,n,e,t){var i,o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||pi(u)||u===f&&ga(u))&&(a+=1),(u=e[i+a*t])>l||pi(u)||u===l&&ga(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}}z(Jp,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||pi(u)||u===f&&ga(u))&&(a+=1),(u=e[i+a*t])>l||pi(u)||u===l&&ga(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}}));var Hp=bt((0,r.join)(__dirname,"./native.js")),Xp=wt(Hp)?Jp:Hp;function Zp(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;if(n<0&&(t*=-1),t<0){for(f=0,o=(u=(1-r)*t)+t,c=1;c<r;c++)if(pi(s=e[o])){for(a=o;a>f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Up(s),a=o-t;a<=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Up(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}for(f=(r-1)*t,o=(u=0)+t,c=1;c<r;c++)if(pi(s=e[o])){for(a=o;a<f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Up(s),a=o-t;a>=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Up(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}z(Zp,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1)),s=(f=i)+(r-1)*t,a=f+t,t<0){for(h=1;h<r;h++)if(pi(l=e[a])){for(u=a;u>s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Up(l),u=a-t;u<=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Up(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}for(h=1;h<r;h++)if(pi(l=e[a])){for(u=a;u<s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Up(l),u=a-t;u>=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Up(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}));var Kp=bt((0,r.join)(__dirname,"./native.js")),Qp=wt(Kp)?Zp:Kp,rv=[701,301,132,57,23,10,4,1],nv=rv.length;function ev(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=0;s<nv;s++)for(l=a=rv[s];l<r;l++)if(!pi(u=e[i+l*t])){for(o=Up(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e}var tv=rv.length;z(ev,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=0;s<tv;s++)for(l=a=rv[s];l<r;l++)if(!pi(u=e[i+l*t])){for(o=Up(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e}));var iv=bt((0,r.join)(__dirname,"./native.js")),ov=wt(iv)?ev:iv,av=128;function uv(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=n[i],i+=e;return d}if(r<=av){for(o=n[i],a=n[i+e],u=n[i+2*e],f=n[i+3*e],s=n[i+4*e],l=n[i+5*e],c=n[i+6*e],h=n[i+7*e],i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=n[i],a+=n[i+e],u+=n[i+2*e],f+=n[i+3*e],s+=n[i+4*e],l+=n[i+5*e],c+=n[i+6*e],h+=n[i+7*e],i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=n[i],i+=e;return d}return g=gn(r/2),uv(g-=g%8,n,e,i)+uv(r-g,n,e,i+g*e)}function fv(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=n[t],t+=e;return i}return uv(r,n,e,t)}z(fv,"ndarray",uv);var sv,lv=bt((0,r.join)(__dirname,"./native.js")),cv=sv=wt(lv)?fv:lv;const{ndarray:hv}=sv;function mv(r,n,e){return cv(r,n,e)}z(mv,"ndarray",(function(r,n,e,t){return hv(r,n,e,t)}));var dv=bt((0,r.join)(__dirname,"./native.js")),gv=wt(dv)?mv:dv;function pv(r,n,e){var t,i,o,a;if(t=0,r<=0)return t;if(1===r||0===e)return n[0];if(1===e){if((o=r%6)>0)for(a=0;a<o;a++)t+=n[a];if(r<6)return t;for(a=o;a<r;a+=6)t+=n[a]+n[a+1]+n[a+2]+n[a+3]+n[a+4]+n[a+5];return t}for(i=e<0?(1-r)*e:0,a=0;a<r;a++)t+=n[i],i+=e;return t}z(pv,"ndarray",(function(r,n,e,t){var i,o,a,u;if(i=0,r<=0)return i;if(1===r||0===e)return n[t];if(o=t,1===e){if((a=r%6)>0)for(u=0;u<a;u++)i+=n[o],o+=e;if(r<6)return i;for(u=a;u<r;u+=6)i+=n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]+n[o+5],o+=6;return i}for(u=0;u<r;u++)i+=n[o],o+=e;return i}));var vv=bt((0,r.join)(__dirname,"./native.js")),yv=wt(vv)?pv:vv;function wv(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)a=t+(o=n[i]),Dt(t)>=Dt(o)?u+=t-a+o:u+=o-a+t,t=a,i+=e;return t+u}z(wv,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return n[t];for(o=t,i=0,f=0,s=0;s<r;s++)u=i+(a=n[o]),Dt(i)>=Dt(a)?f+=i-u+a:f+=a-u+i,i=u,o+=e;return i+f}));var bv,_v=bt((0,r.join)(__dirname,"./native.js")),Ev=bv=wt(_v)?wv:_v;const{ndarray:Tv}=bv;function jv(r,n,e){return Ev(r,n,e)}z(jv,"ndarray",(function(r,n,e,t){return Tv(r,n,e,t)}));var Vv=bt((0,r.join)(__dirname,"./native.js")),xv=wt(Vv)?jv:Vv;function Sv(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)s=t+(f=n[o]),l=Dt(t)>=Dt(f)?t-s+f:f-s+t,t=s,s=a+l,u=Dt(a)>=Dt(l)?a-s+l:l-s+a,a=s,i+=u,o+=e;return t+a+i}z(Sv,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)l=i+(s=n[a]),c=Dt(i)>=Dt(s)?i-l+s:s-l+i,i=l,l=u+c,f=Dt(u)>=Dt(c)?u-l+c:c-l+u,u=l,o+=f,a+=e;return i+u+o}));var Rv=bt((0,r.join)(__dirname,"./native.js")),Ov=wt(Rv)?Sv:Rv;function Fv(r,n,e){var t,i,o,a;if(t=0,r<=0)return t;if(1===r||0===e)return n[0];if(1===e){if((o=r%6)>0)for(a=0;a<o;a++)t+=n[a];if(r<6)return t;for(a=o;a<r;a+=6)t+=n[a]+n[a+1]+n[a+2]+n[a+3]+n[a+4]+n[a+5];return t}for(i=e<0?(1-r)*e:0,a=0;a<r;a++)t+=n[i],i+=e;return t}z(Fv,"ndarray",(function(r,n,e,t){var i,o,a,u;if(i=0,r<=0)return i;if(1===r||0===e)return n[t];if(o=t,1===e){if((a=r%6)>0)for(u=0;u<a;u++)i+=n[o],o+=e;if(r<6)return i;for(u=a;u<r;u+=6)i+=n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]+n[o+5],o+=6;return i}for(u=0;u<r;u++)i+=n[o],o+=e;return i}));var Av=bt((0,r.join)(__dirname,"./native.js")),Iv=wt(Av)?Fv:Av,kv=128;function Lv(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=n[i],i+=e;return d}if(r<=kv){for(o=n[i],a=n[i+e],u=n[i+2*e],f=n[i+3*e],s=n[i+4*e],l=n[i+5*e],c=n[i+6*e],h=n[i+7*e],i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=n[i],a+=n[i+e],u+=n[i+2*e],f+=n[i+3*e],s+=n[i+4*e],l+=n[i+5*e],c+=n[i+6*e],h+=n[i+7*e],i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=n[i],i+=e;return d}return g=gn(r/2),Lv(g-=g%8,n,e,i)+Lv(r-g,n,e,i+g*e)}function Bv(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=n[t],t+=e;return i}return Lv(r,n,e,t)}z(Bv,"ndarray",Lv);var Mv=bt((0,r.join)(__dirname,"./native.js")),Nv=wt(Mv)?Bv:Mv;function Uv(r,n,e,t){var i,o,a;if(r<=0||0===n)return e;if(1===t){if((a=r%5)>0)for(o=0;o<a;o++)e[o]+=n;if(r<5)return e;for(o=a;o<r;o+=5)e[o]+=n,e[o+1]+=n,e[o+2]+=n,e[o+3]+=n,e[o+4]+=n;return e}for(i=t<0?(1-r)*t:0,o=0;o<r;o++)e[i]+=n,i+=t;return e}function Pv(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(o=t<0?(1-r)*t:0,i=0,f=0,s=0;s<r;s++)u=i+(a=n+e[o]),Dt(i)>=Dt(a)?f+=i-u+a:f+=a-u+i,i=u,o+=t;return i+f}function Cv(r,n,e,t,i){var o,a,u,f,s,l;if(r<=0)return 0;if(1===r||0===t)return n+e[i];for(a=i,o=0,s=0,l=0;l<r;l++)f=o+(u=n+e[a]),Dt(o)>=Dt(u)?s+=o-f+u:s+=u-f+o,o=f,a+=t;return o+s}function zv(r,n,e,t){return Pv(r,n,e,t)}function Dv(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(a=t<0?(1-r)*t:0,i=0,o=0,u=0,h=0;h<r;h++)l=i+(s=n+e[a]),c=Dt(i)>=Dt(s)?i-l+s:s-l+i,i=l,l=u+c,f=Dt(u)>=Dt(c)?u-l+c:c-l+u,u=l,o+=f,a+=t;return i+u+o}function Yv(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(o=t<0?(1-r)*t:0,i=0,a=0;a<r;a++)i+=n+e[o],o+=t;return i}z(Uv,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0||0===n)return e;if(o=i,1===t){if((a=r%5)>0)for(u=0;u<a;u++)e[o]+=n,o+=t;if(r<5)return e;for(u=a;u<r;u+=5)e[o]+=n,e[o+1]+=n,e[o+2]+=n,e[o+3]+=n,e[o+4]+=n,o+=5;return e}for(u=0;u<r;u++)e[o]+=n,o+=t;return e})),z(Pv,"ndarray",Cv),z(zv,"ndarray",(function(r,n,e,t,i){return Cv(r,n,e,t,i)})),z(Dv,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0)return 0;if(1===r||0===t)return n+e[0];for(u=i,o=0,a=0,f=0,m=0;m<r;m++)c=o+(l=n+e[u]),h=Dt(o)>=Dt(l)?o-c+l:l-c+o,o=c,c=f+h,s=Dt(f)>=Dt(h)?f-c+h:h-c+f,f=c,a+=s,u+=t;return o+f+a})),z(Yv,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0)return 0;if(1===r||0===t)return n+e[i];for(a=i,o=0,u=0;u<r;u++)o+=n+e[a],a+=t;return o}));var Wv=128;function qv(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g,p,v;if(r<=0)return 0;if(1===r||0===t)return n+e[i];if(o=i,r<8){for(g=0,v=0;v<r;v++)g+=n+e[o],o+=t;return g}if(r<=Wv){for(a=n+e[o],u=n+e[o+t],f=n+e[o+2*t],s=n+e[o+3*t],l=n+e[o+4*t],c=n+e[o+5*t],h=n+e[o+6*t],m=n+e[o+7*t],o+=8*t,d=r%8,v=8;v<r-d;v+=8)a+=n+e[o],u+=n+e[o+t],f+=n+e[o+2*t],s+=n+e[o+3*t],l+=n+e[o+4*t],c+=n+e[o+5*t],h+=n+e[o+6*t],m+=n+e[o+7*t],o+=8*t;for(g=a+u+(f+s)+(l+c+(h+m));v<r;v++)g+=n+e[o],o+=t;return g}return p=gn(r/2),qv(p-=p%8,n,e,t,o)+qv(r-p,n,e,t,o+p*t)}function Gv(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return n+e[0];if(i=t<0?(1-r)*t:0,r<8){for(o=0,a=0;a<r;a++)o+=n+e[i],i+=t;return o}return qv(r,n,e,t,i)}z(Gv,"ndarray",qv);var $v=128;function Jv(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return Dt(n[t]);if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=Dt(n[i]),i+=e;return d}if(r<=$v){for(o=Dt(n[i]),a=Dt(n[i+e]),u=Dt(n[i+2*e]),f=Dt(n[i+3*e]),s=Dt(n[i+4*e]),l=Dt(n[i+5*e]),c=Dt(n[i+6*e]),h=Dt(n[i+7*e]),i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=Dt(n[i]),a+=Dt(n[i+e]),u+=Dt(n[i+2*e]),f+=Dt(n[i+3*e]),s+=Dt(n[i+4*e]),l+=Dt(n[i+5*e]),c+=Dt(n[i+6*e]),h+=Dt(n[i+7*e]),i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=Dt(n[i]),i+=e;return d}return g=gn(r/2),Jv(g-=g%8,n,e,i)+Jv(r-g,n,e,i+g*e)}function Hv(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return Dt(n[0]);if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=Dt(n[t]),t+=e;return i}return Jv(r,n,e,t)}function Xv(r,n,e,t,i,o){var a,u,f,s,l,c,h;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=n,c=0,h=0;h<r;h++)l=f+(s=e[a]),Dt(f)>=Dt(s)?c+=f-l+s:c+=s-l+f,f=l,i[u]=f+c,a+=t,u+=o;return i}function Zv(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d;if(r<=0)return o;for(f=i,s=u,l=n,m=0,d=0;d<r;d++)h=l+(c=e[f]),Dt(l)>=Dt(c)?m+=l-h+c:m+=c-h+l,l=h,o[s]=l+m,f+=t,s+=a;return o}function Kv(r,n,e,t,i,o){return Xv(r,n,e,t,i,o)}function Qv(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d;if(r<=0)return i;for(u=t<0?(1-r)*t:0,f=o<0?(1-r)*o:0,a=0,s=0,d=0;d<r;d++)h=n+(c=e[u]),m=Dt(n)>=Dt(c)?n-h+c:c-h+n,n=h,h=s+m,l=Dt(s)>=Dt(m)?s-h+m:m-h+s,s=h,a+=l,i[f]=n+s+a,u+=t,f+=o;return i}function ry(r,n,e,t,i,o){var a,u,f;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=0;f<r;f++)n+=e[a],i[u]=n,a+=t,u+=o;return i}z(Hv,"ndarray",Jv),z(Xv,"ndarray",Zv),z(Kv,"ndarray",(function(r,n,e,t,i,o,a,u){return Zv(r,n,e,t,i,o,a,u)})),z(Qv,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p;if(r<=0)return o;for(s=i,l=u,f=0,c=0,p=0;p<r;p++)d=n+(m=e[s]),g=Dt(n)>=Dt(m)?n-d+m:m-d+n,n=d,d=c+g,h=Dt(c)>=Dt(g)?c-d+g:g-d+c,c=d,f+=h,o[l]=n+c+f,s+=t,l+=a;return o})),z(ry,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l;if(r<=0)return o;for(f=i,s=u,l=0;l<r;l++)n+=e[f],o[s]=n,f+=t,s+=a;return o}));var ny=128;function ey(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(r<=0)return o;if(f=i,s=u,r<=ny){for(l=0,h=0;h<r;h++)l+=e[f],o[s]=n+l,f+=t,s+=a;return o}return ey(c=gn(r/2),n,e,t,f,o,a,s),ey(r-c,o[s+=(c-1)*a],e,t,f+c*t,o,a,s+a),o}function ty(r,n,e,t,i,o){return r<=0?i:ey(r,n,e,t,t<0?(1-r)*t:0,i,o,o<0?(1-r)*o:0)}function iy(r,n,e,t,i){var o,a,u,f;for(o=e.data,a=e.accessors[1],u=i,f=0;f<r;f++)a(o,u,n),u+=t;return e}z(ty,"ndarray",ey);function oy(r,n,e,t){var i,o,a,u;if(r<=0)return e;if((u=Ja(e)).accessorProtocol)return iy(r,n,u,t,i=t<0?(1-r)*t:0),u.data;if(1===t){if((a=r%8)>0)for(o=0;o<a;o++)e[o]=n;if(r<8)return e;for(o=a;o<r;o+=8)e[o]=n,e[o+1]=n,e[o+2]=n,e[o+3]=n,e[o+4]=n,e[o+5]=n,e[o+6]=n,e[o+7]=n;return e}for(i=t<0?(1-r)*t:0,o=0;o<r;o++)e[i]=n,i+=t;return e}function ay(r,n,e,t,i,o){var a,u,f,s,l;for(a=n.data,f=n.accessors[0],u=n.accessors[1],s=t,l=0;l<r;l++)u(a,s,i.call(o,f(a,s),l,s,n)),s+=e;return n}function uy(r,n,e,t,i){var o,a,u;if(r<=0)return n;if(o=e<0?(1-r)*e:0,(a=Ja(n)).accessorProtocol)return ay(r,a,e,o,t,i),a.data;for(u=0;u<r;u++)n[o]=t.call(i,n[o],u,o,n),o+=e;return n}function fy(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(a=e<0?(1-r)*e:0,u=i<0?-i:0,o=0,r<=0)return t[u]=o,t[u+i]=0,t;if(1===r||0===e)return pi(n[a])?(t[u]=o,t[u+i]=0,t):(t[u]=n[a],t[u+i]=1,t);for(l=0,c=0,h=0;h<r;h++)!1===pi(f=n[a])&&(s=o+f,Dt(o)>=Dt(f)?l+=o-s+f:l+=f-s+o,o=s,c+=1),a+=e;return t[u]=o+l,t[u+i]=c,t}function sy(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)!1===pi(o=n[i])&&(a=t+o,Dt(t)>=Dt(o)?u+=t-a+o:u+=o-a+t,t=a),i+=e;return t+u}function ly(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];for(o=t,i=0,f=0,s=0;s<r;s++)!1===pi(a=n[o])&&(u=i+a,Dt(i)>=Dt(a)?f+=i-u+a:f+=a-u+i,i=u),o+=e;return i+f}function cy(r,n,e){return sy(r,n,e)}function hy(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)!1===pi(f=n[o])&&(s=t+f,l=Dt(t)>=Dt(f)?t-s+f:f-s+t,t=s,s=a+l,u=Dt(a)>=Dt(l)?a-s+l:l-s+a,a=s,i+=u),o+=e;return t+a+i}function my(r,n,e){var t,i,o;if(i=0,r<=0)return i;if(1===r||0===e)return pi(n[0])?i:n[0];for(t=e<0?(1-r)*e:0,o=0;o<r;o++)!1===pi(n[t])&&(i+=n[t]),t+=e;return i}z(oy,"ndarray",(function(r,n,e,t,i){var o,a,u,f;if(r<=0)return e;if((u=Ja(e)).accessorProtocol)return iy(r,n,u,t,i),u.data;if(o=i,1===t){if((a=r%8)>0)for(f=0;f<a;f++)e[o]=n,o+=t;if(r<8)return e;for(f=a;f<r;f+=8)e[o]=n,e[o+1]=n,e[o+2]=n,e[o+3]=n,e[o+4]=n,e[o+5]=n,e[o+6]=n,e[o+7]=n,o+=8;return e}for(f=0;f<r;f++)e[o]=n,o+=t;return e})),z(uy,"ndarray",(function(r,n,e,t,i,o){var a,u,f;if(r<=0)return n;if((u=Ja(n)).accessorProtocol)return ay(r,u,e,t,i,o),u.data;for(a=t,f=0;f<r;f++)n[a]=i.call(o,n[a],f,a,n),a+=e;return n})),z(fy,"ndarray",(function(r,n,e,t,i,o,a){var u,f,s,l,c,h,m,d;if(f=t,s=a,u=0,r<=0)return i[s]=u,i[s+o]=0,i;if(1===r||0===e)return pi(n[f])?(i[s]=u,i[s+o]=0,i):(i[s]=n[f],i[s+o]=1,i);for(h=0,m=0,d=0;d<r;d++)!1===pi(l=n[f])&&(c=u+l,Dt(u)>=Dt(l)?h+=u-c+l:h+=l-c+u,u=c,m+=1),f+=e;return i[s]=u+h,i[s+o]=m,i})),z(sy,"ndarray",ly),z(cy,"ndarray",(function(r,n,e,t){return ly(r,n,e,t)})),z(hy,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)!1===pi(s=n[a])&&(l=i+s,c=Dt(i)>=Dt(s)?i-l+s:s-l+i,i=l,l=u+c,f=Dt(u)>=Dt(c)?u-l+c:c-l+u,u=l,o+=f),a+=e;return i+u+o})),z(my,"ndarray",(function(r,n,e,t){var i,o,a;if(o=0,r<=0)return o;if(1===r||0===e)return pi(n[t])?o:n[t];for(i=t,a=0;a<r;a++)!1===pi(n[i])&&(o+=n[i]),i+=e;return o}));var dy=128;function gy(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return pi(n[t])?0:n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)!1===pi(n[i])&&(d+=n[i]),i+=e;return d}if(r<=dy){for(o=pi(n[i])?0:n[i],a=pi(n[i+=e])?0:n[i],u=pi(n[i+=e])?0:n[i],f=pi(n[i+=e])?0:n[i],s=pi(n[i+=e])?0:n[i],l=pi(n[i+=e])?0:n[i],c=pi(n[i+=e])?0:n[i],h=pi(n[i+=e])?0:n[i],i+=e,m=r%8,p=8;p<r-m;p+=8)o+=pi(n[i])?0:n[i],a+=pi(n[i+=e])?0:n[i],u+=pi(n[i+=e])?0:n[i],f+=pi(n[i+=e])?0:n[i],s+=pi(n[i+=e])?0:n[i],l+=pi(n[i+=e])?0:n[i],c+=pi(n[i+=e])?0:n[i],h+=pi(n[i+=e])?0:n[i],i+=e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)!1===pi(n[i])&&(d+=n[i]),i+=e;return d}return g=gn(r/2),gy(g-=g%8,n,e,i)+gy(r-g,n,e,i+g*e)}function py(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return pi(n[0])?0:n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)!1===pi(n[t])&&(i+=n[t]),t+=e;return i}return gy(r,n,e,t)}function vy(r,n,e,t){var i,o,a,u,f,s,l,c;for(i=n.data,a=n.accessors[0],o=n.accessors[1],l=gn(r/2),s=(f=t)+(r-1)*e,c=0;c<l;c++)u=a(i,f),o(i,f,a(i,s)),o(i,s,u),f+=e,s-=e;return n}z(py,"ndarray",gy);function yy(r,n,e){var t,i,o,a,u,f,s;if(r<=0)return n;if((a=Ja(n)).accessorProtocol)return vy(r,a,e,i=e<0?(1-r)*e:0),a.data;if(f=gn(r/2),1===e){if(o=r-1,(u=f%3)>0)for(i=0;i<u;i++)t=n[i],n[i]=n[o],n[o]=t,o-=1;if(f<3)return n;for(i=u;i<f;i+=3)t=n[i],n[i]=n[o],n[o]=t,t=n[i+1],n[i+1]=n[o-1],n[o-1]=t,t=n[i+2],n[i+2]=n[o-2],n[o-2]=t,o-=3;return n}for(o=(i=e<0?(1-r)*e:0)+(r-1)*e,s=0;s<f;s++)t=n[i],n[i]=n[o],n[o]=t,i+=e,o-=e;return n}function wy(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,p=r,f=gn(r/2);;){if(f>0)h=e[a+(f-=1)*t],m=i[u+f*o];else{if(0===(p-=1))return e;h=e[d=a+p*t],m=i[g=u+p*o],e[d]=e[a],i[g]=i[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[a+y*t])>(c=e[a+s*t])||pi(l)||l===c&&ga(l))&&(s+=1),(l=e[a+s*t])>h||pi(l)||l===h&&ga(l));)e[a+v*t]=l,i[u+v*o]=i[u+s*o],s=2*(v=s)+1;e[a+v*t]=h,i[u+v*o]=m}}function by(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;if(n<0&&(t*=-1,o*=-1),o<0?(m=(1-r)*o,d=0):(m=0,d=(r-1)*o),c=m+o,t<0){for(l=0,u=(s=(1-r)*t)+t,y=1;y<r;y++)if(g=e[u],p=i[c],pi(g)){for(f=u,h=c;f>l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Up(g),f=u-t,h=c-o;f<=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Up(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}for(l=(r-1)*t,u=(s=0)+t,y=1;y<r;y++)if(g=e[u],p=i[c],pi(g)){for(f=u,h=c;f<l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Up(g),f=u-t,h=c-o;f>=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Up(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}z(yy,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l;if(r<=0)return n;if((u=Ja(n)).accessorProtocol)return vy(r,u,e,t),u.data;if(s=gn(r/2),o=t,1===e){if(a=o+r-1,(f=s%3)>0)for(l=0;l<f;l++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;if(s<3)return n;for(l=f;l<s;l+=3)i=n[o],n[o]=n[a],n[a]=i,i=n[o+1],n[o+1]=n[a-1],n[a-1]=i,i=n[o+2],n[o+2]=n[a-2],n[a-2]=i,o+=3,a-=3;return n}for(a=o+(r-1)*e,l=0;l<s;l++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;return n})),z(wy,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),p=r,f=gn(r/2);;){if(f>0)h=e[i+(f-=1)*t],m=o[u+f*a];else{if(0===(p-=1))return e;h=e[d=i+p*t],m=o[g=u+p*a],e[d]=e[i],o[g]=o[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[i+y*t])>(c=e[i+s*t])||pi(l)||l===c&&ga(l))&&(s+=1),(l=e[i+s*t])>h||pi(l)||l===h&&ga(l));)e[i+v*t]=l,o[u+v*a]=o[u+s*a],s=2*(v=s)+1;e[i+v*t]=h,o[u+v*a]=m}})),z(by,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y,w,b;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),h=(c=i)+(r-1)*t,s=c+t,p=(g=u)+(r-1)*a,m=g+a,t<0){for(b=1;b<r;b++)if(v=e[s],y=o[m],pi(v)){for(l=s,d=m;l>h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Up(v),l=s-t,d=m-a;l<=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Up(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}for(b=1;b<r;b++)if(v=e[s],y=o[m],pi(v)){for(l=s,d=m;l<h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Up(v),l=s-t,d=m-a;l>=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Up(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}));var _y=[701,301,132,57,23,10,4,1],Ey=_y.length;function Ty(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,m=0;m<Ey;m++)for(d=s=_y[m];d<r;d++)if(!pi(l=e[a+d*t])){for(c=i[u+d*o],f=Up(l),g=d;g>=s&&(!((h=e[a+(g-s)*t])<=l)||f&&h===l);g-=s)e[a+g*t]=h,i[u+g*o]=i[u+(g-s)*o];e[a+g*t]=l,i[u+g*o]=c}return e}var jy=_y.length;function Vy(r,n,e,t){var i,o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||pi(u)||u===f&&ga(u))&&(a+=1),(u=e[i+a*t])>l||pi(u)||u===l&&ga(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}}function xy(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;if(n<0&&(t*=-1),t<0){for(f=0,o=(u=(1-r)*t)+t,c=1;c<r;c++)if(pi(s=e[o])){for(a=o;a>f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Up(s),a=o-t;a<=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Up(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}for(f=(r-1)*t,o=(u=0)+t,c=1;c<r;c++)if(pi(s=e[o])){for(a=o;a<f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Up(s),a=o-t;a>=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Up(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}z(Ty,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),m=0;m<jy;m++)for(d=s=_y[m];d<r;d++)if(!pi(l=e[i+d*t])){for(c=o[u+d*a],f=Up(l),g=d;g>=s&&(!((h=e[i+(g-s)*t])<=l)||f&&h===l);g-=s)e[i+g*t]=h,o[u+g*a]=o[u+(g-s)*a];e[i+g*t]=l,o[u+g*a]=c}return e})),z(Vy,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||pi(u)||u===f&&ga(u))&&(a+=1),(u=e[i+a*t])>l||pi(u)||u===l&&ga(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}})),z(xy,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1)),s=(f=i)+(r-1)*t,a=f+t,t<0){for(h=1;h<r;h++)if(pi(l=e[a])){for(u=a;u>s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Up(l),u=a-t;u<=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Up(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}for(h=1;h<r;h++)if(pi(l=e[a])){for(u=a;u<s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Up(l),u=a-t;u>=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Up(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}));var Sy=[701,301,132,57,23,10,4,1],Ry=Sy.length;function Oy(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=0;s<Ry;s++)for(l=a=Sy[s];l<r;l++)if(!pi(u=e[i+l*t])){for(o=Up(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e}var Fy=Sy.length;function Ay(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)a=t+(o=n[i]),Dt(t)>=Dt(o)?u+=t-a+o:u+=o-a+t,t=a,i+=e;return t+u}function Iy(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return n[t];for(o=t,i=0,f=0,s=0;s<r;s++)u=i+(a=n[o]),Dt(i)>=Dt(a)?f+=i-u+a:f+=a-u+i,i=u,o+=e;return i+f}function ky(r,n,e){return Ay(r,n,e)}function Ly(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)s=t+(f=n[o]),l=Dt(t)>=Dt(f)?t-s+f:f-s+t,t=s,s=a+l,u=Dt(a)>=Dt(l)?a-s+l:l-s+a,a=s,i+=u,o+=e;return t+a+i}z(Oy,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=0;s<Fy;s++)for(l=a=Sy[s];l<r;l++)if(!pi(u=e[i+l*t])){for(o=Up(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e})),z(Ay,"ndarray",Iy),z(ky,"ndarray",(function(r,n,e,t){return Iy(r,n,e,t)})),z(Ly,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)l=i+(s=n[a]),c=Dt(i)>=Dt(s)?i-l+s:s-l+i,i=l,l=u+c,f=Dt(u)>=Dt(c)?u-l+c:c-l+u,u=l,o+=f,a+=e;return i+u+o}));function By(r,n,e){var t,i,o,a;if(o=0,r<=0)return o;if(1===r||0===e)return n[0];if(1===e){if((i=r%6)>0)for(a=0;a<i;a++)o+=n[a];if(r<6)return o;for(a=i;a<r;a+=6)o+=n[a]+n[a+1]+n[a+2]+n[a+3]+n[a+4]+n[a+5];return o}for(t=e<0?(1-r)*e:0,a=0;a<r;a++)o+=n[t],t+=e;return o}z(By,"ndarray",(function(r,n,e,t){var i,o,a,u;if(a=0,r<=0)return a;if(1===r||0===e)return n[t];if(i=t,1===e){if((o=r%6)>0)for(u=0;u<o;u++)a+=n[i],i+=e;if(r<6)return a;for(u=o;u<r;u+=6)a+=n[i]+n[i+1]+n[i+2]+n[i+3]+n[i+4]+n[i+5],i+=6;return a}for(u=0;u<r;u++)a+=n[i],i+=e;return a}));var My=128;function Ny(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=n[i],i+=e;return d}if(r<=My){for(o=n[i],a=n[i+e],u=n[i+2*e],f=n[i+3*e],s=n[i+4*e],l=n[i+5*e],c=n[i+6*e],h=n[i+7*e],i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=n[i],a+=n[i+e],u+=n[i+2*e],f+=n[i+3*e],s+=n[i+4*e],l+=n[i+5*e],c+=n[i+6*e],h+=n[i+7*e],i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=n[i],i+=e;return d}return g=gn(r/2),Ny(g-=g%8,n,e,i)+Ny(r-g,n,e,i+g*e)}function Uy(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=n[t],t+=e;return i}return Ny(r,n,e,t)}z(Uy,"ndarray",Ny);function Py(r,n,e,t){var i,o,a;if(r<=0||0===n)return e;if(1===t){if((a=r%5)>0)for(o=0;o<a;o++)e[o]+=n;if(r<5)return e;for(o=a;o<r;o+=5)e[o]+=n,e[o+1]+=n,e[o+2]+=n,e[o+3]+=n,e[o+4]+=n;return e}for(i=t<0?(1-r)*t:0,o=0;o<r;o++)e[i]+=n,i+=t;return e}z(Py,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0||0===n)return e;if(o=i,1===t){if((a=r%5)>0)for(u=0;u<a;u++)e[o]+=n,o+=t;if(r<5)return e;for(u=a;u<r;u+=5)e[o]+=n,e[o+1]+=n,e[o+2]+=n,e[o+3]+=n,e[o+4]+=n,o+=5;return e}for(u=0;u<r;u++)e[o]+=n,o+=t;return e}));var Cy=bt((0,r.join)(__dirname,"./native.js")),zy=wt(Cy)?Py:Cy;function Dy(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);for(o=t<0?(1-r)*t:0,i=0,f=0,s=0;s<r;s++)a=oe(n+e[o]),u=oe(i+a),f=Dt(i)>=Dt(a)?oe(f+oe(oe(i-u)+a)):oe(f+oe(oe(a-u)+i)),i=u,o+=t;return oe(i+f)}z(Dy,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[i]);for(a=i,o=0,s=0,l=0;l<r;l++)u=oe(n+e[a]),f=oe(o+u),s=Dt(o)>=Dt(u)?oe(s+oe(oe(o-f)+u)):oe(s+oe(oe(u-f)+o)),o=f,a+=t;return oe(o+s)}));var Yy,Wy=bt((0,r.join)(__dirname,"./native.js")),qy=Yy=wt(Wy)?Dy:Wy;const{ndarray:Gy}=Yy;function $y(r,n,e,t){return qy(r,n,e,t)}z($y,"ndarray",(function(r,n,e,t,i){return Gy(r,n,e,t,i)}));var Jy=bt((0,r.join)(__dirname,"./native.js")),Hy=wt(Jy)?$y:Jy;function Xy(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);for(a=t<0?(1-r)*t:0,i=0,o=0,u=0,h=0;h<r;h++)s=oe(n+e[a]),l=oe(i+s),c=Dt(i)>=Dt(s)?oe(oe(i-l)+s):oe(oe(s-l)+i),i=l,l=oe(u+c),f=Dt(u)>=Dt(c)?oe(oe(u-l)+c):oe(oe(c-l)+u),u=l,o=oe(o+f),a+=t;return oe(i+oe(u+o))}z(Xy,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[i]);for(u=i,o=0,a=0,f=0,m=0;m<r;m++)l=oe(n+e[u]),c=oe(o+l),h=Dt(o)>=Dt(l)?oe(oe(o-c)+l):oe(oe(l-c)+o),o=c,c=oe(f+h),s=Dt(f)>=Dt(h)?oe(oe(f-c)+h):oe(oe(h-c)+f),f=c,a=oe(a+s),u+=t;return oe(o+oe(f+a))}));var Zy=bt((0,r.join)(__dirname,"./native.js")),Ky=wt(Zy)?Xy:Zy;function Qy(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);for(o=t<0?(1-r)*t:0,i=0,a=0;a<r;a++)i=oe(i+oe(n+e[o])),o+=t;return i}z(Qy,"ndarray",(function(r,n,e,t,i){var o,a,u;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);for(a=i,o=0,u=0;u<r;u++)o=oe(o+oe(n+e[a])),a+=t;return o}));var rw=bt((0,r.join)(__dirname,"./native.js")),nw=wt(rw)?Qy:rw,ew=128;function tw(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g,p,v;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[i]);if(o=i,r<8){for(g=0,v=0;v<r;v++)g=oe(g+oe(n+e[o])),o+=t;return g}if(r<=ew){for(a=oe(n+e[o]),u=oe(n+e[o+t]),f=oe(n+e[o+2*t]),s=oe(n+e[o+3*t]),l=oe(n+e[o+4*t]),c=oe(n+e[o+5*t]),h=oe(n+e[o+6*t]),m=oe(n+e[o+7*t]),o+=8*t,d=r%8,v=8;v<r-d;v+=8)a=oe(a+oe(n+e[o])),u=oe(u+oe(n+e[o+t])),f=oe(f+oe(n+e[o+2*t])),s=oe(s+oe(n+e[o+3*t])),l=oe(l+oe(n+e[o+4*t])),c=oe(c+oe(n+e[o+5*t])),h=oe(h+oe(n+e[o+6*t])),m=oe(m+oe(n+e[o+7*t])),o+=8*t;for(g=oe(oe(oe(a+u)+oe(f+s))+oe(oe(l+c)+oe(h+m)));v<r;v++)g=oe(g+oe(n+e[o])),o+=t;return g}return p=gn(r/2),oe(tw(p-=p%8,n,e,t,o)+tw(r-p,n,e,t,o+p*t))}function iw(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);if(i=t<0?(1-r)*t:0,r<8){for(o=0,a=0;a<r;a++)o=oe(o+oe(n+e[i])),i+=t;return o}return tw(r,n,e,t,i)}z(iw,"ndarray",tw);var ow=bt((0,r.join)(__dirname,"./native.js")),aw=wt(ow)?iw:ow,uw=128;function fw(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return Dt(n[t]);if(i=t,r<8){for(d=0,p=0;p<r;p++)d=oe(d+Dt(n[i])),i+=e;return d}if(r<=uw){for(o=Dt(n[i]),a=Dt(n[i+e]),u=Dt(n[i+2*e]),f=Dt(n[i+3*e]),s=Dt(n[i+4*e]),l=Dt(n[i+5*e]),c=Dt(n[i+6*e]),h=Dt(n[i+7*e]),i+=8*e,m=r%8,p=8;p<r-m;p+=8)o=oe(o+Dt(n[i])),a=oe(a+Dt(n[i+e])),u=oe(u+Dt(n[i+2*e])),f=oe(f+Dt(n[i+3*e])),s=oe(s+Dt(n[i+4*e])),l=oe(l+Dt(n[i+5*e])),c=oe(c+Dt(n[i+6*e])),h=oe(h+Dt(n[i+7*e])),i+=8*e;for(d=oe(oe(oe(o+a)+oe(u+f))+oe(oe(s+l)+oe(c+h)));p<r;p++)d=oe(d+Dt(n[i])),i+=e;return d}return g=gn(r/2),oe(fw(g-=g%8,n,e,i)+fw(r-g,n,e,i+g*e))}function sw(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return Dt(n[0]);if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i=oe(i+Dt(n[t])),t+=e;return i}return fw(r,n,e,t)}z(sw,"ndarray",fw);var lw=bt((0,r.join)(__dirname,"./native.js")),cw=wt(lw)?sw:lw;function hw(r,n,e,t,i,o){var a,u,f,s,l,c,h;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=n,c=0,h=0;h<r;h++)s=e[a],l=oe(f+s),c=Dt(f)>=Dt(s)?oe(c+oe(oe(f-l)+s)):oe(c+oe(oe(s-l)+f)),f=l,i[u]=oe(f+c),a+=t,u+=o;return i}z(hw,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d;if(r<=0)return o;for(f=i,s=u,l=n,m=0,d=0;d<r;d++)c=e[f],h=oe(l+c),m=Dt(l)>=Dt(c)?oe(m+oe(oe(l-h)+c)):oe(m+oe(oe(c-h)+l)),l=h,o[s]=oe(l+m),f+=t,s+=a;return o}));var mw,dw=bt((0,r.join)(__dirname,"./native.js")),gw=mw=wt(dw)?hw:dw;const{ndarray:pw}=mw;function vw(r,n,e,t,i,o){return gw(r,n,e,t,i,o)}z(vw,"ndarray",(function(r,n,e,t,i,o,a,u){return pw(r,n,e,t,i,o,a,u)}));var yw=bt((0,r.join)(__dirname,"./native.js")),ww=wt(yw)?vw:yw;function bw(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d;if(r<=0)return i;for(u=t<0?(1-r)*t:0,f=o<0?(1-r)*o:0,a=0,s=0,d=0;d<r;d++)c=e[u],h=oe(n+c),m=Dt(n)>=Dt(c)?oe(oe(n-h)+c):oe(oe(c-h)+n),n=h,h=oe(s+m),l=Dt(s)>=Dt(m)?oe(oe(s-h)+m):oe(oe(m-h)+s),s=h,a=oe(a+l),i[f]=oe(n+oe(s+a)),u+=t,f+=o;return i}z(bw,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p;if(r<=0)return o;for(s=i,l=u,f=0,c=0,p=0;p<r;p++)m=e[s],d=oe(n+m),g=Dt(n)>=Dt(m)?oe(oe(n-d)+m):oe(oe(m-d)+n),n=d,d=oe(c+g),h=Dt(c)>=Dt(g)?oe(oe(c-d)+g):oe(oe(g-d)+c),c=d,f=oe(f+h),o[l]=oe(n+oe(c+f)),s+=t,l+=a;return o}));var _w=bt((0,r.join)(__dirname,"./native.js")),Ew=wt(_w)?bw:_w;function Tw(r,n,e,t,i,o){var a,u,f;if(r<=0)return i;for(a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,f=0;f<r;f++)n=oe(n+e[a]),i[u]=n,a+=t,u+=o;return i}z(Tw,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l;if(r<=0)return o;for(f=i,s=u,l=0;l<r;l++)n=oe(n+e[f]),o[s]=n,f+=t,s+=a;return o}));var jw=bt((0,r.join)(__dirname,"./native.js")),Vw=wt(jw)?Tw:jw,xw=128;function Sw(r,n,e,t,i,o,a,u){var f,s,l,c,h;if(r<=0)return o;if(f=i,s=u,r<=xw){for(l=0,h=0;h<r;h++)l=oe(l+e[f]),o[s]=oe(n+l),f+=t,s+=a;return o}return Sw(c=gn(r/2),n,e,t,f,o,a,s),Sw(r-c,o[s+=(c-1)*a],e,t,f+c*t,o,a,s+a),o}function Rw(r,n,e,t,i,o){return r<=0?i:Sw(r,n,e,t,t<0?(1-r)*t:0,i,o,o<0?(1-r)*o:0)}z(Rw,"ndarray",Sw);var Ow=bt((0,r.join)(__dirname,"./native.js")),Fw=wt(Ow)?Rw:Ow,Aw=128;function Iw(r,n,e,t,i){var o,a,u,f,s,l,c,h,m,d,g,p,v;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[i]);if(o=i,r<8){for(g=0,v=0;v<r;v++)g+=n+e[o],o+=t;return oe(g)}if(r<=Aw){for(a=n+e[o],u=n+e[o+t],f=n+e[o+2*t],s=n+e[o+3*t],l=n+e[o+4*t],c=n+e[o+5*t],h=n+e[o+6*t],m=n+e[o+7*t],o+=8*t,d=r%8,v=8;v<r-d;v+=8)a+=n+e[o],u+=n+e[o+t],f+=n+e[o+2*t],s+=n+e[o+3*t],l+=n+e[o+4*t],c+=n+e[o+5*t],h+=n+e[o+6*t],m+=n+e[o+7*t],o+=8*t;for(g=a+u+(f+s)+(l+c+(h+m));v<r;v++)g+=n+e[o],o+=t;return oe(g)}return p=gn(r/2),oe(Iw(p-=p%8,n,e,t,o)+Iw(r-p,n,e,t,o+p*t))}function kw(r,n,e,t){var i,o,a;if(r<=0)return 0;if(1===r||0===t)return oe(n+e[0]);if(i=t<0?(1-r)*t:0,r<8){for(o=0,a=0;a<r;a++)o+=n+e[i],i+=t;return oe(o)}return Iw(r,n,e,t,i)}z(kw,"ndarray",Iw);var Lw,Bw=bt((0,r.join)(__dirname,"./native.js")),Mw=Lw=wt(Bw)?kw:Bw;const{ndarray:Nw}=Lw;function Uw(r,n,e,t){return Mw(r,n,e,t)}z(Uw,"ndarray",(function(r,n,e,t,i){return Nw(r,n,e,t,i)}));var Pw=bt((0,r.join)(__dirname,"./native.js")),Cw=wt(Pw)?Uw:Pw,zw=128;function Dw(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return _p(n[t])?0:n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)!1===_p(n[i])&&(d+=n[i]),i+=e;return oe(d)}if(r<=zw){for(o=_p(n[i])?0:n[i],a=_p(n[i+=e])?0:n[i],u=_p(n[i+=e])?0:n[i],f=_p(n[i+=e])?0:n[i],s=_p(n[i+=e])?0:n[i],l=_p(n[i+=e])?0:n[i],c=_p(n[i+=e])?0:n[i],h=_p(n[i+=e])?0:n[i],i+=e,m=r%8,p=8;p<r-m;p+=8)o+=_p(n[i])?0:n[i],a+=_p(n[i+=e])?0:n[i],u+=_p(n[i+=e])?0:n[i],f+=_p(n[i+=e])?0:n[i],s+=_p(n[i+=e])?0:n[i],l+=_p(n[i+=e])?0:n[i],c+=_p(n[i+=e])?0:n[i],h+=_p(n[i+=e])?0:n[i],i+=e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)!1===_p(n[i])&&(d+=n[i]),i+=e;return oe(d)}return g=gn(r/2),oe(Dw(g-=g%8,n,e,i)+Dw(r-g,n,e,i+g*e))}function Yw(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return _p(n[0])?0:n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)!1===_p(n[t])&&(i+=n[t]),t+=e;return oe(i)}return Dw(r,n,e,t)}z(Yw,"ndarray",Dw);var Ww,qw=bt((0,r.join)(__dirname,"./native.js")),Gw=Ww=wt(qw)?Yw:qw;const{ndarray:$w}=Ww;function Jw(r,n,e){return Gw(r,n,e)}z(Jw,"ndarray",(function(r,n,e,t){return $w(r,n,e,t)}));var Hw=bt((0,r.join)(__dirname,"./native.js")),Xw=wt(Hw)?Jw:Hw,Zw=128;function Kw(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)d+=n[i],i+=e;return oe(d)}if(r<=Zw){for(o=n[i],a=n[i+e],u=n[i+2*e],f=n[i+3*e],s=n[i+4*e],l=n[i+5*e],c=n[i+6*e],h=n[i+7*e],i+=8*e,m=r%8,p=8;p<r-m;p+=8)o+=n[i],a+=n[i+e],u+=n[i+2*e],f+=n[i+3*e],s+=n[i+4*e],l+=n[i+5*e],c+=n[i+6*e],h+=n[i+7*e],i+=8*e;for(d=o+a+(u+f)+(s+l+(c+h));p<r;p++)d+=n[i],i+=e;return oe(d)}return g=gn(r/2),oe(Kw(g-=g%8,n,e,i)+Kw(r-g,n,e,i+g*e))}function Qw(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i+=n[t],t+=e;return oe(i)}return Kw(r,n,e,t)}z(Qw,"ndarray",Kw);var rb,nb=bt((0,r.join)(__dirname,"./native.js")),eb=rb=wt(nb)?Qw:nb;const{ndarray:tb}=rb;function ib(r,n,e){return eb(r,n,e)}z(ib,"ndarray",(function(r,n,e,t){return tb(r,n,e,t)}));var ob=bt((0,r.join)(__dirname,"./native.js")),ab=wt(ob)?ib:ob;function ub(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return _p(n[0])?0:n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)!1===_p(o=n[i])&&(a=t+o,u=Dt(t)>=Dt(o)?oe(u+oe(oe(t-a)+o)):oe(u+oe(oe(o-a)+t)),t=a),i+=e;return oe(t+u)}z(ub,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return _p(n[t])?0:n[t];for(o=t,i=0,f=0,s=0;s<r;s++)!1===_p(a=n[o])&&(u=i+a,f=Dt(i)>=Dt(a)?oe(f+oe(oe(i-u)+a)):oe(f+oe(oe(a-u)+i)),i=u),o+=e;return oe(i+f)}));var fb,sb=bt((0,r.join)(__dirname,"./native.js")),lb=fb=wt(sb)?ub:sb;const{ndarray:cb}=fb;function hb(r,n,e){return lb(r,n,e)}z(hb,"ndarray",(function(r,n,e,t){return cb(r,n,e,t)}));var mb=bt((0,r.join)(__dirname,"./native.js")),db=wt(mb)?hb:mb;function gb(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return _p(n[0])?0:n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)!1===_p(f=n[o])&&(s=oe(t+f),l=Dt(t)>=Dt(f)?oe(oe(t-s)+f):oe(oe(f-s)+t),t=s,s=oe(a+l),u=Dt(a)>=Dt(l)?oe(oe(a-s)+l):oe(oe(l-s)+a),a=s,i=oe(i+u)),o+=e;return oe(t+oe(a+i))}z(gb,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return _p(n[t])?0:n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)!1===_p(s=n[a])&&(l=oe(i+s),c=Dt(i)>=Dt(s)?oe(oe(i-l)+s):oe(oe(s-l)+i),i=l,l=oe(u+c),f=Dt(u)>=Dt(c)?oe(oe(u-l)+c):oe(oe(c-l)+u),u=l,o=oe(o+f)),a+=e;return oe(i+oe(u+o))}));var pb=bt((0,r.join)(__dirname,"./native.js")),vb=wt(pb)?gb:pb;function yb(r,n,e){var t,i,o;if(t=0,r<=0)return t;if(1===r||0===e)return _p(n[0])?t:n[0];for(i=e<0?(1-r)*e:0,o=0;o<r;o++)!1===_p(n[i])&&(t=oe(t+n[i])),i+=e;return t}z(yb,"ndarray",(function(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;if(1===r||0===e)return _p(n[t])?i:n[t];for(o=t,a=0;a<r;a++)!1===_p(n[o])&&(i=oe(i+n[o])),o+=e;return i}));var wb=bt((0,r.join)(__dirname,"./native.js")),bb=wt(wb)?yb:wb,_b=128;function Eb(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return _p(n[t])?0:n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)!1===_p(n[i])&&(d=oe(d+n[i])),i+=e;return d}if(r<=_b){for(o=_p(n[i])?0:n[i],a=_p(n[i+=e])?0:n[i],u=_p(n[i+=e])?0:n[i],f=_p(n[i+=e])?0:n[i],s=_p(n[i+=e])?0:n[i],l=_p(n[i+=e])?0:n[i],c=_p(n[i+=e])?0:n[i],h=_p(n[i+=e])?0:n[i],i+=e,m=r%8,p=8;p<r-m;p+=8)o=_p(n[i])?o:oe(o+n[i]),a=_p(n[i+=e])?a:oe(a+n[i]),u=_p(n[i+=e])?u:oe(u+n[i]),f=_p(n[i+=e])?f:oe(f+n[i]),s=_p(n[i+=e])?s:oe(s+n[i]),l=_p(n[i+=e])?l:oe(l+n[i]),c=_p(n[i+=e])?c:oe(c+n[i]),h=_p(n[i+=e])?h:oe(h+n[i]),i+=e;for(d=oe(oe(oe(o+a)+oe(u+f))+oe(oe(s+l)+oe(c+h)));p<r;p++)!1===_p(n[i])&&(d=oe(d+n[i])),i+=e;return d}return g=gn(r/2),oe(Eb(g-=g%8,n,e,i)+Eb(r-g,n,e,i+g*e))}function Tb(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return _p(n[0])?0:n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)!1===_p(n[t])&&(i=oe(i+n[t])),t+=e;return i}return Eb(r,n,e,t)}z(Tb,"ndarray",Eb);var jb=bt((0,r.join)(__dirname,"./native.js")),Vb=wt(jb)?Tb:jb;function xb(r,n,e){var t,i,o,a,u,f;if(r<=0)return n;if(u=gn(r/2),1===e){if(o=r-1,(a=u%3)>0)for(i=0;i<a;i++)t=n[i],n[i]=n[o],n[o]=t,o-=1;if(u<3)return n;for(i=a;i<u;i+=3)t=n[i],n[i]=n[o],n[o]=t,t=n[i+1],n[i+1]=n[o-1],n[o-1]=t,t=n[i+2],n[i+2]=n[o-2],n[o-2]=t,o-=3;return n}for(o=(i=e<0?(1-r)*e:0)+(r-1)*e,f=0;f<u;f++)t=n[i],n[i]=n[o],n[o]=t,i+=e,o-=e;return n}z(xb,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return n;if(f=gn(r/2),o=t,1===e){if(a=o+r-1,(u=f%3)>0)for(s=0;s<u;s++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;if(f<3)return n;for(s=u;s<f;s+=3)i=n[o],n[o]=n[a],n[a]=i,i=n[o+1],n[o+1]=n[a-1],n[a-1]=i,i=n[o+2],n[o+2]=n[a-2],n[a-2]=i,o+=3,a-=3;return n}for(a=o+(r-1)*e,s=0;s<f;s++)i=n[o],n[o]=n[a],n[a]=i,o+=e,a-=e;return n}));var Sb=bt((0,r.join)(__dirname,"./native.js")),Rb=wt(Sb)?xb:Sb,Ob=new Tr(1);new Or(Ob.buffer)[0]=2139095040;var Fb=Ob[0];function Ab(r){return 0===r&&1/r===Fb}function Ib(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,p=r,f=gn(r/2);;){if(f>0)h=e[a+(f-=1)*t],m=i[u+f*o];else{if(0===(p-=1))return e;h=e[d=a+p*t],m=i[g=u+p*o],e[d]=e[a],i[g]=i[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[a+y*t])>(c=e[a+s*t])||_p(l)||l===c&&Ab(l))&&(s+=1),(l=e[a+s*t])>h||_p(l)||l===h&&Ab(l));)e[a+v*t]=l,i[u+v*o]=i[u+s*o],s=2*(v=s)+1;e[a+v*t]=h,i[u+v*o]=m}}z(Ib,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),p=r,f=gn(r/2);;){if(f>0)h=e[i+(f-=1)*t],m=o[u+f*a];else{if(0===(p-=1))return e;h=e[d=i+p*t],m=o[g=u+p*a],e[d]=e[i],o[g]=o[u]}for(s=2*(v=f)+1;s<p&&((y=s+1)<p&&((l=e[i+y*t])>(c=e[i+s*t])||_p(l)||l===c&&Ab(l))&&(s+=1),(l=e[i+s*t])>h||_p(l)||l===h&&Ab(l));)e[i+v*t]=l,o[u+v*a]=o[u+s*a],s=2*(v=s)+1;e[i+v*t]=h,o[u+v*a]=m}}));var kb=bt((0,r.join)(__dirname,"./native.js")),Lb=wt(kb)?Ib:kb,Bb=new Tr(1);new Or(Bb.buffer)[0]=4286578688;var Mb=Bb[0];function Nb(r){return 0===r&&1/r===Mb}function Ub(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g,p,v,y;if(r<=0||0===n)return e;if(n<0&&(t*=-1,o*=-1),o<0?(m=(1-r)*o,d=0):(m=0,d=(r-1)*o),c=m+o,t<0){for(l=0,u=(s=(1-r)*t)+t,y=1;y<r;y++)if(g=e[u],p=i[c],_p(g)){for(f=u,h=c;f>l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Nb(g),f=u-t,h=c-o;f<=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Nb(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}for(l=(r-1)*t,u=(s=0)+t,y=1;y<r;y++)if(g=e[u],p=i[c],_p(g)){for(f=u,h=c;f<l;)e[f]=e[f+t],i[h]=i[h+o],f+=t,h+=o;e[l]=g,i[d]=p}else{for(a=Nb(g),f=u-t,h=c-o;f>=s&&(!((v=e[f])<=g)||a&&v===g&&!1===Nb(v));)e[f+t]=v,i[h+o]=i[h],f-=t,h-=o;e[f+t]=g,i[h+o]=p,u+=t,c+=o}return e}z(Ub,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g,p,v,y,w,b;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),h=(c=i)+(r-1)*t,s=c+t,p=(g=u)+(r-1)*a,m=g+a,t<0){for(b=1;b<r;b++)if(v=e[s],y=o[m],_p(v)){for(l=s,d=m;l>h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Nb(v),l=s-t,d=m-a;l<=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Nb(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}for(b=1;b<r;b++)if(v=e[s],y=o[m],_p(v)){for(l=s,d=m;l<h;)e[l]=e[l+t],o[d]=o[d+a],l+=t,d+=a;e[h]=v,o[p]=y}else{for(f=Nb(v),l=s-t,d=m-a;l>=c&&(!((w=e[l])<=v)||f&&w===v&&!1===Nb(w));)e[l+t]=w,o[d+a]=o[d],l-=t,d-=a;e[l+t]=v,o[d+a]=y,s+=t,m+=a}return e}));var Pb=bt((0,r.join)(__dirname,"./native.js")),Cb=wt(Pb)?Ub:Pb,zb=[701,301,132,57,23,10,4,1],Db=zb.length;function Yb(r,n,e,t,i,o){var a,u,f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(t*=-1,o*=-1),a=t<0?(1-r)*t:0,u=o<0?(1-r)*o:0,m=0;m<Db;m++)for(d=s=zb[m];d<r;d++)if(!_p(l=e[a+d*t])){for(c=i[u+d*o],f=Nb(l),g=d;g>=s&&(!((h=e[a+(g-s)*t])<=l)||f&&h===l);g-=s)e[a+g*t]=h,i[u+g*o]=i[u+(g-s)*o];e[a+g*t]=l,i[u+g*o]=c}return e}var Wb=zb.length;z(Yb,"ndarray",(function(r,n,e,t,i,o,a,u){var f,s,l,c,h,m,d,g;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1),u-=(r-1)*(a*=-1)),m=0;m<Wb;m++)for(d=s=zb[m];d<r;d++)if(!_p(l=e[i+d*t])){for(c=o[u+d*a],f=Nb(l),g=d;g>=s&&(!((h=e[i+(g-s)*t])<=l)||f&&h===l);g-=s)e[i+g*t]=h,o[u+g*a]=o[u+(g-s)*a];e[i+g*t]=l,o[u+g*a]=c}return e}));var qb=bt((0,r.join)(__dirname,"./native.js")),Gb=wt(qb)?Yb:qb;function $b(r,n,e,t){var i,o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||_p(u)||u===f&&Ab(u))&&(a+=1),(u=e[i+a*t])>l||_p(u)||u===l&&Ab(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}}z($b,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h,m;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=r,o=gn(r/2);;){if(o>0)l=e[i+(o-=1)*t];else{if(0===(s-=1))return e;l=e[c=i+s*t],e[c]=e[i]}for(a=2*(h=o)+1;a<s&&((m=a+1)<s&&((u=e[i+m*t])>(f=e[i+a*t])||_p(u)||u===f&&Ab(u))&&(a+=1),(u=e[i+a*t])>l||_p(u)||u===l&&Ab(u));)e[i+h*t]=u,a=2*(h=a)+1;e[i+h*t]=l}}));var Jb=bt((0,r.join)(__dirname,"./native.js")),Hb=wt(Jb)?$b:Jb;function Xb(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;if(n<0&&(t*=-1),t<0){for(f=0,o=(u=(1-r)*t)+t,c=1;c<r;c++)if(_p(s=e[o])){for(a=o;a>f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Nb(s),a=o-t;a<=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Nb(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}for(f=(r-1)*t,o=(u=0)+t,c=1;c<r;c++)if(_p(s=e[o])){for(a=o;a<f;)e[a]=e[a+t],a+=t;e[f]=s}else{for(i=Nb(s),a=o-t;a>=u&&(!((l=e[a])<=s)||i&&l===s&&!1===Nb(l));)e[a+t]=l,a-=t;e[a+t]=s,o+=t}return e}z(Xb,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c,h;if(r<=0||0===n)return e;if(n<0&&(i-=(r-1)*(t*=-1)),s=(f=i)+(r-1)*t,a=f+t,t<0){for(h=1;h<r;h++)if(_p(l=e[a])){for(u=a;u>s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Nb(l),u=a-t;u<=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Nb(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}for(h=1;h<r;h++)if(_p(l=e[a])){for(u=a;u<s;)e[u]=e[u+t],u+=t;e[s]=l}else{for(o=Nb(l),u=a-t;u>=f&&(!((c=e[u])<=l)||o&&c===l&&!1===Nb(c));)e[u+t]=c,u-=t;e[u+t]=l,a+=t}return e}));var Zb=bt((0,r.join)(__dirname,"./native.js")),Kb=wt(Zb)?Xb:Zb,Qb=[701,301,132,57,23,10,4,1],r_=Qb.length;function n_(r,n,e,t){var i,o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(t*=-1),i=t<0?(1-r)*t:0,s=0;s<r_;s++)for(l=a=Qb[s];l<r;l++)if(!_p(u=e[i+l*t])){for(o=Nb(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e}var e_=Qb.length;z(n_,"ndarray",(function(r,n,e,t,i){var o,a,u,f,s,l,c;if(r<=0||0===n)return e;for(n<0&&(i-=(r-1)*(t*=-1)),s=0;s<e_;s++)for(l=a=Qb[s];l<r;l++)if(!_p(u=e[i+l*t])){for(o=Nb(u),c=l;c>=a&&(!((f=e[i+(c-a)*t])<=u)||o&&f===u);c-=a)e[i+c*t]=f;e[i+c*t]=u}return e}));var t_=bt((0,r.join)(__dirname,"./native.js")),i_=wt(t_)?n_:t_;function o_(r,n,e){var t,i,o,a,u,f;if(r<=0)return 0;if(1===r||0===e)return n[0];for(i=e<0?(1-r)*e:0,t=0,u=0,f=0;f<r;f++)o=n[i],a=oe(t+o),u=Dt(t)>=Dt(o)?oe(u+oe(oe(t-a)+o)):oe(u+oe(oe(o-a)+t)),t=a,i+=e;return oe(t+u)}z(o_,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s;if(r<=0)return 0;if(1===r||0===e)return n[t];for(o=t,i=0,f=0,s=0;s<r;s++)a=n[o],u=oe(i+a),f=Dt(i)>=Dt(a)?oe(f+oe(oe(i-u)+a)):oe(f+oe(oe(a-u)+i)),i=u,o+=e;return oe(i+f)}));var a_,u_=bt((0,r.join)(__dirname,"./native.js")),f_=a_=wt(u_)?o_:u_;const{ndarray:s_}=a_;function l_(r,n,e){return f_(r,n,e)}z(l_,"ndarray",(function(r,n,e,t){return s_(r,n,e,t)}));var c_=bt((0,r.join)(__dirname,"./native.js")),h_=wt(c_)?l_:c_;function m_(r,n,e){var t,i,o,a,u,f,s,l,c;if(r<=0)return 0;if(1===r||0===e)return n[0];for(o=e<0?(1-r)*e:0,t=0,i=0,a=0,c=0;c<r;c++)f=n[o],s=oe(t+f),l=Dt(t)>=Dt(f)?oe(oe(t-s)+f):oe(oe(f-s)+t),t=s,s=oe(a+l),u=Dt(a)>=Dt(l)?oe(oe(a-s)+l):oe(oe(l-s)+a),a=s,i=oe(i+u),o+=e;return oe(t+oe(a+i))}z(m_,"ndarray",(function(r,n,e,t){var i,o,a,u,f,s,l,c,h;if(r<=0)return 0;if(1===r||0===e)return n[t];for(a=t,i=0,o=0,u=0,h=0;h<r;h++)s=n[a],l=oe(i+s),c=Dt(i)>=Dt(s)?oe(oe(i-l)+s):oe(oe(s-l)+i),i=l,l=oe(u+c),f=Dt(u)>=Dt(c)?oe(oe(u-l)+c):oe(oe(c-l)+u),u=l,o=oe(o+f),a+=e;return oe(i+oe(u+o))}));var d_=bt((0,r.join)(__dirname,"./native.js")),g_=wt(d_)?m_:d_;function p_(r,n,e){var t,i,o;if(t=0,r<=0)return t;if(1===r||0===e)return n[0];for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t=oe(t+n[i]),i+=e;return t}z(p_,"ndarray",(function(r,n,e,t){var i,o,a;if(i=0,r<=0)return i;if(1===r||0===e)return n[t];for(o=t,a=0;a<r;a++)i=oe(i+n[o]),o+=e;return i}));var v_=bt((0,r.join)(__dirname,"./native.js")),y_=wt(v_)?p_:v_,w_=128;function b_(r,n,e,t){var i,o,a,u,f,s,l,c,h,m,d,g,p;if(r<=0)return 0;if(1===r||0===e)return n[t];if(i=t,r<8){for(d=0,p=0;p<r;p++)d=oe(d+n[i]),i+=e;return d}if(r<=w_){for(o=n[i],a=n[i+e],u=n[i+2*e],f=n[i+3*e],s=n[i+4*e],l=n[i+5*e],c=n[i+6*e],h=n[i+7*e],i+=8*e,m=r%8,p=8;p<r-m;p+=8)o=oe(o+n[i]),a=oe(a+n[i+e]),u=oe(u+n[i+2*e]),f=oe(f+n[i+3*e]),s=oe(s+n[i+4*e]),l=oe(l+n[i+5*e]),c=oe(c+n[i+6*e]),h=oe(h+n[i+7*e]),i+=8*e;for(d=oe(oe(oe(o+a)+oe(u+f))+oe(oe(s+l)+oe(c+h)));p<r;p++)d=oe(d+n[i]),i+=e;return d}return g=gn(r/2),oe(b_(g-=g%8,n,e,i)+b_(r-g,n,e,i+g*e))}function __(r,n,e){var t,i,o;if(r<=0)return 0;if(1===r||0===e)return n[0];if(t=e<0?(1-r)*e:0,r<8){for(i=0,o=0;o<r;o++)i=oe(i+n[t]),t+=e;return i}return b_(r,n,e,t)}z(__,"ndarray",b_);var E_=bt((0,r.join)(__dirname,"./native.js")),T_=wt(E_)?__:E_,j_={};C(j_,"dapx",wd),C(j_,"dapxsum",Od),C(j_,"dapxsumkbn",jd),C(j_,"dapxsumkbn2",kd),C(j_,"dapxsumors",Nd),C(j_,"dapxsumpw",Dd),C(j_,"dasumpw",$d),C(j_,"dcusum",ng),C(j_,"dcusumkbn",Zd),C(j_,"dcusumkbn2",ig),C(j_,"dcusumors",ug),C(j_,"dcusumpw",hg),C(j_,"dfill",ea),C(j_,"dnanasum",bg),C(j_,"dnanasumors",pg),C(j_,"dnannsum",Rg),C(j_,"dnannsumkbn",jg),C(j_,"dnannsumkbn2",Ag),C(j_,"dnannsumors",Lg),C(j_,"dnannsumpw",Pg),C(j_,"dnansum",$g),C(j_,"dnansumkbn",Yg),C(j_,"dnansumkbn2",Xg),C(j_,"dnansumors",Qg),C(j_,"dnansumpw",ip),C(j_,"drev",up),C(j_,"dsapxsum",vp),C(j_,"dsapxsumpw",mp),C(j_,"dsnannsumors",bp),C(j_,"dsnansum",Ap),C(j_,"dsnansumors",Lp),C(j_,"dsnansumpw",Sp),C(j_,"dsort2hp",Np),C(j_,"dsort2ins",zp),C(j_,"dsort2sh",$p),C(j_,"dsorthp",Xp),C(j_,"dsortins",Qp),C(j_,"dsortsh",ov),C(j_,"dssum",gv),C(j_,"dssumors",yv),C(j_,"dssumpw",cv),C(j_,"dsum",xv),C(j_,"dsumkbn",Ev),C(j_,"dsumkbn2",Ov),C(j_,"dsumors",Iv),C(j_,"dsumpw",Nv),C(j_,"gapx",Uv),C(j_,"gapxsum",zv),C(j_,"gapxsumkbn",Pv),C(j_,"gapxsumkbn2",Dv),C(j_,"gapxsumors",Yv),C(j_,"gapxsumpw",Gv),C(j_,"gasumpw",Hv),C(j_,"gcusum",Kv),C(j_,"gcusumkbn",Xv),C(j_,"gcusumkbn2",Qv),C(j_,"gcusumors",ry),C(j_,"gcusumpw",ty),C(j_,"gfill",oy),C(j_,"gfillBy",uy),C(j_,"gnannsumkbn",fy),C(j_,"gnansum",cy),C(j_,"gnansumkbn",sy),C(j_,"gnansumkbn2",hy),C(j_,"gnansumors",my),C(j_,"gnansumpw",py),C(j_,"grev",yy),C(j_,"gsort2hp",wy),C(j_,"gsort2ins",by),C(j_,"gsort2sh",Ty),C(j_,"gsorthp",Vy),C(j_,"gsortins",xy),C(j_,"gsortsh",Oy),C(j_,"gsum",ky),C(j_,"gsumkbn",Ay),C(j_,"gsumkbn2",Ly),C(j_,"gsumors",By),C(j_,"gsumpw",Uy),C(j_,"sapx",zy),C(j_,"sapxsum",Hy),C(j_,"sapxsumkbn",qy),C(j_,"sapxsumkbn2",Ky),C(j_,"sapxsumors",nw),C(j_,"sapxsumpw",aw),C(j_,"sasumpw",cw),C(j_,"scusum",ww),C(j_,"scusumkbn",gw),C(j_,"scusumkbn2",Ew),C(j_,"scusumors",Vw),C(j_,"scusumpw",Fw),C(j_,"sdsapxsum",Cw),C(j_,"sdsapxsumpw",Mw),C(j_,"sdsnansum",Xw),C(j_,"sdsnansumpw",Gw),C(j_,"sdssum",ab),C(j_,"sdssumpw",eb),C(j_,"sfill",xs),C(j_,"snansum",db),C(j_,"snansumkbn",lb),C(j_,"snansumkbn2",vb),C(j_,"snansumors",bb),C(j_,"snansumpw",Vb),C(j_,"srev",Rb),C(j_,"ssort2hp",Lb),C(j_,"ssort2ins",Cb),C(j_,"ssort2sh",Gb),C(j_,"ssorthp",Hb),C(j_,"ssortins",Kb),C(j_,"ssortsh",i_),C(j_,"ssum",h_),C(j_,"ssumkbn",f_),C(j_,"ssumkbn2",g_),C(j_,"ssumors",y_),C(j_,"ssumpw",T_);var V_={};function x_(r){return Kc(r)&&"float32"===r.dtype}C(V_,"base",j_);var S_=md(yl,"float32"),R_={};return C(R_,"base",ec),C(R_,"ddot",(function(r,n){var e,t,i,o,a,u,f,s,l,c,h,m,d,g,p,v;if(!Qc(r))throw new TypeError(A("invalid argument. First argument must be an ndarray containing double-precision floating-point numbers. Value: `%s`.",r));if(!Qc(n))throw new TypeError(A("invalid argument. Second argument must be an ndarray containing double-precision floating-point numbers. Value: `%s`.",n));if(l=Zh(r),c=Zh(n),t=l.shape,i=c.shape,t.length<1)throw new TypeError(A("invalid argument. First argument must have at least one dimension."));if(i.length<1)throw new TypeError(A("invalid argument. Second argument must have at least one dimension."));if(arguments.length>2){if(!rh(e=arguments[2]))throw new TypeError(A("invalid argument. Third argument must be a negative integer. Value: `%s`.",e))}else e=-1;if(-1===(e=ih(e,d=th(t.length,i.length)-1)))throw new RangeError(A("invalid argument. Third argument must be a value on the interval: [%d,%d]. Value: `%d`.",-d,-1,arguments[2]));if(g=t[e],i[e]!==g)throw new RangeError(A("invalid argument. The size of the contracted dimension must be the same for both input ndarrays. Dim(%s,%d) = %d. Dim(%s,%d) = %d.","x",e,g,"y",e,i[e]));try{s=Nh([l,c])}catch(r){throw new Error(A("invalid arguments. Input ndarrays must be broadcast compatible. Shape(%s) = (%s). Shape(%s) = (%s).","x",t.join(","),"y",i.join(",")))}if(l=s[0],c=s[1],f=hd(o=_h(l.shape,e),{dtype:l.dtype,order:l.order}),0===o.length)return p=li(g,l.data,l.strides[0],l.offset,c.data,c.strides[0],c.offset),f.iset(p),f;for(a=qm(l,[e]),u=qm(c,[e]),v=0;v<Eh(o);v++)h=a.next().value,m=u.next().value,p=li(g,h.data,h.strides[0],h.offset,m.data,m.strides[0],m.offset),f.iset(v,p);return f})),C(R_,"dswap",dd),C(R_,"ext",V_),C(R_,"gdot",(function(r,n){var e,t,i,o,a,u,f,s;if(a=Kc(r),f=Kc(n),u=a&&1===r.ndims&&1===r.strides.length,s=f&&1===n.ndims&&1===n.strides.length,u)t=!(e=hr(r.data))&&yr(r.data);else{if(!1!==a||!Sn(r))throw new TypeError(A("invalid argument. First argument must be either an array-like object or a one-dimensional ndarray. Value: `%s`.",r));t=!(e=hr(r))&&yr(r)}if(s)o=!(i=hr(n.data))&&yr(n.data);else{if(!1!==f||!Sn(n))throw new TypeError(A("invalid argument. Second argument must be either an array-like object or a one-dimensional ndarray. Value: `%s`.",n));o=!(i=hr(n))&&yr(n)}if(r.length!==n.length)throw new RangeError(A("invalid argument. Arrays must be the same length. First argument length: `%u`. Second argument length: `%u`.",r.length,n.length));return u&&s?e&&i?li(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset):t&&o?gs(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset):Qa(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset):u?Qa(r.length,r.data,r.strides[0],r.offset,n,1,0):s?Qa(r.length,r,1,0,n.data,n.strides[0],n.offset):Qa(r.length,r,1,0,n,1,0)})),C(R_,"gswap",(function(r,n){var e,t,i,o,a,u,f,s;if(a=Kc(r),f=Kc(n),u=a&&1===r.ndims&&1===r.strides.length,s=f&&1===n.ndims&&1===n.strides.length,u)t=!(e=hr(r.data))&&yr(r.data);else{if(!1!==a||!Sn(r))throw new TypeError(A("invalid argument. First argument must be either an array-like object or a one-dimensional ndarray. Value: `%s`.",r));t=!(e=hr(r))&&yr(r)}if(s)o=!(i=hr(n.data))&&yr(n.data);else{if(!1!==f||!Sn(n))throw new TypeError(A("invalid argument. Second argument must be either an array-like object or a one-dimensional ndarray. Value: `%s`.",n));o=!(i=hr(n))&&yr(n)}if(r.length!==n.length)throw new RangeError(A("invalid argument. Arrays must be the same length. First argument length: `%u`. Second argument length: `%u`.",r.length,n.length));return u&&s?e&&i?(da(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset),n):t&&o?(yl(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset),n):(pf(r.length,r.data,r.strides[0],r.offset,n.data,n.strides[0],n.offset),n):u?(pf(r.length,r.data,r.strides[0],r.offset,n,1,0),n):s?(pf(r.length,r,1,0,n.data,n.strides[0],n.offset),n):(pf(r.length,r,1,0,n,1,0),n)})),C(R_,"sdot",(function(r,n){var e,t,i,o,a,u,f,s,l,c,h,m,d,g,p,v;if(!x_(r))throw new TypeError(A("invalid argument. First argument must be an ndarray containing single-precision floating-point numbers. Value: `%s`.",r));if(!x_(n))throw new TypeError(A("invalid argument. Second argument must be an ndarray containing single-precision floating-point numbers. Value: `%s`.",n));if(l=Zh(r),c=Zh(n),t=l.shape,i=c.shape,t.length<1)throw new TypeError(A("invalid argument. First argument must have at least one dimension."));if(i.length<1)throw new TypeError(A("invalid argument. Second argument must have at least one dimension."));if(arguments.length>2){if(!rh(e=arguments[2]))throw new TypeError(A("invalid argument. Third argument must be a negative integer. Value: `%s`.",e))}else e=-1;if(-1===(e=ih(e,d=th(t.length,i.length)-1)))throw new RangeError(A("invalid argument. Third argument must be a value on the interval: [%d,%d]. Value: `%d`.",-d,-1,arguments[2]));if(g=t[e],i[e]!==g)throw new RangeError(A("invalid argument. The size of the contracted dimension must be the same for both input ndarrays. Dim(%s,%d) = %d. Dim(%s,%d) = %d.","x",e,g,"y",e,i[e]));try{s=Nh([l,c])}catch(r){throw new Error(A("invalid arguments. Input ndarrays must be broadcast compatible. Shape(%s) = (%s). Shape(%s) = (%s).","x",t.join(","),"y",i.join(",")))}if(l=s[0],c=s[1],f=hd(o=_h(l.shape,e),{dtype:l.dtype,order:l.order}),0===o.length)return p=gs(g,l.data,l.strides[0],l.offset,c.data,c.strides[0],c.offset),f.iset(p),f;for(a=qm(l,[e]),u=qm(c,[e]),v=0;v<Eh(o);v++)h=a.next().value,m=u.next().value,p=gs(g,h.data,h.strides[0],h.offset,m.data,m.strides[0],m.offset),f.iset(v,p);return f})),C(R_,"sswap",S_),R_}));
//# sourceMappingURL=index.js.map
